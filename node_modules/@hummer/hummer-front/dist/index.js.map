{"version":3,"file":"index.js","sources":["../src/base/Environment.ts","../src/component/NotifyCenter.ts","../src/common/utils.ts","../src/base/Global.ts","../src/component/BasicAnimation.ts","../src/component/ImagePicker.ts","../node_modules/hammerjs/hammer.js","../src/component/event/InputEvent.ts","../src/component/event/PanEvent.ts","../src/component/event/PinchEvent.ts","../src/component/event/SwipeEvent.ts","../src/component/event/TapEvent.ts","../src/component/event/TouchEvent.ts","../src/component/event/LongPressEvent.ts","../src/component/event/ScrollEvent.ts","../src/component/event/Event.ts","../src/component/KeyframeAnimation.ts","../src/common/style/transformer/unit.ts","../src/common/cases.ts","../src/common/style/index.ts","../src/component/view/View.ts","../src/component/view/Image.ts","../src/component/Interaction.ts","../src/component/Location.ts","../src/component/Memory.ts","../src/component/Navigator.ts","../src/component/Phone.ts","../src/component/Response.ts","../src/component/Request.ts","../src/component/Socket.ts","../src/component/Storage.ts","../src/component/Timer.ts","../src/component/event/SwitchEvent.ts","../src/component/view/Button.ts","../src/component/view/Carousel.ts","../node_modules/better-scroll/dist/better-scroll.esm.js","../src/component/view/HorizontalScroller.ts","../src/component/view/Input.ts","../src/component/view/List.ts","../src/component/view/Scroller.ts","../src/component/view/Switch.ts","../src/component/view/Text.ts","../src/component/view/TextArea.ts","../src/common/swiper.js","../node_modules/rollup-plugin-node-globals/src/global.js","../node_modules/process-es6/browser.js","../node_modules/@tweenjs/tween.js/src/Tween.js","../src/component/view/ViewPager.ts","../src/component/view/Canvas.ts"],"sourcesContent":["export class Environment {\n  appName: string\n  safeAreaBottom: number\n  appVersion: string\n  deviceHeight: string\n  deviceWidth: string\n  availableHeight: string\n  statusBarHeight: number\n  availableWidth: string\n  osVersion: string\n  platform: string\n  scale: number\n  remUEWidthInPixel: number\n  remUEWidthInPixelRatio: number\n  model: string\n  extraParams: {\n    [key: string]: string\n  }\n\n  constructor() {\n    this.appName = ''\n    this.safeAreaBottom = 0\n    this.appVersion = ''\n    this.deviceHeight = ((self != top)?document.body.offsetHeight:window.screen.height) + 'dp'\n    this.deviceWidth = ((self != top)?document.body.offsetWidth:window.screen.width) + 'dp'\n    this.availableHeight = ((self != top)?document.body.offsetHeight:window.screen.availHeight) + 'dp'\n    this.availableWidth = ((self != top)?document.body.offsetHeight:window.screen.availWidth) + 'dp'\n    this.statusBarHeight = 0\n    this.osVersion = ''\n    this.platform = 'web'\n    this.scale = window.devicePixelRatio\n    this.remUEWidthInPixel = 750\n    this.remUEWidthInPixelRatio = 2\n    this.model = ''\n    this.extraParams = {\n      system: 'iOS',\n      brand: 'apple'\n    }\n  }\n}\n","export interface NotifyListener {\n  (target: any): void\n}\n\nexport class NotifyCenter {\n  private listeners: { [key: string]: Array<NotifyListener> } = {}\n\n  addEventListener(key: string, listener: NotifyListener) {\n    if (!this.listeners[key]) {\n      this.listeners[key] = []\n    }\n    this.listeners[key].push(listener)\n  }\n\n  removeEventListener(key: string, listener: NotifyListener) {\n    if (this.listeners[key]) {\n      this.listeners[key] = this.listeners[key].filter(\n        _listener => _listener !== listener\n      )\n    }\n  }\n\n  triggerEvent(key: string, args: any) {\n    if (this.listeners[key]) {\n      this.listeners[key].forEach(listener => {\n        listener({ target: args })\n      })\n    }\n  }\n}\n","import { toKebabCase } from './cases'\nimport { Hummer } from '../base/Global'\n/**\n * TODO Format Unit 实现\n * @param size \n * @returns \n */\nexport function formatUnit(size: number | string) {\n  let reg = /^[+-]?(\\d|[1-9]\\d+)(\\.\\d+)?$/;\n  size = size + ''\n  if (reg.test(size)) {\n    size = parseFloat(size);\n    return `${size}px`\n  } else {\n    if (size.indexOf('dp') !== -1 || size.indexOf('pt') !== -1) {\n      size = parseFloat(size);\n      return `${size}px`\n    } else if (size.indexOf('rem') !== -1) {\n      return `${parseFloat(size) * 100}rem`\n    } else if (size.indexOf('hm') !== -1) {\n      return size.replace('hm', 'rem')\n    } else if (size.indexOf('calc') !== -1) {\n      return size\n    } else if (size.indexOf('px') !== -1) {\n      size = parseFloat(size) / Hummer.env.scale;\n      return `${size}px`\n    } else {\n      if (size.match(/rotate3d|rotateX|rotateY|rotateZ|rotate/g)) {\n        size = size.replace(/(rotate3d|rotateX|rotateY|rotateZ|rotate)\\(([\\d\\D]*?)\\)/g, function (word) {\n          if (/rotate3d\\(([\\d\\D]*?)\\)/.test(word)) {\n            return `${word.split(',')[0]},${word.split(',')[1]},${word.split(',')[2]},${parseFloat(word.split(',')[3])}deg)`\n          } else {\n            return `${word.split('(')[0]}(${parseFloat(word.split('(')[1])}deg)`\n          }\n        })\n      }\n      if (size.match(/skewY|skewX|skew/g)) {\n        size = size.replace(/(skewY|skewX|skew)\\(([\\d\\D]*?)\\)/g, function (word) {\n          if (/skew\\(([\\d\\D]*?)\\)/.test(word)) {\n            return `${word.split('(')[0]}(${parseFloat(word.split('(')[1].split(',')[0])}deg,${parseFloat(word.split('(')[1].split(',')[1])}deg)`\n          } else {\n            return `${word.split('(')[0]}(${parseFloat(word.split('(')[1])}deg)`\n          }\n        })\n      }\n      return size\n    }\n  }\n}\n/**\n * tenon样式格式化纯数字px单位\n * @param size \n * @returns \n */\nexport function formatPureNumberPxUnit(size: number | string): number {\n  let formatUnitResult = formatUnit(size)\n  if (formatUnitResult.indexOf('rem') !== -1) {\n    return (parseFloat(formatUnitResult) / 750 * (inIframe() ? document.body.offsetWidth : window.screen.width));\n  } else if (formatUnitResult.indexOf('px') !== -1) {\n    return parseFloat(formatUnitResult.replace('px', ''))\n  }\n}\n\n/**\n * web样式格式化纯数字px单位\n * @param size \n * @returns \n */\nexport function formatWebPureNumberPxUnit(size: string): number {\n  let formatUnitResult = size || '0'\n  if (formatUnitResult.indexOf('rem') !== -1) {\n    return (parseFloat(formatUnitResult) / 750 * (inIframe() ? document.body.offsetWidth : window.screen.width));\n  } else if (formatUnitResult.indexOf('px') !== -1) {\n    return parseFloat(formatUnitResult.replace('px', ''))\n  } else {\n    return parseFloat(formatUnitResult)\n  }\n}\n\n\n/**\n * 将字符串转换为判断是否存在对象中的字符串，空间换时间\n * @param str 待判断的字符串 a,b\n * @param expectedLowerCase 是否要转换为小写\n * @returns \n */\nexport function makeMap(str: string, expectedLowerCase: Boolean = false) {\n  const map = Object.create(null)\n  const list: Array<string> = str.split(',')\n  for (let i = 0; i < list.length; i++) {\n    map[list[i]] = true\n  }\n  return expectedLowerCase ? (val: any) => !!map[val.toLowerCase()] : (val: any) => !!map[val]\n}\n\n/**\n * 将数组转换为判断是否存在对象中的字符串，空间换时间\n * @param str 待判断的数组 [a,b]\n * @param expectedLowerCase 是否要转换为小写\n * @returns \n */\nexport function makeMapByArr(list: any, expectedLowerCase: Boolean = false) {\n  const map = Object.create(null)\n  for (let i = 0; i < list.length; i++) {\n    map[list[i]] = true\n  }\n  return expectedLowerCase ? (val: any) => !!map[val.toLowerCase()] : (val: any) => !!map[val]\n}\n\n/**\n * 将数组转换为判断是否存在对象中的字符串，空间换时间\n * @param str 待判断的数组 [a,b]\n * @param expectedLowerCase 是否要转换为小写\n * @returns \n */\nexport function makeMapByArrOfKebab(list: any) {\n  const map = Object.create(null)\n  for (let i = 0; i < list.length; i++) {\n    map[list[i]] = true\n  }\n  return (val: any) => !!map[toKebabCase(val)]\n}\n\n/**\n * 监听元素尺寸变化，用于判断元素渲染\n * @param node dom元素\n */\nexport const nodeObserver = (node: | HTMLElement\n  | HTMLImageElement\n  | HTMLButtonElement\n  | HTMLInputElement\n  | HTMLTextAreaElement\n  | HTMLSpanElement\n  | any, callback: Function) => {\n  const nodeObserver = new ResizeObserver(mutations => {\n    callback(mutations)\n  })\n  nodeObserver.observe(node)\n  return nodeObserver\n}\n\n/**\n * 获取url参数\n * @param key 参数的key\n */\nexport const getQueryVariable = (key: string, url?: string) => {\n  var query = url ? url.split('?')[1] : window.location.search.substring(1);\n  var vars = query.split(\"&\");\n  for (var i = 0; i < vars.length; i++) {\n    var pair = vars[i].split(\"=\");\n    if (pair[0] == key) { return pair[1]; }\n  }\n  return (false);\n}\n\n/**\n * 添加或者修改url参数\n * @param url 需要添加的url\n * @param key 参数的key\n * @param value 参数的value\n */\nexport const updateQueryStringParameter = (url: string, key: string, value: any) => {\n  if (!value) {\n    return url;\n  }\n  var re = new RegExp(\"([?&])\" + key + \"=.*?(&|$)\", \"i\");\n  var separator = url.indexOf('?') !== -1 ? \"&\" : \"?\";\n  if (url.match(re)) {\n    return url.replace(re, '$1' + key + \"=\" + value + '$2');\n  }\n  else {\n    return url + separator + key + \"=\" + value;\n  }\n}\n/**\n * 判断当前页面是否在iframe里\n * @returns \n */\nexport const inIframe = () => {\n  if (self != top) {\n    return true;\n  } else {\n    return false;\n  }\n}\n/**\n * 节流\n * @param fn 需要节流的函数\n * @param wait 节流的时间\n */\nexport const throttle = (fn: Function, wait: number = 200) => {\n  var timeout;\n  return function () {\n    var ctx = this, args = arguments;\n    clearTimeout(timeout);\n    timeout = setTimeout(function () {\n      fn.apply(ctx, args);\n    }, wait);\n  };\n}\n/**\n * 防抖\n * @param func 需要防抖的函数\n * @param wait 防抖的时间\n * @param flag (布尔值):是否需要第一次触发事件立即执行(不传入flag则默认为false,不会立即执行第一次)\n */\nexport const debounce = (func: Function, wait: number, flag: boolean) => {\n  let timer, args, that;\n  return function () {\n    //args包含了func的事件对象,that为func的this指向(应当指向事件源)\n    args = arguments;\n    that = this;\n    let callnow = flag && !timer;\n    if (callnow) func.apply(that, args); //不传入参数flag这段行代码不执行\n    clearTimeout(timer);\n    timer = setTimeout(function () {\n      timer = null;\n      if (!flag) func.apply(that, args);\n    }, wait);\n  };\n}\n\nexport const getBoxModelValue = (elem: any):object => {\n  return {\n    display: getStyle(elem, \"display\"),\n    position: getStyle(elem, \"position\"),\n    top: getStyle(elem, \"top\"),\n    right: getStyle(elem, \"right\"),\n    bottom: getStyle(elem, \"bottom\"),\n    left: getStyle(elem, \"left\"),\n    marginTop: getStyle(elem, \"marginTop\"),\n    marginRight: getStyle(elem, \"marginRight\"),\n    marginBottom: getStyle(elem, \"marginBottom\"),\n    marginLeft: getStyle(elem, \"marginLeft\"),\n    borderTopWidth: getStyle(elem, \"borderTopWidth\"),\n    borderRightWidth: getStyle(elem, \"borderRightWidth\"),\n    borderBottomWidth: getStyle(elem, \"borderBottomWidth\"),\n    borderLeftWidth: getStyle(elem, \"borderLeftWidth\"),\n    paddingTop: getStyle(elem, \"paddingTop\"),\n    paddingRight: getStyle(elem, \"paddingRight\"),\n    paddingBottom: getStyle(elem, \"paddingBottom\"),\n    paddingLeft: getStyle(elem, \"paddingLeft\"),\n    contentWidth:\n      elem.offsetWidth -\n      parseInt(getStyle(elem, \"paddingLeft\")) -\n      parseInt(getStyle(elem, \"paddingRight\")) -\n      parseInt(getStyle(elem, \"borderLeftWidth\")) -\n      parseInt(getStyle(elem, \"borderRightWidth\")),\n    contentHeight:\n      elem.offsetHeight -\n      parseInt(getStyle(elem, \"paddingTop\")) -\n      parseInt(getStyle(elem, \"paddingBottom\")) -\n      parseInt(getStyle(elem, \"borderTopWidth\")) -\n      parseInt(getStyle(elem, \"borderBottomWidth\")),\n    windowTop: elem.getBoundingClientRect().top,\n    windowLeft: elem.getBoundingClientRect().left,\n    offsetWidth: elem.offsetWidth,\n    offsetHeight: elem.offsetHeight,\n    nodeName: elem.nodeName.toLowerCase(),\n    id: elem.id,\n    className: elem.className,\n    __view_id: elem.__view_id,\n    nodeType: elem.nodeType,\n    tagName: elem.tagName,\n  };\n}\nconst getStyle = (elem: any, attr: string) => {\n  let attrStyle = null;\n  if (elem?.currentStyle) {\n    attrStyle = elem.currentStyle[attr];\n  } else {\n    attrStyle = document.defaultView.getComputedStyle(elem, null)[attr];\n  }\n  if (attrStyle.indexOf(\"px\") !== -1) {\n    return /\\d+/.exec(attrStyle)[0];\n  } else {\n    return attrStyle;\n  }\n}\n","import { Environment } from './Environment'\nimport { NotifyCenter } from '../component/NotifyCenter'\nimport { getQueryVariable, inIframe, debounce,getBoxModelValue } from '../common/utils'\n\nexport class HummerGlobal {\n  setTitle(setTitle: string): any { }\n  setNavigationBarMode(mode: number): any { }\n  setNavigationBarColor(color: string): any { }\n  setScrollTracker(view: any, options: any): any { }\n  arWidgetDisplay(isDisplay: boolean): any { }\n  notifyCenter: NotifyCenter\n  env: Environment\n  pageInfo: any\n  params: any\n  private observer: any\n  private targetNode: any\n  setBasicWidth(width: number): any { }\n\n  constructor() {\n    this.notifyCenter = new NotifyCenter()\n    this.env = new Environment()\n    getQueryVariable('pageInfo')\n    this.pageInfo = JSON.parse(decodeURIComponent(getQueryVariable('pageInfo') || '{}'))\n  }\n  render(page: any) {\n    window.addEventListener('load', () => {\n      const body = document.getElementsByTagName('body')[0]\n      body.appendChild(page.node)\n      const event = new CustomEvent('render-ready', {})\n      window.dispatchEvent(event)\n      this.isWebSimulator()\n    })\n  }\n  private isWebSimulator() {\n    if (inIframe()) {\n      this.onScroll = debounce(this.onScroll, 200, false);\n      this.elementhighlight = debounce(this.elementhighlight, 200, true);\n      const ObserverFunc = window.MutationObserver || (window as any).WebkitMutationObserver;\n      this.observer = new ObserverFunc((mutationsList, observer) => {\n        this.elementhighlight()\n      });\n      window.onmessage = (e) => {\n        (window as any).openElementMap = e.data\n        if (e.data) {\n          document.body.style.cursor = 'pointer'\n          document.body.addEventListener(\"click\", this.elementClick.bind(this), true);\n          window.addEventListener(\"scroll\", this.onScroll.bind(this))\n        } else {\n          this.observer.disconnect();\n          document.body.style.cursor = 'default'\n          document.body.removeEventListener(\"click\", this.elementClick.bind(this), true);\n          window.removeEventListener(\"scroll\", this.onScroll.bind(this))\n        }\n      };\n    }\n  }\n  private onScroll() {\n    if (this.targetNode) {\n      this.elementhighlight()\n    }\n  }\n  private elementClick(e) {\n    const config = { attributes: true, childList: true, subtree: true };\n    e.preventDefault();\n    e.stopImmediatePropagation();\n    if (e.target?.__view_id && this.targetNode !== e.target) {\n      let scroller = this.getScroller(e.target)\n      this.observer.disconnect();\n      this.targetNode = e.target\n      this.elementhighlight()\n      this.observer.observe(e.target, config);\n      this.observer.observe(scroller, config);\n    }\n  }\n  private elementhighlight() {\n    if (this.targetNode) {\n      let nodeInfo = getBoxModelValue(this.targetNode)\n      window.parent.postMessage(nodeInfo, \"*\");\n    }\n  }\n  private getScroller(elem) {\n    if (elem.parentNode.className.indexOf('hm-scroller-content') != -1 || elem.parentNode.className.indexOf('hm-list-content') != -1) {\n      return elem.parentNode\n    } else {\n      return this.getScroller(elem.parentNode)\n    }\n  }\n}\nglobalThis.Hummer = new HummerGlobal()\nexport const Hummer = new HummerGlobal()\n","/**\n * Animatable CSS properties\n * https://developer.mozilla.org/en-US/docs/Web/CSS/CSS_animated_properties\n * https://developer.mozilla.org/zh-CN/docs/Web/CSS/CSS_Transitions/Using_CSS_transitions\n */\nexport type KeyPath =\n  | 'position'\n  | 'scale'\n  | 'scaleX'\n  | 'scaleY'\n  | 'rotationX'\n  | 'rotationY'\n  | 'rotationZ'\n  | 'opacity'\n  | 'backgroundColor'\n\nexport type EasingType =\n  | 'linear'\n  | 'ease'\n  | 'ease-in'\n  | 'ease-out'\n  | 'ease-in-out'\n\nexport interface PointValue {\n  x: string | number\n  y: string | number\n}\n\n/** backgroundColor: '#fff'; position: {x: '1px', y: '1px'}; scale: 1; rotate: 45; opacity: 0.1  */\nexport type ValueType = string | number | PointValue\n\nexport class BasicAnimation {\n  // 动画时间间隔（s）\n  duration: number = 0\n  // 动画延迟时间（s）\n  delay: number = 0\n  // 重复次数 < 0 :无数次\n  repeatCount: number = 1\n  value!: ValueType\n  easing: EasingType = 'linear'\n\n  onstart!: Function\n  onend!: Function\n  on(type: string, callback: Function) {\n    if(type === 'start' ){\n      this.onstart = callback\n    } else if(type === 'end'){\n      this.onend = callback\n    }\n  }\n\n  removeAnimation!: Function\n\n  constructor(public path: KeyPath) {}\n}\n","export class ImagePicker {\n  // @ts-ignore\n  public maxSize: 100;\n  takePhoto(filePath: string):void {}\n  pickImage(filePath: string):void {}\n}\n","/*! Hammer.JS - v2.0.7 - 2016-04-22\n * http://hammerjs.github.io/\n *\n * Copyright (c) 2016 Jorik Tangelder;\n * Licensed under the MIT license */\n(function(window, document, exportName, undefined) {\n  'use strict';\n\nvar VENDOR_PREFIXES = ['', 'webkit', 'Moz', 'MS', 'ms', 'o'];\nvar TEST_ELEMENT = document.createElement('div');\n\nvar TYPE_FUNCTION = 'function';\n\nvar round = Math.round;\nvar abs = Math.abs;\nvar now = Date.now;\n\n/**\n * set a timeout with a given scope\n * @param {Function} fn\n * @param {Number} timeout\n * @param {Object} context\n * @returns {number}\n */\nfunction setTimeoutContext(fn, timeout, context) {\n    return setTimeout(bindFn(fn, context), timeout);\n}\n\n/**\n * if the argument is an array, we want to execute the fn on each entry\n * if it aint an array we don't want to do a thing.\n * this is used by all the methods that accept a single and array argument.\n * @param {*|Array} arg\n * @param {String} fn\n * @param {Object} [context]\n * @returns {Boolean}\n */\nfunction invokeArrayArg(arg, fn, context) {\n    if (Array.isArray(arg)) {\n        each(arg, context[fn], context);\n        return true;\n    }\n    return false;\n}\n\n/**\n * walk objects and arrays\n * @param {Object} obj\n * @param {Function} iterator\n * @param {Object} context\n */\nfunction each(obj, iterator, context) {\n    var i;\n\n    if (!obj) {\n        return;\n    }\n\n    if (obj.forEach) {\n        obj.forEach(iterator, context);\n    } else if (obj.length !== undefined) {\n        i = 0;\n        while (i < obj.length) {\n            iterator.call(context, obj[i], i, obj);\n            i++;\n        }\n    } else {\n        for (i in obj) {\n            obj.hasOwnProperty(i) && iterator.call(context, obj[i], i, obj);\n        }\n    }\n}\n\n/**\n * wrap a method with a deprecation warning and stack trace\n * @param {Function} method\n * @param {String} name\n * @param {String} message\n * @returns {Function} A new function wrapping the supplied method.\n */\nfunction deprecate(method, name, message) {\n    var deprecationMessage = 'DEPRECATED METHOD: ' + name + '\\n' + message + ' AT \\n';\n    return function() {\n        var e = new Error('get-stack-trace');\n        var stack = e && e.stack ? e.stack.replace(/^[^\\(]+?[\\n$]/gm, '')\n            .replace(/^\\s+at\\s+/gm, '')\n            .replace(/^Object.<anonymous>\\s*\\(/gm, '{anonymous}()@') : 'Unknown Stack Trace';\n\n        var log = window.console && (window.console.warn || window.console.log);\n        if (log) {\n            log.call(window.console, deprecationMessage, stack);\n        }\n        return method.apply(this, arguments);\n    };\n}\n\n/**\n * extend object.\n * means that properties in dest will be overwritten by the ones in src.\n * @param {Object} target\n * @param {...Object} objects_to_assign\n * @returns {Object} target\n */\nvar assign;\nif (typeof Object.assign !== 'function') {\n    assign = function assign(target) {\n        if (target === undefined || target === null) {\n            throw new TypeError('Cannot convert undefined or null to object');\n        }\n\n        var output = Object(target);\n        for (var index = 1; index < arguments.length; index++) {\n            var source = arguments[index];\n            if (source !== undefined && source !== null) {\n                for (var nextKey in source) {\n                    if (source.hasOwnProperty(nextKey)) {\n                        output[nextKey] = source[nextKey];\n                    }\n                }\n            }\n        }\n        return output;\n    };\n} else {\n    assign = Object.assign;\n}\n\n/**\n * extend object.\n * means that properties in dest will be overwritten by the ones in src.\n * @param {Object} dest\n * @param {Object} src\n * @param {Boolean} [merge=false]\n * @returns {Object} dest\n */\nvar extend = deprecate(function extend(dest, src, merge) {\n    var keys = Object.keys(src);\n    var i = 0;\n    while (i < keys.length) {\n        if (!merge || (merge && dest[keys[i]] === undefined)) {\n            dest[keys[i]] = src[keys[i]];\n        }\n        i++;\n    }\n    return dest;\n}, 'extend', 'Use `assign`.');\n\n/**\n * merge the values from src in the dest.\n * means that properties that exist in dest will not be overwritten by src\n * @param {Object} dest\n * @param {Object} src\n * @returns {Object} dest\n */\nvar merge = deprecate(function merge(dest, src) {\n    return extend(dest, src, true);\n}, 'merge', 'Use `assign`.');\n\n/**\n * simple class inheritance\n * @param {Function} child\n * @param {Function} base\n * @param {Object} [properties]\n */\nfunction inherit(child, base, properties) {\n    var baseP = base.prototype,\n        childP;\n\n    childP = child.prototype = Object.create(baseP);\n    childP.constructor = child;\n    childP._super = baseP;\n\n    if (properties) {\n        assign(childP, properties);\n    }\n}\n\n/**\n * simple function bind\n * @param {Function} fn\n * @param {Object} context\n * @returns {Function}\n */\nfunction bindFn(fn, context) {\n    return function boundFn() {\n        return fn.apply(context, arguments);\n    };\n}\n\n/**\n * let a boolean value also be a function that must return a boolean\n * this first item in args will be used as the context\n * @param {Boolean|Function} val\n * @param {Array} [args]\n * @returns {Boolean}\n */\nfunction boolOrFn(val, args) {\n    if (typeof val == TYPE_FUNCTION) {\n        return val.apply(args ? args[0] || undefined : undefined, args);\n    }\n    return val;\n}\n\n/**\n * use the val2 when val1 is undefined\n * @param {*} val1\n * @param {*} val2\n * @returns {*}\n */\nfunction ifUndefined(val1, val2) {\n    return (val1 === undefined) ? val2 : val1;\n}\n\n/**\n * addEventListener with multiple events at once\n * @param {EventTarget} target\n * @param {String} types\n * @param {Function} handler\n */\nfunction addEventListeners(target, types, handler) {\n    each(splitStr(types), function(type) {\n        target.addEventListener(type, handler, false);\n    });\n}\n\n/**\n * removeEventListener with multiple events at once\n * @param {EventTarget} target\n * @param {String} types\n * @param {Function} handler\n */\nfunction removeEventListeners(target, types, handler) {\n    each(splitStr(types), function(type) {\n        target.removeEventListener(type, handler, false);\n    });\n}\n\n/**\n * find if a node is in the given parent\n * @method hasParent\n * @param {HTMLElement} node\n * @param {HTMLElement} parent\n * @return {Boolean} found\n */\nfunction hasParent(node, parent) {\n    while (node) {\n        if (node == parent) {\n            return true;\n        }\n        node = node.parentNode;\n    }\n    return false;\n}\n\n/**\n * small indexOf wrapper\n * @param {String} str\n * @param {String} find\n * @returns {Boolean} found\n */\nfunction inStr(str, find) {\n    return str.indexOf(find) > -1;\n}\n\n/**\n * split string on whitespace\n * @param {String} str\n * @returns {Array} words\n */\nfunction splitStr(str) {\n    return str.trim().split(/\\s+/g);\n}\n\n/**\n * find if a array contains the object using indexOf or a simple polyFill\n * @param {Array} src\n * @param {String} find\n * @param {String} [findByKey]\n * @return {Boolean|Number} false when not found, or the index\n */\nfunction inArray(src, find, findByKey) {\n    if (src.indexOf && !findByKey) {\n        return src.indexOf(find);\n    } else {\n        var i = 0;\n        while (i < src.length) {\n            if ((findByKey && src[i][findByKey] == find) || (!findByKey && src[i] === find)) {\n                return i;\n            }\n            i++;\n        }\n        return -1;\n    }\n}\n\n/**\n * convert array-like objects to real arrays\n * @param {Object} obj\n * @returns {Array}\n */\nfunction toArray(obj) {\n    return Array.prototype.slice.call(obj, 0);\n}\n\n/**\n * unique array with objects based on a key (like 'id') or just by the array's value\n * @param {Array} src [{id:1},{id:2},{id:1}]\n * @param {String} [key]\n * @param {Boolean} [sort=False]\n * @returns {Array} [{id:1},{id:2}]\n */\nfunction uniqueArray(src, key, sort) {\n    var results = [];\n    var values = [];\n    var i = 0;\n\n    while (i < src.length) {\n        var val = key ? src[i][key] : src[i];\n        if (inArray(values, val) < 0) {\n            results.push(src[i]);\n        }\n        values[i] = val;\n        i++;\n    }\n\n    if (sort) {\n        if (!key) {\n            results = results.sort();\n        } else {\n            results = results.sort(function sortUniqueArray(a, b) {\n                return a[key] > b[key];\n            });\n        }\n    }\n\n    return results;\n}\n\n/**\n * get the prefixed property\n * @param {Object} obj\n * @param {String} property\n * @returns {String|Undefined} prefixed\n */\nfunction prefixed(obj, property) {\n    var prefix, prop;\n    var camelProp = property[0].toUpperCase() + property.slice(1);\n\n    var i = 0;\n    while (i < VENDOR_PREFIXES.length) {\n        prefix = VENDOR_PREFIXES[i];\n        prop = (prefix) ? prefix + camelProp : property;\n\n        if (prop in obj) {\n            return prop;\n        }\n        i++;\n    }\n    return undefined;\n}\n\n/**\n * get a unique id\n * @returns {number} uniqueId\n */\nvar _uniqueId = 1;\nfunction uniqueId() {\n    return _uniqueId++;\n}\n\n/**\n * get the window object of an element\n * @param {HTMLElement} element\n * @returns {DocumentView|Window}\n */\nfunction getWindowForElement(element) {\n    var doc = element.ownerDocument || element;\n    return (doc.defaultView || doc.parentWindow || window);\n}\n\nvar MOBILE_REGEX = /mobile|tablet|ip(ad|hone|od)|android/i;\n\nvar SUPPORT_TOUCH = ('ontouchstart' in window);\nvar SUPPORT_POINTER_EVENTS = prefixed(window, 'PointerEvent') !== undefined;\nvar SUPPORT_ONLY_TOUCH = SUPPORT_TOUCH && MOBILE_REGEX.test(navigator.userAgent);\n\nvar INPUT_TYPE_TOUCH = 'touch';\nvar INPUT_TYPE_PEN = 'pen';\nvar INPUT_TYPE_MOUSE = 'mouse';\nvar INPUT_TYPE_KINECT = 'kinect';\n\nvar COMPUTE_INTERVAL = 25;\n\nvar INPUT_START = 1;\nvar INPUT_MOVE = 2;\nvar INPUT_END = 4;\nvar INPUT_CANCEL = 8;\n\nvar DIRECTION_NONE = 1;\nvar DIRECTION_LEFT = 2;\nvar DIRECTION_RIGHT = 4;\nvar DIRECTION_UP = 8;\nvar DIRECTION_DOWN = 16;\n\nvar DIRECTION_HORIZONTAL = DIRECTION_LEFT | DIRECTION_RIGHT;\nvar DIRECTION_VERTICAL = DIRECTION_UP | DIRECTION_DOWN;\nvar DIRECTION_ALL = DIRECTION_HORIZONTAL | DIRECTION_VERTICAL;\n\nvar PROPS_XY = ['x', 'y'];\nvar PROPS_CLIENT_XY = ['clientX', 'clientY'];\n\n/**\n * create new input type manager\n * @param {Manager} manager\n * @param {Function} callback\n * @returns {Input}\n * @constructor\n */\nfunction Input(manager, callback) {\n    var self = this;\n    this.manager = manager;\n    this.callback = callback;\n    this.element = manager.element;\n    this.target = manager.options.inputTarget;\n\n    // smaller wrapper around the handler, for the scope and the enabled state of the manager,\n    // so when disabled the input events are completely bypassed.\n    this.domHandler = function(ev) {\n        if (boolOrFn(manager.options.enable, [manager])) {\n            self.handler(ev);\n        }\n    };\n\n    this.init();\n\n}\n\nInput.prototype = {\n    /**\n     * should handle the inputEvent data and trigger the callback\n     * @virtual\n     */\n    handler: function() { },\n\n    /**\n     * bind the events\n     */\n    init: function() {\n        this.evEl && addEventListeners(this.element, this.evEl, this.domHandler);\n        this.evTarget && addEventListeners(this.target, this.evTarget, this.domHandler);\n        this.evWin && addEventListeners(getWindowForElement(this.element), this.evWin, this.domHandler);\n    },\n\n    /**\n     * unbind the events\n     */\n    destroy: function() {\n        this.evEl && removeEventListeners(this.element, this.evEl, this.domHandler);\n        this.evTarget && removeEventListeners(this.target, this.evTarget, this.domHandler);\n        this.evWin && removeEventListeners(getWindowForElement(this.element), this.evWin, this.domHandler);\n    }\n};\n\n/**\n * create new input type manager\n * called by the Manager constructor\n * @param {Hammer} manager\n * @returns {Input}\n */\nfunction createInputInstance(manager) {\n    var Type;\n    var inputClass = manager.options.inputClass;\n\n    if (inputClass) {\n        Type = inputClass;\n    } else if (SUPPORT_POINTER_EVENTS) {\n        Type = PointerEventInput;\n    } else if (SUPPORT_ONLY_TOUCH) {\n        Type = TouchInput;\n    } else if (!SUPPORT_TOUCH) {\n        Type = MouseInput;\n    } else {\n        Type = TouchMouseInput;\n    }\n    return new (Type)(manager, inputHandler);\n}\n\n/**\n * handle input events\n * @param {Manager} manager\n * @param {String} eventType\n * @param {Object} input\n */\nfunction inputHandler(manager, eventType, input) {\n    var pointersLen = input.pointers.length;\n    var changedPointersLen = input.changedPointers.length;\n    var isFirst = (eventType & INPUT_START && (pointersLen - changedPointersLen === 0));\n    var isFinal = (eventType & (INPUT_END | INPUT_CANCEL) && (pointersLen - changedPointersLen === 0));\n\n    input.isFirst = !!isFirst;\n    input.isFinal = !!isFinal;\n\n    if (isFirst) {\n        manager.session = {};\n    }\n\n    // source event is the normalized value of the domEvents\n    // like 'touchstart, mouseup, pointerdown'\n    input.eventType = eventType;\n\n    // compute scale, rotation etc\n    computeInputData(manager, input);\n\n    // emit secret event\n    manager.emit('hammer.input', input);\n\n    manager.recognize(input);\n    manager.session.prevInput = input;\n}\n\n/**\n * extend the data with some usable properties like scale, rotate, velocity etc\n * @param {Object} manager\n * @param {Object} input\n */\nfunction computeInputData(manager, input) {\n    var session = manager.session;\n    var pointers = input.pointers;\n    var pointersLength = pointers.length;\n\n    // store the first input to calculate the distance and direction\n    if (!session.firstInput) {\n        session.firstInput = simpleCloneInputData(input);\n    }\n\n    // to compute scale and rotation we need to store the multiple touches\n    if (pointersLength > 1 && !session.firstMultiple) {\n        session.firstMultiple = simpleCloneInputData(input);\n    } else if (pointersLength === 1) {\n        session.firstMultiple = false;\n    }\n\n    var firstInput = session.firstInput;\n    var firstMultiple = session.firstMultiple;\n    var offsetCenter = firstMultiple ? firstMultiple.center : firstInput.center;\n\n    var center = input.center = getCenter(pointers);\n    input.timeStamp = now();\n    input.deltaTime = input.timeStamp - firstInput.timeStamp;\n\n    input.angle = getAngle(offsetCenter, center);\n    input.distance = getDistance(offsetCenter, center);\n\n    computeDeltaXY(session, input);\n    input.offsetDirection = getDirection(input.deltaX, input.deltaY);\n\n    var overallVelocity = getVelocity(input.deltaTime, input.deltaX, input.deltaY);\n    input.overallVelocityX = overallVelocity.x;\n    input.overallVelocityY = overallVelocity.y;\n    input.overallVelocity = (abs(overallVelocity.x) > abs(overallVelocity.y)) ? overallVelocity.x : overallVelocity.y;\n\n    input.scale = firstMultiple ? getScale(firstMultiple.pointers, pointers) : 1;\n    input.rotation = firstMultiple ? getRotation(firstMultiple.pointers, pointers) : 0;\n\n    input.maxPointers = !session.prevInput ? input.pointers.length : ((input.pointers.length >\n        session.prevInput.maxPointers) ? input.pointers.length : session.prevInput.maxPointers);\n\n    computeIntervalInputData(session, input);\n\n    // find the correct target\n    var target = manager.element;\n    if (hasParent(input.srcEvent.target, target)) {\n        target = input.srcEvent.target;\n    }\n    input.target = target;\n}\n\nfunction computeDeltaXY(session, input) {\n    var center = input.center;\n    var offset = session.offsetDelta || {};\n    var prevDelta = session.prevDelta || {};\n    var prevInput = session.prevInput || {};\n\n    if (input.eventType === INPUT_START || prevInput.eventType === INPUT_END) {\n        prevDelta = session.prevDelta = {\n            x: prevInput.deltaX || 0,\n            y: prevInput.deltaY || 0\n        };\n\n        offset = session.offsetDelta = {\n            x: center.x,\n            y: center.y\n        };\n    }\n\n    input.deltaX = prevDelta.x + (center.x - offset.x);\n    input.deltaY = prevDelta.y + (center.y - offset.y);\n}\n\n/**\n * velocity is calculated every x ms\n * @param {Object} session\n * @param {Object} input\n */\nfunction computeIntervalInputData(session, input) {\n    var last = session.lastInterval || input,\n        deltaTime = input.timeStamp - last.timeStamp,\n        velocity, velocityX, velocityY, direction;\n\n    if (input.eventType != INPUT_CANCEL && (deltaTime > COMPUTE_INTERVAL || last.velocity === undefined)) {\n        var deltaX = input.deltaX - last.deltaX;\n        var deltaY = input.deltaY - last.deltaY;\n\n        var v = getVelocity(deltaTime, deltaX, deltaY);\n        velocityX = v.x;\n        velocityY = v.y;\n        velocity = (abs(v.x) > abs(v.y)) ? v.x : v.y;\n        direction = getDirection(deltaX, deltaY);\n\n        session.lastInterval = input;\n    } else {\n        // use latest velocity info if it doesn't overtake a minimum period\n        velocity = last.velocity;\n        velocityX = last.velocityX;\n        velocityY = last.velocityY;\n        direction = last.direction;\n    }\n\n    input.velocity = velocity;\n    input.velocityX = velocityX;\n    input.velocityY = velocityY;\n    input.direction = direction;\n}\n\n/**\n * create a simple clone from the input used for storage of firstInput and firstMultiple\n * @param {Object} input\n * @returns {Object} clonedInputData\n */\nfunction simpleCloneInputData(input) {\n    // make a simple copy of the pointers because we will get a reference if we don't\n    // we only need clientXY for the calculations\n    var pointers = [];\n    var i = 0;\n    while (i < input.pointers.length) {\n        pointers[i] = {\n            clientX: round(input.pointers[i].clientX),\n            clientY: round(input.pointers[i].clientY)\n        };\n        i++;\n    }\n\n    return {\n        timeStamp: now(),\n        pointers: pointers,\n        center: getCenter(pointers),\n        deltaX: input.deltaX,\n        deltaY: input.deltaY\n    };\n}\n\n/**\n * get the center of all the pointers\n * @param {Array} pointers\n * @return {Object} center contains `x` and `y` properties\n */\nfunction getCenter(pointers) {\n    var pointersLength = pointers.length;\n\n    // no need to loop when only one touch\n    if (pointersLength === 1) {\n        return {\n            x: round(pointers[0].clientX),\n            y: round(pointers[0].clientY)\n        };\n    }\n\n    var x = 0, y = 0, i = 0;\n    while (i < pointersLength) {\n        x += pointers[i].clientX;\n        y += pointers[i].clientY;\n        i++;\n    }\n\n    return {\n        x: round(x / pointersLength),\n        y: round(y / pointersLength)\n    };\n}\n\n/**\n * calculate the velocity between two points. unit is in px per ms.\n * @param {Number} deltaTime\n * @param {Number} x\n * @param {Number} y\n * @return {Object} velocity `x` and `y`\n */\nfunction getVelocity(deltaTime, x, y) {\n    return {\n        x: x / deltaTime || 0,\n        y: y / deltaTime || 0\n    };\n}\n\n/**\n * get the direction between two points\n * @param {Number} x\n * @param {Number} y\n * @return {Number} direction\n */\nfunction getDirection(x, y) {\n    if (x === y) {\n        return DIRECTION_NONE;\n    }\n\n    if (abs(x) >= abs(y)) {\n        return x < 0 ? DIRECTION_LEFT : DIRECTION_RIGHT;\n    }\n    return y < 0 ? DIRECTION_UP : DIRECTION_DOWN;\n}\n\n/**\n * calculate the absolute distance between two points\n * @param {Object} p1 {x, y}\n * @param {Object} p2 {x, y}\n * @param {Array} [props] containing x and y keys\n * @return {Number} distance\n */\nfunction getDistance(p1, p2, props) {\n    if (!props) {\n        props = PROPS_XY;\n    }\n    var x = p2[props[0]] - p1[props[0]],\n        y = p2[props[1]] - p1[props[1]];\n\n    return Math.sqrt((x * x) + (y * y));\n}\n\n/**\n * calculate the angle between two coordinates\n * @param {Object} p1\n * @param {Object} p2\n * @param {Array} [props] containing x and y keys\n * @return {Number} angle\n */\nfunction getAngle(p1, p2, props) {\n    if (!props) {\n        props = PROPS_XY;\n    }\n    var x = p2[props[0]] - p1[props[0]],\n        y = p2[props[1]] - p1[props[1]];\n    return Math.atan2(y, x) * 180 / Math.PI;\n}\n\n/**\n * calculate the rotation degrees between two pointersets\n * @param {Array} start array of pointers\n * @param {Array} end array of pointers\n * @return {Number} rotation\n */\nfunction getRotation(start, end) {\n    return getAngle(end[1], end[0], PROPS_CLIENT_XY) + getAngle(start[1], start[0], PROPS_CLIENT_XY);\n}\n\n/**\n * calculate the scale factor between two pointersets\n * no scale is 1, and goes down to 0 when pinched together, and bigger when pinched out\n * @param {Array} start array of pointers\n * @param {Array} end array of pointers\n * @return {Number} scale\n */\nfunction getScale(start, end) {\n    return getDistance(end[0], end[1], PROPS_CLIENT_XY) / getDistance(start[0], start[1], PROPS_CLIENT_XY);\n}\n\nvar MOUSE_INPUT_MAP = {\n    mousedown: INPUT_START,\n    mousemove: INPUT_MOVE,\n    mouseup: INPUT_END\n};\n\nvar MOUSE_ELEMENT_EVENTS = 'mousedown';\nvar MOUSE_WINDOW_EVENTS = 'mousemove mouseup';\n\n/**\n * Mouse events input\n * @constructor\n * @extends Input\n */\nfunction MouseInput() {\n    this.evEl = MOUSE_ELEMENT_EVENTS;\n    this.evWin = MOUSE_WINDOW_EVENTS;\n\n    this.pressed = false; // mousedown state\n\n    Input.apply(this, arguments);\n}\n\ninherit(MouseInput, Input, {\n    /**\n     * handle mouse events\n     * @param {Object} ev\n     */\n    handler: function MEhandler(ev) {\n        var eventType = MOUSE_INPUT_MAP[ev.type];\n\n        // on start we want to have the left mouse button down\n        if (eventType & INPUT_START && ev.button === 0) {\n            this.pressed = true;\n        }\n\n        if (eventType & INPUT_MOVE && ev.which !== 1) {\n            eventType = INPUT_END;\n        }\n\n        // mouse must be down\n        if (!this.pressed) {\n            return;\n        }\n\n        if (eventType & INPUT_END) {\n            this.pressed = false;\n        }\n\n        this.callback(this.manager, eventType, {\n            pointers: [ev],\n            changedPointers: [ev],\n            pointerType: INPUT_TYPE_MOUSE,\n            srcEvent: ev\n        });\n    }\n});\n\nvar POINTER_INPUT_MAP = {\n    pointerdown: INPUT_START,\n    pointermove: INPUT_MOVE,\n    pointerup: INPUT_END,\n    pointercancel: INPUT_CANCEL,\n    pointerout: INPUT_CANCEL\n};\n\n// in IE10 the pointer types is defined as an enum\nvar IE10_POINTER_TYPE_ENUM = {\n    2: INPUT_TYPE_TOUCH,\n    3: INPUT_TYPE_PEN,\n    4: INPUT_TYPE_MOUSE,\n    5: INPUT_TYPE_KINECT // see https://twitter.com/jacobrossi/status/480596438489890816\n};\n\nvar POINTER_ELEMENT_EVENTS = 'pointerdown';\nvar POINTER_WINDOW_EVENTS = 'pointermove pointerup pointercancel';\n\n// IE10 has prefixed support, and case-sensitive\nif (window.MSPointerEvent && !window.PointerEvent) {\n    POINTER_ELEMENT_EVENTS = 'MSPointerDown';\n    POINTER_WINDOW_EVENTS = 'MSPointerMove MSPointerUp MSPointerCancel';\n}\n\n/**\n * Pointer events input\n * @constructor\n * @extends Input\n */\nfunction PointerEventInput() {\n    this.evEl = POINTER_ELEMENT_EVENTS;\n    this.evWin = POINTER_WINDOW_EVENTS;\n\n    Input.apply(this, arguments);\n\n    this.store = (this.manager.session.pointerEvents = []);\n}\n\ninherit(PointerEventInput, Input, {\n    /**\n     * handle mouse events\n     * @param {Object} ev\n     */\n    handler: function PEhandler(ev) {\n        var store = this.store;\n        var removePointer = false;\n\n        var eventTypeNormalized = ev.type.toLowerCase().replace('ms', '');\n        var eventType = POINTER_INPUT_MAP[eventTypeNormalized];\n        var pointerType = IE10_POINTER_TYPE_ENUM[ev.pointerType] || ev.pointerType;\n\n        var isTouch = (pointerType == INPUT_TYPE_TOUCH);\n\n        // get index of the event in the store\n        var storeIndex = inArray(store, ev.pointerId, 'pointerId');\n\n        // start and mouse must be down\n        if (eventType & INPUT_START && (ev.button === 0 || isTouch)) {\n            if (storeIndex < 0) {\n                store.push(ev);\n                storeIndex = store.length - 1;\n            }\n        } else if (eventType & (INPUT_END | INPUT_CANCEL)) {\n            removePointer = true;\n        }\n\n        // it not found, so the pointer hasn't been down (so it's probably a hover)\n        if (storeIndex < 0) {\n            return;\n        }\n\n        // update the event in the store\n        store[storeIndex] = ev;\n\n        this.callback(this.manager, eventType, {\n            pointers: store,\n            changedPointers: [ev],\n            pointerType: pointerType,\n            srcEvent: ev\n        });\n\n        if (removePointer) {\n            // remove from the store\n            store.splice(storeIndex, 1);\n        }\n    }\n});\n\nvar SINGLE_TOUCH_INPUT_MAP = {\n    touchstart: INPUT_START,\n    touchmove: INPUT_MOVE,\n    touchend: INPUT_END,\n    touchcancel: INPUT_CANCEL\n};\n\nvar SINGLE_TOUCH_TARGET_EVENTS = 'touchstart';\nvar SINGLE_TOUCH_WINDOW_EVENTS = 'touchstart touchmove touchend touchcancel';\n\n/**\n * Touch events input\n * @constructor\n * @extends Input\n */\nfunction SingleTouchInput() {\n    this.evTarget = SINGLE_TOUCH_TARGET_EVENTS;\n    this.evWin = SINGLE_TOUCH_WINDOW_EVENTS;\n    this.started = false;\n\n    Input.apply(this, arguments);\n}\n\ninherit(SingleTouchInput, Input, {\n    handler: function TEhandler(ev) {\n        var type = SINGLE_TOUCH_INPUT_MAP[ev.type];\n\n        // should we handle the touch events?\n        if (type === INPUT_START) {\n            this.started = true;\n        }\n\n        if (!this.started) {\n            return;\n        }\n\n        var touches = normalizeSingleTouches.call(this, ev, type);\n\n        // when done, reset the started state\n        if (type & (INPUT_END | INPUT_CANCEL) && touches[0].length - touches[1].length === 0) {\n            this.started = false;\n        }\n\n        this.callback(this.manager, type, {\n            pointers: touches[0],\n            changedPointers: touches[1],\n            pointerType: INPUT_TYPE_TOUCH,\n            srcEvent: ev\n        });\n    }\n});\n\n/**\n * @this {TouchInput}\n * @param {Object} ev\n * @param {Number} type flag\n * @returns {undefined|Array} [all, changed]\n */\nfunction normalizeSingleTouches(ev, type) {\n    var all = toArray(ev.touches);\n    var changed = toArray(ev.changedTouches);\n\n    if (type & (INPUT_END | INPUT_CANCEL)) {\n        all = uniqueArray(all.concat(changed), 'identifier', true);\n    }\n\n    return [all, changed];\n}\n\nvar TOUCH_INPUT_MAP = {\n    touchstart: INPUT_START,\n    touchmove: INPUT_MOVE,\n    touchend: INPUT_END,\n    touchcancel: INPUT_CANCEL\n};\n\nvar TOUCH_TARGET_EVENTS = 'touchstart touchmove touchend touchcancel';\n\n/**\n * Multi-user touch events input\n * @constructor\n * @extends Input\n */\nfunction TouchInput() {\n    this.evTarget = TOUCH_TARGET_EVENTS;\n    this.targetIds = {};\n\n    Input.apply(this, arguments);\n}\n\ninherit(TouchInput, Input, {\n    handler: function MTEhandler(ev) {\n        var type = TOUCH_INPUT_MAP[ev.type];\n        var touches = getTouches.call(this, ev, type);\n        if (!touches) {\n            return;\n        }\n\n        this.callback(this.manager, type, {\n            pointers: touches[0],\n            changedPointers: touches[1],\n            pointerType: INPUT_TYPE_TOUCH,\n            srcEvent: ev\n        });\n    }\n});\n\n/**\n * @this {TouchInput}\n * @param {Object} ev\n * @param {Number} type flag\n * @returns {undefined|Array} [all, changed]\n */\nfunction getTouches(ev, type) {\n    var allTouches = toArray(ev.touches);\n    var targetIds = this.targetIds;\n\n    // when there is only one touch, the process can be simplified\n    if (type & (INPUT_START | INPUT_MOVE) && allTouches.length === 1) {\n        targetIds[allTouches[0].identifier] = true;\n        return [allTouches, allTouches];\n    }\n\n    var i,\n        targetTouches,\n        changedTouches = toArray(ev.changedTouches),\n        changedTargetTouches = [],\n        target = this.target;\n\n    // get target touches from touches\n    targetTouches = allTouches.filter(function(touch) {\n        return hasParent(touch.target, target);\n    });\n\n    // collect touches\n    if (type === INPUT_START) {\n        i = 0;\n        while (i < targetTouches.length) {\n            targetIds[targetTouches[i].identifier] = true;\n            i++;\n        }\n    }\n\n    // filter changed touches to only contain touches that exist in the collected target ids\n    i = 0;\n    while (i < changedTouches.length) {\n        if (targetIds[changedTouches[i].identifier]) {\n            changedTargetTouches.push(changedTouches[i]);\n        }\n\n        // cleanup removed touches\n        if (type & (INPUT_END | INPUT_CANCEL)) {\n            delete targetIds[changedTouches[i].identifier];\n        }\n        i++;\n    }\n\n    if (!changedTargetTouches.length) {\n        return;\n    }\n\n    return [\n        // merge targetTouches with changedTargetTouches so it contains ALL touches, including 'end' and 'cancel'\n        uniqueArray(targetTouches.concat(changedTargetTouches), 'identifier', true),\n        changedTargetTouches\n    ];\n}\n\n/**\n * Combined touch and mouse input\n *\n * Touch has a higher priority then mouse, and while touching no mouse events are allowed.\n * This because touch devices also emit mouse events while doing a touch.\n *\n * @constructor\n * @extends Input\n */\n\nvar DEDUP_TIMEOUT = 2500;\nvar DEDUP_DISTANCE = 25;\n\nfunction TouchMouseInput() {\n    Input.apply(this, arguments);\n\n    var handler = bindFn(this.handler, this);\n    this.touch = new TouchInput(this.manager, handler);\n    this.mouse = new MouseInput(this.manager, handler);\n\n    this.primaryTouch = null;\n    this.lastTouches = [];\n}\n\ninherit(TouchMouseInput, Input, {\n    /**\n     * handle mouse and touch events\n     * @param {Hammer} manager\n     * @param {String} inputEvent\n     * @param {Object} inputData\n     */\n    handler: function TMEhandler(manager, inputEvent, inputData) {\n        var isTouch = (inputData.pointerType == INPUT_TYPE_TOUCH),\n            isMouse = (inputData.pointerType == INPUT_TYPE_MOUSE);\n\n        if (isMouse && inputData.sourceCapabilities && inputData.sourceCapabilities.firesTouchEvents) {\n            return;\n        }\n\n        // when we're in a touch event, record touches to  de-dupe synthetic mouse event\n        if (isTouch) {\n            recordTouches.call(this, inputEvent, inputData);\n        } else if (isMouse && isSyntheticEvent.call(this, inputData)) {\n            return;\n        }\n\n        this.callback(manager, inputEvent, inputData);\n    },\n\n    /**\n     * remove the event listeners\n     */\n    destroy: function destroy() {\n        this.touch.destroy();\n        this.mouse.destroy();\n    }\n});\n\nfunction recordTouches(eventType, eventData) {\n    if (eventType & INPUT_START) {\n        this.primaryTouch = eventData.changedPointers[0].identifier;\n        setLastTouch.call(this, eventData);\n    } else if (eventType & (INPUT_END | INPUT_CANCEL)) {\n        setLastTouch.call(this, eventData);\n    }\n}\n\nfunction setLastTouch(eventData) {\n    var touch = eventData.changedPointers[0];\n\n    if (touch.identifier === this.primaryTouch) {\n        var lastTouch = {x: touch.clientX, y: touch.clientY};\n        this.lastTouches.push(lastTouch);\n        var lts = this.lastTouches;\n        var removeLastTouch = function() {\n            var i = lts.indexOf(lastTouch);\n            if (i > -1) {\n                lts.splice(i, 1);\n            }\n        };\n        setTimeout(removeLastTouch, DEDUP_TIMEOUT);\n    }\n}\n\nfunction isSyntheticEvent(eventData) {\n    var x = eventData.srcEvent.clientX, y = eventData.srcEvent.clientY;\n    for (var i = 0; i < this.lastTouches.length; i++) {\n        var t = this.lastTouches[i];\n        var dx = Math.abs(x - t.x), dy = Math.abs(y - t.y);\n        if (dx <= DEDUP_DISTANCE && dy <= DEDUP_DISTANCE) {\n            return true;\n        }\n    }\n    return false;\n}\n\nvar PREFIXED_TOUCH_ACTION = prefixed(TEST_ELEMENT.style, 'touchAction');\nvar NATIVE_TOUCH_ACTION = PREFIXED_TOUCH_ACTION !== undefined;\n\n// magical touchAction value\nvar TOUCH_ACTION_COMPUTE = 'compute';\nvar TOUCH_ACTION_AUTO = 'auto';\nvar TOUCH_ACTION_MANIPULATION = 'manipulation'; // not implemented\nvar TOUCH_ACTION_NONE = 'none';\nvar TOUCH_ACTION_PAN_X = 'pan-x';\nvar TOUCH_ACTION_PAN_Y = 'pan-y';\nvar TOUCH_ACTION_MAP = getTouchActionProps();\n\n/**\n * Touch Action\n * sets the touchAction property or uses the js alternative\n * @param {Manager} manager\n * @param {String} value\n * @constructor\n */\nfunction TouchAction(manager, value) {\n    this.manager = manager;\n    this.set(value);\n}\n\nTouchAction.prototype = {\n    /**\n     * set the touchAction value on the element or enable the polyfill\n     * @param {String} value\n     */\n    set: function(value) {\n        // find out the touch-action by the event handlers\n        if (value == TOUCH_ACTION_COMPUTE) {\n            value = this.compute();\n        }\n\n        if (NATIVE_TOUCH_ACTION && this.manager.element.style && TOUCH_ACTION_MAP[value]) {\n            this.manager.element.style[PREFIXED_TOUCH_ACTION] = value;\n        }\n        this.actions = value.toLowerCase().trim();\n    },\n\n    /**\n     * just re-set the touchAction value\n     */\n    update: function() {\n        this.set(this.manager.options.touchAction);\n    },\n\n    /**\n     * compute the value for the touchAction property based on the recognizer's settings\n     * @returns {String} value\n     */\n    compute: function() {\n        var actions = [];\n        each(this.manager.recognizers, function(recognizer) {\n            if (boolOrFn(recognizer.options.enable, [recognizer])) {\n                actions = actions.concat(recognizer.getTouchAction());\n            }\n        });\n        return cleanTouchActions(actions.join(' '));\n    },\n\n    /**\n     * this method is called on each input cycle and provides the preventing of the browser behavior\n     * @param {Object} input\n     */\n    preventDefaults: function(input) {\n        var srcEvent = input.srcEvent;\n        var direction = input.offsetDirection;\n\n        // if the touch action did prevented once this session\n        if (this.manager.session.prevented) {\n            srcEvent.preventDefault();\n            return;\n        }\n\n        var actions = this.actions;\n        var hasNone = inStr(actions, TOUCH_ACTION_NONE) && !TOUCH_ACTION_MAP[TOUCH_ACTION_NONE];\n        var hasPanY = inStr(actions, TOUCH_ACTION_PAN_Y) && !TOUCH_ACTION_MAP[TOUCH_ACTION_PAN_Y];\n        var hasPanX = inStr(actions, TOUCH_ACTION_PAN_X) && !TOUCH_ACTION_MAP[TOUCH_ACTION_PAN_X];\n\n        if (hasNone) {\n            //do not prevent defaults if this is a tap gesture\n\n            var isTapPointer = input.pointers.length === 1;\n            var isTapMovement = input.distance < 2;\n            var isTapTouchTime = input.deltaTime < 250;\n\n            if (isTapPointer && isTapMovement && isTapTouchTime) {\n                return;\n            }\n        }\n\n        if (hasPanX && hasPanY) {\n            // `pan-x pan-y` means browser handles all scrolling/panning, do not prevent\n            return;\n        }\n\n        if (hasNone ||\n            (hasPanY && direction & DIRECTION_HORIZONTAL) ||\n            (hasPanX && direction & DIRECTION_VERTICAL)) {\n            return this.preventSrc(srcEvent);\n        }\n    },\n\n    /**\n     * call preventDefault to prevent the browser's default behavior (scrolling in most cases)\n     * @param {Object} srcEvent\n     */\n    preventSrc: function(srcEvent) {\n        this.manager.session.prevented = true;\n        srcEvent.preventDefault();\n    }\n};\n\n/**\n * when the touchActions are collected they are not a valid value, so we need to clean things up. *\n * @param {String} actions\n * @returns {*}\n */\nfunction cleanTouchActions(actions) {\n    // none\n    if (inStr(actions, TOUCH_ACTION_NONE)) {\n        return TOUCH_ACTION_NONE;\n    }\n\n    var hasPanX = inStr(actions, TOUCH_ACTION_PAN_X);\n    var hasPanY = inStr(actions, TOUCH_ACTION_PAN_Y);\n\n    // if both pan-x and pan-y are set (different recognizers\n    // for different directions, e.g. horizontal pan but vertical swipe?)\n    // we need none (as otherwise with pan-x pan-y combined none of these\n    // recognizers will work, since the browser would handle all panning\n    if (hasPanX && hasPanY) {\n        return TOUCH_ACTION_NONE;\n    }\n\n    // pan-x OR pan-y\n    if (hasPanX || hasPanY) {\n        return hasPanX ? TOUCH_ACTION_PAN_X : TOUCH_ACTION_PAN_Y;\n    }\n\n    // manipulation\n    if (inStr(actions, TOUCH_ACTION_MANIPULATION)) {\n        return TOUCH_ACTION_MANIPULATION;\n    }\n\n    return TOUCH_ACTION_AUTO;\n}\n\nfunction getTouchActionProps() {\n    if (!NATIVE_TOUCH_ACTION) {\n        return false;\n    }\n    var touchMap = {};\n    var cssSupports = window.CSS && window.CSS.supports;\n    ['auto', 'manipulation', 'pan-y', 'pan-x', 'pan-x pan-y', 'none'].forEach(function(val) {\n\n        // If css.supports is not supported but there is native touch-action assume it supports\n        // all values. This is the case for IE 10 and 11.\n        touchMap[val] = cssSupports ? window.CSS.supports('touch-action', val) : true;\n    });\n    return touchMap;\n}\n\n/**\n * Recognizer flow explained; *\n * All recognizers have the initial state of POSSIBLE when a input session starts.\n * The definition of a input session is from the first input until the last input, with all it's movement in it. *\n * Example session for mouse-input: mousedown -> mousemove -> mouseup\n *\n * On each recognizing cycle (see Manager.recognize) the .recognize() method is executed\n * which determines with state it should be.\n *\n * If the recognizer has the state FAILED, CANCELLED or RECOGNIZED (equals ENDED), it is reset to\n * POSSIBLE to give it another change on the next cycle.\n *\n *               Possible\n *                  |\n *            +-----+---------------+\n *            |                     |\n *      +-----+-----+               |\n *      |           |               |\n *   Failed      Cancelled          |\n *                          +-------+------+\n *                          |              |\n *                      Recognized       Began\n *                                         |\n *                                      Changed\n *                                         |\n *                                  Ended/Recognized\n */\nvar STATE_POSSIBLE = 1;\nvar STATE_BEGAN = 2;\nvar STATE_CHANGED = 4;\nvar STATE_ENDED = 8;\nvar STATE_RECOGNIZED = STATE_ENDED;\nvar STATE_CANCELLED = 16;\nvar STATE_FAILED = 32;\n\n/**\n * Recognizer\n * Every recognizer needs to extend from this class.\n * @constructor\n * @param {Object} options\n */\nfunction Recognizer(options) {\n    this.options = assign({}, this.defaults, options || {});\n\n    this.id = uniqueId();\n\n    this.manager = null;\n\n    // default is enable true\n    this.options.enable = ifUndefined(this.options.enable, true);\n\n    this.state = STATE_POSSIBLE;\n\n    this.simultaneous = {};\n    this.requireFail = [];\n}\n\nRecognizer.prototype = {\n    /**\n     * @virtual\n     * @type {Object}\n     */\n    defaults: {},\n\n    /**\n     * set options\n     * @param {Object} options\n     * @return {Recognizer}\n     */\n    set: function(options) {\n        assign(this.options, options);\n\n        // also update the touchAction, in case something changed about the directions/enabled state\n        this.manager && this.manager.touchAction.update();\n        return this;\n    },\n\n    /**\n     * recognize simultaneous with an other recognizer.\n     * @param {Recognizer} otherRecognizer\n     * @returns {Recognizer} this\n     */\n    recognizeWith: function(otherRecognizer) {\n        if (invokeArrayArg(otherRecognizer, 'recognizeWith', this)) {\n            return this;\n        }\n\n        var simultaneous = this.simultaneous;\n        otherRecognizer = getRecognizerByNameIfManager(otherRecognizer, this);\n        if (!simultaneous[otherRecognizer.id]) {\n            simultaneous[otherRecognizer.id] = otherRecognizer;\n            otherRecognizer.recognizeWith(this);\n        }\n        return this;\n    },\n\n    /**\n     * drop the simultaneous link. it doesnt remove the link on the other recognizer.\n     * @param {Recognizer} otherRecognizer\n     * @returns {Recognizer} this\n     */\n    dropRecognizeWith: function(otherRecognizer) {\n        if (invokeArrayArg(otherRecognizer, 'dropRecognizeWith', this)) {\n            return this;\n        }\n\n        otherRecognizer = getRecognizerByNameIfManager(otherRecognizer, this);\n        delete this.simultaneous[otherRecognizer.id];\n        return this;\n    },\n\n    /**\n     * recognizer can only run when an other is failing\n     * @param {Recognizer} otherRecognizer\n     * @returns {Recognizer} this\n     */\n    requireFailure: function(otherRecognizer) {\n        if (invokeArrayArg(otherRecognizer, 'requireFailure', this)) {\n            return this;\n        }\n\n        var requireFail = this.requireFail;\n        otherRecognizer = getRecognizerByNameIfManager(otherRecognizer, this);\n        if (inArray(requireFail, otherRecognizer) === -1) {\n            requireFail.push(otherRecognizer);\n            otherRecognizer.requireFailure(this);\n        }\n        return this;\n    },\n\n    /**\n     * drop the requireFailure link. it does not remove the link on the other recognizer.\n     * @param {Recognizer} otherRecognizer\n     * @returns {Recognizer} this\n     */\n    dropRequireFailure: function(otherRecognizer) {\n        if (invokeArrayArg(otherRecognizer, 'dropRequireFailure', this)) {\n            return this;\n        }\n\n        otherRecognizer = getRecognizerByNameIfManager(otherRecognizer, this);\n        var index = inArray(this.requireFail, otherRecognizer);\n        if (index > -1) {\n            this.requireFail.splice(index, 1);\n        }\n        return this;\n    },\n\n    /**\n     * has require failures boolean\n     * @returns {boolean}\n     */\n    hasRequireFailures: function() {\n        return this.requireFail.length > 0;\n    },\n\n    /**\n     * if the recognizer can recognize simultaneous with an other recognizer\n     * @param {Recognizer} otherRecognizer\n     * @returns {Boolean}\n     */\n    canRecognizeWith: function(otherRecognizer) {\n        return !!this.simultaneous[otherRecognizer.id];\n    },\n\n    /**\n     * You should use `tryEmit` instead of `emit` directly to check\n     * that all the needed recognizers has failed before emitting.\n     * @param {Object} input\n     */\n    emit: function(input) {\n        var self = this;\n        var state = this.state;\n\n        function emit(event) {\n            self.manager.emit(event, input);\n        }\n\n        // 'panstart' and 'panmove'\n        if (state < STATE_ENDED) {\n            emit(self.options.event + stateStr(state));\n        }\n\n        emit(self.options.event); // simple 'eventName' events\n\n        if (input.additionalEvent) { // additional event(panleft, panright, pinchin, pinchout...)\n            emit(input.additionalEvent);\n        }\n\n        // panend and pancancel\n        if (state >= STATE_ENDED) {\n            emit(self.options.event + stateStr(state));\n        }\n    },\n\n    /**\n     * Check that all the require failure recognizers has failed,\n     * if true, it emits a gesture event,\n     * otherwise, setup the state to FAILED.\n     * @param {Object} input\n     */\n    tryEmit: function(input) {\n        if (this.canEmit()) {\n            return this.emit(input);\n        }\n        // it's failing anyway\n        this.state = STATE_FAILED;\n    },\n\n    /**\n     * can we emit?\n     * @returns {boolean}\n     */\n    canEmit: function() {\n        var i = 0;\n        while (i < this.requireFail.length) {\n            if (!(this.requireFail[i].state & (STATE_FAILED | STATE_POSSIBLE))) {\n                return false;\n            }\n            i++;\n        }\n        return true;\n    },\n\n    /**\n     * update the recognizer\n     * @param {Object} inputData\n     */\n    recognize: function(inputData) {\n        // make a new copy of the inputData\n        // so we can change the inputData without messing up the other recognizers\n        var inputDataClone = assign({}, inputData);\n\n        // is is enabled and allow recognizing?\n        if (!boolOrFn(this.options.enable, [this, inputDataClone])) {\n            this.reset();\n            this.state = STATE_FAILED;\n            return;\n        }\n\n        // reset when we've reached the end\n        if (this.state & (STATE_RECOGNIZED | STATE_CANCELLED | STATE_FAILED)) {\n            this.state = STATE_POSSIBLE;\n        }\n\n        this.state = this.process(inputDataClone);\n\n        // the recognizer has recognized a gesture\n        // so trigger an event\n        if (this.state & (STATE_BEGAN | STATE_CHANGED | STATE_ENDED | STATE_CANCELLED)) {\n            this.tryEmit(inputDataClone);\n        }\n    },\n\n    /**\n     * return the state of the recognizer\n     * the actual recognizing happens in this method\n     * @virtual\n     * @param {Object} inputData\n     * @returns {Const} STATE\n     */\n    process: function(inputData) { }, // jshint ignore:line\n\n    /**\n     * return the preferred touch-action\n     * @virtual\n     * @returns {Array}\n     */\n    getTouchAction: function() { },\n\n    /**\n     * called when the gesture isn't allowed to recognize\n     * like when another is being recognized or it is disabled\n     * @virtual\n     */\n    reset: function() { }\n};\n\n/**\n * get a usable string, used as event postfix\n * @param {Const} state\n * @returns {String} state\n */\nfunction stateStr(state) {\n    if (state & STATE_CANCELLED) {\n        return 'cancel';\n    } else if (state & STATE_ENDED) {\n        return 'end';\n    } else if (state & STATE_CHANGED) {\n        return 'move';\n    } else if (state & STATE_BEGAN) {\n        return 'start';\n    }\n    return '';\n}\n\n/**\n * direction cons to string\n * @param {Const} direction\n * @returns {String}\n */\nfunction directionStr(direction) {\n    if (direction == DIRECTION_DOWN) {\n        return 'down';\n    } else if (direction == DIRECTION_UP) {\n        return 'up';\n    } else if (direction == DIRECTION_LEFT) {\n        return 'left';\n    } else if (direction == DIRECTION_RIGHT) {\n        return 'right';\n    }\n    return '';\n}\n\n/**\n * get a recognizer by name if it is bound to a manager\n * @param {Recognizer|String} otherRecognizer\n * @param {Recognizer} recognizer\n * @returns {Recognizer}\n */\nfunction getRecognizerByNameIfManager(otherRecognizer, recognizer) {\n    var manager = recognizer.manager;\n    if (manager) {\n        return manager.get(otherRecognizer);\n    }\n    return otherRecognizer;\n}\n\n/**\n * This recognizer is just used as a base for the simple attribute recognizers.\n * @constructor\n * @extends Recognizer\n */\nfunction AttrRecognizer() {\n    Recognizer.apply(this, arguments);\n}\n\ninherit(AttrRecognizer, Recognizer, {\n    /**\n     * @namespace\n     * @memberof AttrRecognizer\n     */\n    defaults: {\n        /**\n         * @type {Number}\n         * @default 1\n         */\n        pointers: 1\n    },\n\n    /**\n     * Used to check if it the recognizer receives valid input, like input.distance > 10.\n     * @memberof AttrRecognizer\n     * @param {Object} input\n     * @returns {Boolean} recognized\n     */\n    attrTest: function(input) {\n        var optionPointers = this.options.pointers;\n        return optionPointers === 0 || input.pointers.length === optionPointers;\n    },\n\n    /**\n     * Process the input and return the state for the recognizer\n     * @memberof AttrRecognizer\n     * @param {Object} input\n     * @returns {*} State\n     */\n    process: function(input) {\n        var state = this.state;\n        var eventType = input.eventType;\n\n        var isRecognized = state & (STATE_BEGAN | STATE_CHANGED);\n        var isValid = this.attrTest(input);\n\n        // on cancel input and we've recognized before, return STATE_CANCELLED\n        if (isRecognized && (eventType & INPUT_CANCEL || !isValid)) {\n            return state | STATE_CANCELLED;\n        } else if (isRecognized || isValid) {\n            if (eventType & INPUT_END) {\n                return state | STATE_ENDED;\n            } else if (!(state & STATE_BEGAN)) {\n                return STATE_BEGAN;\n            }\n            return state | STATE_CHANGED;\n        }\n        return STATE_FAILED;\n    }\n});\n\n/**\n * Pan\n * Recognized when the pointer is down and moved in the allowed direction.\n * @constructor\n * @extends AttrRecognizer\n */\nfunction PanRecognizer() {\n    AttrRecognizer.apply(this, arguments);\n\n    this.pX = null;\n    this.pY = null;\n}\n\ninherit(PanRecognizer, AttrRecognizer, {\n    /**\n     * @namespace\n     * @memberof PanRecognizer\n     */\n    defaults: {\n        event: 'pan',\n        threshold: 10,\n        pointers: 1,\n        direction: DIRECTION_ALL\n    },\n\n    getTouchAction: function() {\n        var direction = this.options.direction;\n        var actions = [];\n        if (direction & DIRECTION_HORIZONTAL) {\n            actions.push(TOUCH_ACTION_PAN_Y);\n        }\n        if (direction & DIRECTION_VERTICAL) {\n            actions.push(TOUCH_ACTION_PAN_X);\n        }\n        return actions;\n    },\n\n    directionTest: function(input) {\n        var options = this.options;\n        var hasMoved = true;\n        var distance = input.distance;\n        var direction = input.direction;\n        var x = input.deltaX;\n        var y = input.deltaY;\n\n        // lock to axis?\n        if (!(direction & options.direction)) {\n            if (options.direction & DIRECTION_HORIZONTAL) {\n                direction = (x === 0) ? DIRECTION_NONE : (x < 0) ? DIRECTION_LEFT : DIRECTION_RIGHT;\n                hasMoved = x != this.pX;\n                distance = Math.abs(input.deltaX);\n            } else {\n                direction = (y === 0) ? DIRECTION_NONE : (y < 0) ? DIRECTION_UP : DIRECTION_DOWN;\n                hasMoved = y != this.pY;\n                distance = Math.abs(input.deltaY);\n            }\n        }\n        input.direction = direction;\n        return hasMoved && distance > options.threshold && direction & options.direction;\n    },\n\n    attrTest: function(input) {\n        return AttrRecognizer.prototype.attrTest.call(this, input) &&\n            (this.state & STATE_BEGAN || (!(this.state & STATE_BEGAN) && this.directionTest(input)));\n    },\n\n    emit: function(input) {\n\n        this.pX = input.deltaX;\n        this.pY = input.deltaY;\n\n        var direction = directionStr(input.direction);\n\n        if (direction) {\n            input.additionalEvent = this.options.event + direction;\n        }\n        this._super.emit.call(this, input);\n    }\n});\n\n/**\n * Pinch\n * Recognized when two or more pointers are moving toward (zoom-in) or away from each other (zoom-out).\n * @constructor\n * @extends AttrRecognizer\n */\nfunction PinchRecognizer() {\n    AttrRecognizer.apply(this, arguments);\n}\n\ninherit(PinchRecognizer, AttrRecognizer, {\n    /**\n     * @namespace\n     * @memberof PinchRecognizer\n     */\n    defaults: {\n        event: 'pinch',\n        threshold: 0,\n        pointers: 2\n    },\n\n    getTouchAction: function() {\n        return [TOUCH_ACTION_NONE];\n    },\n\n    attrTest: function(input) {\n        return this._super.attrTest.call(this, input) &&\n            (Math.abs(input.scale - 1) > this.options.threshold || this.state & STATE_BEGAN);\n    },\n\n    emit: function(input) {\n        if (input.scale !== 1) {\n            var inOut = input.scale < 1 ? 'in' : 'out';\n            input.additionalEvent = this.options.event + inOut;\n        }\n        this._super.emit.call(this, input);\n    }\n});\n\n/**\n * Press\n * Recognized when the pointer is down for x ms without any movement.\n * @constructor\n * @extends Recognizer\n */\nfunction PressRecognizer() {\n    Recognizer.apply(this, arguments);\n\n    this._timer = null;\n    this._input = null;\n}\n\ninherit(PressRecognizer, Recognizer, {\n    /**\n     * @namespace\n     * @memberof PressRecognizer\n     */\n    defaults: {\n        event: 'press',\n        pointers: 1,\n        time: 251, // minimal time of the pointer to be pressed\n        threshold: 9 // a minimal movement is ok, but keep it low\n    },\n\n    getTouchAction: function() {\n        return [TOUCH_ACTION_AUTO];\n    },\n\n    process: function(input) {\n        var options = this.options;\n        var validPointers = input.pointers.length === options.pointers;\n        var validMovement = input.distance < options.threshold;\n        var validTime = input.deltaTime > options.time;\n\n        this._input = input;\n\n        // we only allow little movement\n        // and we've reached an end event, so a tap is possible\n        if (!validMovement || !validPointers || (input.eventType & (INPUT_END | INPUT_CANCEL) && !validTime)) {\n            this.reset();\n        } else if (input.eventType & INPUT_START) {\n            this.reset();\n            this._timer = setTimeoutContext(function() {\n                this.state = STATE_RECOGNIZED;\n                this.tryEmit();\n            }, options.time, this);\n        } else if (input.eventType & INPUT_END) {\n            return STATE_RECOGNIZED;\n        }\n        return STATE_FAILED;\n    },\n\n    reset: function() {\n        clearTimeout(this._timer);\n    },\n\n    emit: function(input) {\n        if (this.state !== STATE_RECOGNIZED) {\n            return;\n        }\n\n        if (input && (input.eventType & INPUT_END)) {\n            this.manager.emit(this.options.event + 'up', input);\n        } else {\n            this._input.timeStamp = now();\n            this.manager.emit(this.options.event, this._input);\n        }\n    }\n});\n\n/**\n * Rotate\n * Recognized when two or more pointer are moving in a circular motion.\n * @constructor\n * @extends AttrRecognizer\n */\nfunction RotateRecognizer() {\n    AttrRecognizer.apply(this, arguments);\n}\n\ninherit(RotateRecognizer, AttrRecognizer, {\n    /**\n     * @namespace\n     * @memberof RotateRecognizer\n     */\n    defaults: {\n        event: 'rotate',\n        threshold: 0,\n        pointers: 2\n    },\n\n    getTouchAction: function() {\n        return [TOUCH_ACTION_NONE];\n    },\n\n    attrTest: function(input) {\n        return this._super.attrTest.call(this, input) &&\n            (Math.abs(input.rotation) > this.options.threshold || this.state & STATE_BEGAN);\n    }\n});\n\n/**\n * Swipe\n * Recognized when the pointer is moving fast (velocity), with enough distance in the allowed direction.\n * @constructor\n * @extends AttrRecognizer\n */\nfunction SwipeRecognizer() {\n    AttrRecognizer.apply(this, arguments);\n}\n\ninherit(SwipeRecognizer, AttrRecognizer, {\n    /**\n     * @namespace\n     * @memberof SwipeRecognizer\n     */\n    defaults: {\n        event: 'swipe',\n        threshold: 10,\n        velocity: 0.3,\n        direction: DIRECTION_HORIZONTAL | DIRECTION_VERTICAL,\n        pointers: 1\n    },\n\n    getTouchAction: function() {\n        return PanRecognizer.prototype.getTouchAction.call(this);\n    },\n\n    attrTest: function(input) {\n        var direction = this.options.direction;\n        var velocity;\n\n        if (direction & (DIRECTION_HORIZONTAL | DIRECTION_VERTICAL)) {\n            velocity = input.overallVelocity;\n        } else if (direction & DIRECTION_HORIZONTAL) {\n            velocity = input.overallVelocityX;\n        } else if (direction & DIRECTION_VERTICAL) {\n            velocity = input.overallVelocityY;\n        }\n\n        return this._super.attrTest.call(this, input) &&\n            direction & input.offsetDirection &&\n            input.distance > this.options.threshold &&\n            input.maxPointers == this.options.pointers &&\n            abs(velocity) > this.options.velocity && input.eventType & INPUT_END;\n    },\n\n    emit: function(input) {\n        var direction = directionStr(input.offsetDirection);\n        if (direction) {\n            this.manager.emit(this.options.event + direction, input);\n        }\n\n        this.manager.emit(this.options.event, input);\n    }\n});\n\n/**\n * A tap is ecognized when the pointer is doing a small tap/click. Multiple taps are recognized if they occur\n * between the given interval and position. The delay option can be used to recognize multi-taps without firing\n * a single tap.\n *\n * The eventData from the emitted event contains the property `tapCount`, which contains the amount of\n * multi-taps being recognized.\n * @constructor\n * @extends Recognizer\n */\nfunction TapRecognizer() {\n    Recognizer.apply(this, arguments);\n\n    // previous time and center,\n    // used for tap counting\n    this.pTime = false;\n    this.pCenter = false;\n\n    this._timer = null;\n    this._input = null;\n    this.count = 0;\n}\n\ninherit(TapRecognizer, Recognizer, {\n    /**\n     * @namespace\n     * @memberof PinchRecognizer\n     */\n    defaults: {\n        event: 'tap',\n        pointers: 1,\n        taps: 1,\n        interval: 300, // max time between the multi-tap taps\n        time: 250, // max time of the pointer to be down (like finger on the screen)\n        threshold: 9, // a minimal movement is ok, but keep it low\n        posThreshold: 10 // a multi-tap can be a bit off the initial position\n    },\n\n    getTouchAction: function() {\n        return [TOUCH_ACTION_MANIPULATION];\n    },\n\n    process: function(input) {\n        var options = this.options;\n\n        var validPointers = input.pointers.length === options.pointers;\n        var validMovement = input.distance < options.threshold;\n        var validTouchTime = input.deltaTime < options.time;\n\n        this.reset();\n\n        if ((input.eventType & INPUT_START) && (this.count === 0)) {\n            return this.failTimeout();\n        }\n\n        // we only allow little movement\n        // and we've reached an end event, so a tap is possible\n        if (validMovement && validTouchTime && validPointers) {\n            if (input.eventType != INPUT_END) {\n                return this.failTimeout();\n            }\n\n            var validInterval = this.pTime ? (input.timeStamp - this.pTime < options.interval) : true;\n            var validMultiTap = !this.pCenter || getDistance(this.pCenter, input.center) < options.posThreshold;\n\n            this.pTime = input.timeStamp;\n            this.pCenter = input.center;\n\n            if (!validMultiTap || !validInterval) {\n                this.count = 1;\n            } else {\n                this.count += 1;\n            }\n\n            this._input = input;\n\n            // if tap count matches we have recognized it,\n            // else it has began recognizing...\n            var tapCount = this.count % options.taps;\n            if (tapCount === 0) {\n                // no failing requirements, immediately trigger the tap event\n                // or wait as long as the multitap interval to trigger\n                if (!this.hasRequireFailures()) {\n                    return STATE_RECOGNIZED;\n                } else {\n                    this._timer = setTimeoutContext(function() {\n                        this.state = STATE_RECOGNIZED;\n                        this.tryEmit();\n                    }, options.interval, this);\n                    return STATE_BEGAN;\n                }\n            }\n        }\n        return STATE_FAILED;\n    },\n\n    failTimeout: function() {\n        this._timer = setTimeoutContext(function() {\n            this.state = STATE_FAILED;\n        }, this.options.interval, this);\n        return STATE_FAILED;\n    },\n\n    reset: function() {\n        clearTimeout(this._timer);\n    },\n\n    emit: function() {\n        if (this.state == STATE_RECOGNIZED) {\n            this._input.tapCount = this.count;\n            this.manager.emit(this.options.event, this._input);\n        }\n    }\n});\n\n/**\n * Simple way to create a manager with a default set of recognizers.\n * @param {HTMLElement} element\n * @param {Object} [options]\n * @constructor\n */\nfunction Hammer(element, options) {\n    options = options || {};\n    options.recognizers = ifUndefined(options.recognizers, Hammer.defaults.preset);\n    return new Manager(element, options);\n}\n\n/**\n * @const {string}\n */\nHammer.VERSION = '2.0.7';\n\n/**\n * default settings\n * @namespace\n */\nHammer.defaults = {\n    /**\n     * set if DOM events are being triggered.\n     * But this is slower and unused by simple implementations, so disabled by default.\n     * @type {Boolean}\n     * @default false\n     */\n    domEvents: false,\n\n    /**\n     * The value for the touchAction property/fallback.\n     * When set to `compute` it will magically set the correct value based on the added recognizers.\n     * @type {String}\n     * @default compute\n     */\n    touchAction: TOUCH_ACTION_COMPUTE,\n\n    /**\n     * @type {Boolean}\n     * @default true\n     */\n    enable: true,\n\n    /**\n     * EXPERIMENTAL FEATURE -- can be removed/changed\n     * Change the parent input target element.\n     * If Null, then it is being set the to main element.\n     * @type {Null|EventTarget}\n     * @default null\n     */\n    inputTarget: null,\n\n    /**\n     * force an input class\n     * @type {Null|Function}\n     * @default null\n     */\n    inputClass: null,\n\n    /**\n     * Default recognizer setup when calling `Hammer()`\n     * When creating a new Manager these will be skipped.\n     * @type {Array}\n     */\n    preset: [\n        // RecognizerClass, options, [recognizeWith, ...], [requireFailure, ...]\n        [RotateRecognizer, {enable: false}],\n        [PinchRecognizer, {enable: false}, ['rotate']],\n        [SwipeRecognizer, {direction: DIRECTION_HORIZONTAL}],\n        [PanRecognizer, {direction: DIRECTION_HORIZONTAL}, ['swipe']],\n        [TapRecognizer],\n        [TapRecognizer, {event: 'doubletap', taps: 2}, ['tap']],\n        [PressRecognizer]\n    ],\n\n    /**\n     * Some CSS properties can be used to improve the working of Hammer.\n     * Add them to this method and they will be set when creating a new Manager.\n     * @namespace\n     */\n    cssProps: {\n        /**\n         * Disables text selection to improve the dragging gesture. Mainly for desktop browsers.\n         * @type {String}\n         * @default 'none'\n         */\n        userSelect: 'none',\n\n        /**\n         * Disable the Windows Phone grippers when pressing an element.\n         * @type {String}\n         * @default 'none'\n         */\n        touchSelect: 'none',\n\n        /**\n         * Disables the default callout shown when you touch and hold a touch target.\n         * On iOS, when you touch and hold a touch target such as a link, Safari displays\n         * a callout containing information about the link. This property allows you to disable that callout.\n         * @type {String}\n         * @default 'none'\n         */\n        touchCallout: 'none',\n\n        /**\n         * Specifies whether zooming is enabled. Used by IE10>\n         * @type {String}\n         * @default 'none'\n         */\n        contentZooming: 'none',\n\n        /**\n         * Specifies that an entire element should be draggable instead of its contents. Mainly for desktop browsers.\n         * @type {String}\n         * @default 'none'\n         */\n        userDrag: 'none',\n\n        /**\n         * Overrides the highlight color shown when the user taps a link or a JavaScript\n         * clickable element in iOS. This property obeys the alpha value, if specified.\n         * @type {String}\n         * @default 'rgba(0,0,0,0)'\n         */\n        tapHighlightColor: 'rgba(0,0,0,0)'\n    }\n};\n\nvar STOP = 1;\nvar FORCED_STOP = 2;\n\n/**\n * Manager\n * @param {HTMLElement} element\n * @param {Object} [options]\n * @constructor\n */\nfunction Manager(element, options) {\n    this.options = assign({}, Hammer.defaults, options || {});\n\n    this.options.inputTarget = this.options.inputTarget || element;\n\n    this.handlers = {};\n    this.session = {};\n    this.recognizers = [];\n    this.oldCssProps = {};\n\n    this.element = element;\n    this.input = createInputInstance(this);\n    this.touchAction = new TouchAction(this, this.options.touchAction);\n\n    toggleCssProps(this, true);\n\n    each(this.options.recognizers, function(item) {\n        var recognizer = this.add(new (item[0])(item[1]));\n        item[2] && recognizer.recognizeWith(item[2]);\n        item[3] && recognizer.requireFailure(item[3]);\n    }, this);\n}\n\nManager.prototype = {\n    /**\n     * set options\n     * @param {Object} options\n     * @returns {Manager}\n     */\n    set: function(options) {\n        assign(this.options, options);\n\n        // Options that need a little more setup\n        if (options.touchAction) {\n            this.touchAction.update();\n        }\n        if (options.inputTarget) {\n            // Clean up existing event listeners and reinitialize\n            this.input.destroy();\n            this.input.target = options.inputTarget;\n            this.input.init();\n        }\n        return this;\n    },\n\n    /**\n     * stop recognizing for this session.\n     * This session will be discarded, when a new [input]start event is fired.\n     * When forced, the recognizer cycle is stopped immediately.\n     * @param {Boolean} [force]\n     */\n    stop: function(force) {\n        this.session.stopped = force ? FORCED_STOP : STOP;\n    },\n\n    /**\n     * run the recognizers!\n     * called by the inputHandler function on every movement of the pointers (touches)\n     * it walks through all the recognizers and tries to detect the gesture that is being made\n     * @param {Object} inputData\n     */\n    recognize: function(inputData) {\n        var session = this.session;\n        if (session.stopped) {\n            return;\n        }\n\n        // run the touch-action polyfill\n        this.touchAction.preventDefaults(inputData);\n\n        var recognizer;\n        var recognizers = this.recognizers;\n\n        // this holds the recognizer that is being recognized.\n        // so the recognizer's state needs to be BEGAN, CHANGED, ENDED or RECOGNIZED\n        // if no recognizer is detecting a thing, it is set to `null`\n        var curRecognizer = session.curRecognizer;\n\n        // reset when the last recognizer is recognized\n        // or when we're in a new session\n        if (!curRecognizer || (curRecognizer && curRecognizer.state & STATE_RECOGNIZED)) {\n            curRecognizer = session.curRecognizer = null;\n        }\n\n        var i = 0;\n        while (i < recognizers.length) {\n            recognizer = recognizers[i];\n\n            // find out if we are allowed try to recognize the input for this one.\n            // 1.   allow if the session is NOT forced stopped (see the .stop() method)\n            // 2.   allow if we still haven't recognized a gesture in this session, or the this recognizer is the one\n            //      that is being recognized.\n            // 3.   allow if the recognizer is allowed to run simultaneous with the current recognized recognizer.\n            //      this can be setup with the `recognizeWith()` method on the recognizer.\n            if (session.stopped !== FORCED_STOP && ( // 1\n                    !curRecognizer || recognizer == curRecognizer || // 2\n                    recognizer.canRecognizeWith(curRecognizer))) { // 3\n                recognizer.recognize(inputData);\n            } else {\n                recognizer.reset();\n            }\n\n            // if the recognizer has been recognizing the input as a valid gesture, we want to store this one as the\n            // current active recognizer. but only if we don't already have an active recognizer\n            if (!curRecognizer && recognizer.state & (STATE_BEGAN | STATE_CHANGED | STATE_ENDED)) {\n                curRecognizer = session.curRecognizer = recognizer;\n            }\n            i++;\n        }\n    },\n\n    /**\n     * get a recognizer by its event name.\n     * @param {Recognizer|String} recognizer\n     * @returns {Recognizer|Null}\n     */\n    get: function(recognizer) {\n        if (recognizer instanceof Recognizer) {\n            return recognizer;\n        }\n\n        var recognizers = this.recognizers;\n        for (var i = 0; i < recognizers.length; i++) {\n            if (recognizers[i].options.event == recognizer) {\n                return recognizers[i];\n            }\n        }\n        return null;\n    },\n\n    /**\n     * add a recognizer to the manager\n     * existing recognizers with the same event name will be removed\n     * @param {Recognizer} recognizer\n     * @returns {Recognizer|Manager}\n     */\n    add: function(recognizer) {\n        if (invokeArrayArg(recognizer, 'add', this)) {\n            return this;\n        }\n\n        // remove existing\n        var existing = this.get(recognizer.options.event);\n        if (existing) {\n            this.remove(existing);\n        }\n\n        this.recognizers.push(recognizer);\n        recognizer.manager = this;\n\n        this.touchAction.update();\n        return recognizer;\n    },\n\n    /**\n     * remove a recognizer by name or instance\n     * @param {Recognizer|String} recognizer\n     * @returns {Manager}\n     */\n    remove: function(recognizer) {\n        if (invokeArrayArg(recognizer, 'remove', this)) {\n            return this;\n        }\n\n        recognizer = this.get(recognizer);\n\n        // let's make sure this recognizer exists\n        if (recognizer) {\n            var recognizers = this.recognizers;\n            var index = inArray(recognizers, recognizer);\n\n            if (index !== -1) {\n                recognizers.splice(index, 1);\n                this.touchAction.update();\n            }\n        }\n\n        return this;\n    },\n\n    /**\n     * bind event\n     * @param {String} events\n     * @param {Function} handler\n     * @returns {EventEmitter} this\n     */\n    on: function(events, handler) {\n        if (events === undefined) {\n            return;\n        }\n        if (handler === undefined) {\n            return;\n        }\n\n        var handlers = this.handlers;\n        each(splitStr(events), function(event) {\n            handlers[event] = handlers[event] || [];\n            handlers[event].push(handler);\n        });\n        return this;\n    },\n\n    /**\n     * unbind event, leave emit blank to remove all handlers\n     * @param {String} events\n     * @param {Function} [handler]\n     * @returns {EventEmitter} this\n     */\n    off: function(events, handler) {\n        if (events === undefined) {\n            return;\n        }\n\n        var handlers = this.handlers;\n        each(splitStr(events), function(event) {\n            if (!handler) {\n                delete handlers[event];\n            } else {\n                handlers[event] && handlers[event].splice(inArray(handlers[event], handler), 1);\n            }\n        });\n        return this;\n    },\n\n    /**\n     * emit event to the listeners\n     * @param {String} event\n     * @param {Object} data\n     */\n    emit: function(event, data) {\n        // we also want to trigger dom events\n        if (this.options.domEvents) {\n            triggerDomEvent(event, data);\n        }\n\n        // no handlers, so skip it all\n        var handlers = this.handlers[event] && this.handlers[event].slice();\n        if (!handlers || !handlers.length) {\n            return;\n        }\n\n        data.type = event;\n        data.preventDefault = function() {\n            data.srcEvent.preventDefault();\n        };\n\n        var i = 0;\n        while (i < handlers.length) {\n            handlers[i](data);\n            i++;\n        }\n    },\n\n    /**\n     * destroy the manager and unbinds all events\n     * it doesn't unbind dom events, that is the user own responsibility\n     */\n    destroy: function() {\n        this.element && toggleCssProps(this, false);\n\n        this.handlers = {};\n        this.session = {};\n        this.input.destroy();\n        this.element = null;\n    }\n};\n\n/**\n * add/remove the css properties as defined in manager.options.cssProps\n * @param {Manager} manager\n * @param {Boolean} add\n */\nfunction toggleCssProps(manager, add) {\n    var element = manager.element;\n    if (!element.style) {\n        return;\n    }\n    var prop;\n    each(manager.options.cssProps, function(value, name) {\n        prop = prefixed(element.style, name);\n        if (add) {\n            manager.oldCssProps[prop] = element.style[prop];\n            element.style[prop] = value;\n        } else {\n            element.style[prop] = manager.oldCssProps[prop] || '';\n        }\n    });\n    if (!add) {\n        manager.oldCssProps = {};\n    }\n}\n\n/**\n * trigger dom event\n * @param {String} event\n * @param {Object} data\n */\nfunction triggerDomEvent(event, data) {\n    var gestureEvent = document.createEvent('Event');\n    gestureEvent.initEvent(event, true, true);\n    gestureEvent.gesture = data;\n    data.target.dispatchEvent(gestureEvent);\n}\n\nassign(Hammer, {\n    INPUT_START: INPUT_START,\n    INPUT_MOVE: INPUT_MOVE,\n    INPUT_END: INPUT_END,\n    INPUT_CANCEL: INPUT_CANCEL,\n\n    STATE_POSSIBLE: STATE_POSSIBLE,\n    STATE_BEGAN: STATE_BEGAN,\n    STATE_CHANGED: STATE_CHANGED,\n    STATE_ENDED: STATE_ENDED,\n    STATE_RECOGNIZED: STATE_RECOGNIZED,\n    STATE_CANCELLED: STATE_CANCELLED,\n    STATE_FAILED: STATE_FAILED,\n\n    DIRECTION_NONE: DIRECTION_NONE,\n    DIRECTION_LEFT: DIRECTION_LEFT,\n    DIRECTION_RIGHT: DIRECTION_RIGHT,\n    DIRECTION_UP: DIRECTION_UP,\n    DIRECTION_DOWN: DIRECTION_DOWN,\n    DIRECTION_HORIZONTAL: DIRECTION_HORIZONTAL,\n    DIRECTION_VERTICAL: DIRECTION_VERTICAL,\n    DIRECTION_ALL: DIRECTION_ALL,\n\n    Manager: Manager,\n    Input: Input,\n    TouchAction: TouchAction,\n\n    TouchInput: TouchInput,\n    MouseInput: MouseInput,\n    PointerEventInput: PointerEventInput,\n    TouchMouseInput: TouchMouseInput,\n    SingleTouchInput: SingleTouchInput,\n\n    Recognizer: Recognizer,\n    AttrRecognizer: AttrRecognizer,\n    Tap: TapRecognizer,\n    Pan: PanRecognizer,\n    Swipe: SwipeRecognizer,\n    Pinch: PinchRecognizer,\n    Rotate: RotateRecognizer,\n    Press: PressRecognizer,\n\n    on: addEventListeners,\n    off: removeEventListeners,\n    each: each,\n    merge: merge,\n    extend: extend,\n    assign: assign,\n    inherit: inherit,\n    bindFn: bindFn,\n    prefixed: prefixed\n});\n\n// this prevents errors when Hammer is loaded in the presence of an AMD\n//  style loader but by script tag, not by the loader.\nvar freeGlobal = (typeof window !== 'undefined' ? window : (typeof self !== 'undefined' ? self : {})); // jshint ignore:line\nfreeGlobal.Hammer = Hammer;\n\nif (typeof define === 'function' && define.amd) {\n    define(function() {\n        return Hammer;\n    });\n} else if (typeof module != 'undefined' && module.exports) {\n    module.exports = Hammer;\n} else {\n    window[exportName] = Hammer;\n}\n\n})(window, document, 'Hammer');\n","import { Event } from './Event'\nimport { EventType } from '../view/View'\n\nexport enum InputState {\n  NORMAL = 0,\n  BEGAN = 1,\n  CHANGED = 2,\n  ENDED = 3\n}\n\nexport class InputEvent extends Event {\n  public text!: string\n  public state!: InputState\n\n  get type(): EventType {\n    return 'input'\n  }\n}\n","import { Event } from './Event'\nimport { EventType } from '../view/View'\n\nexport enum PanState {\n  NORMAL = 0,\n  BEGAN = 1,\n  CHANGED = 2,\n  ENDED = 3,\n  CANCELLED = 4\n}\n\nexport class PanEvent extends Event {\n  public state!: PanState\n  public translation!: { deltaX: number | string; deltaY: number | string }\n  public timestamp!: string\n\n  get type(): EventType {\n    return 'pan'\n  }\n}\n","import { Event } from './Event'\nimport { EventType } from '../view/View'\n\nexport enum PinchState {\n  NORMAL = 0,\n  BEGAN = 1,\n  CHANGED = 2,\n  ENDED = 3,\n  CANCELLED = 4\n}\n\nexport class PinchEvent extends Event {\n  public state!: PinchState\n  public scale!: number\n  public timestamp!: string\n\n  get type(): EventType {\n    return 'pinch'\n  }\n}\n","import { Event } from './Event'\nimport { EventType } from '../view/View'\n\nexport enum SwipeState {\n  NORMAL = 0,\n  BEGAN = 1,\n  CHANGED = 2,\n  ENDED = 3,\n  CANCELLED = 4\n}\n\nexport class SwipeEvent extends Event {\n  public state!: SwipeState\n  public direction!: 1 | 2 | 4 | 8\n  public timestamp!: string\n\n  get type(): EventType {\n    return 'swipe'\n  }\n}\n","import { Event } from './Event'\nimport { EventType } from '../view/View'\n\nexport enum TapState {\n  NORMAL = 0,\n  BEGAN = 1,\n  CHANGED = 2,\n  ENDED = 3,\n  CANCELLED = 4\n}\n\nexport class TapEvent extends Event {\n  public position!: { x: number | string; y: number | string }\n  public state!: TapState\n  public timestamp!: string\n\n  get type(): EventType {\n    return 'tap'\n  }\n}\n","import { Event } from './Event'\nimport { EventType } from '../view/View'\n\nexport enum TouchState {\n  NORMAL = 0,\n  BEGAN = 1,\n  CHANGED = 2,\n  ENDED = 3,\n  CANCELLED = 4\n}\n\nexport class TouchEvent extends Event {\n  public position!: { x: number; y: number }\n  public state!: TouchState\n  public timestamp!: string\n\n  get type(): EventType {\n    return 'touchDown'\n  }\n}\n","import { Event } from './Event'\nimport { EventType } from '../view/View'\n\nexport enum LongPressState {\n  NORMAL = 0,\n  BEGAN = 1,\n  CHANGED = 2,\n  ENDED = 3,\n  CANCELLED = 4\n}\n\nexport class LongPressEvent extends Event {\n  public state!: LongPressState\n  public timestamp!: string\n\n  get type(): EventType {\n    return 'longPress'\n  }\n}\n","import { Event } from './Event'\nimport { EventType } from '../view/View'\n\nexport enum ScrollState {\n  NORMAL = 0,\n  BEGAN = 1,\n  SCROLL = 2,\n  ENDED = 3,\n  SCROLL_UP = 4\n}\n\nexport class ScrollEvent extends Event {\n  public state!: ScrollState\n  public offsetX!: number\n  public offsetY!: number\n  public dx!: number\n  public dy!: number\n  public timestamp!: string\n\n  get type(): EventType {\n    return 'scroll'\n  }\n}\n","import { EventType, View } from '../view/View'\n\nexport abstract class Event {\n  public target!: View\n\n  abstract get type(): EventType\n}\n\nexport interface EventListener {\n  (event?: Event): void\n}\n","import { KeyPath, ValueType, EasingType } from './BasicAnimation'\n\n/**\n * http://www.w3school.com.cn/css3/css3_animation.asp\n */\nexport class KeyframeAnimation {\n  // 动画时间间隔（s）\n  duration: number = 0\n  // 重复次数\n  repeatCount: number = 1\n  // 关键路径positions\n  keyframes: Array<{\n    percent?: number\n    value: ValueType\n    easing?: EasingType\n  }> = []\n  easing?: EasingType\n  onstart!: Function\n  onend!: Function\n  delay: number\n  on(type: string, callback: Function) {\n    if(type === 'start' ){\n      this.onstart = callback\n    } else if(type === 'end'){\n      this.onend = callback\n    }\n  }\n\n  removeAnimation!: Function\n\n  constructor(public path: KeyPath) {}\n}\n","/**\n * 单位处理中间件，将Css中的单位转换为Hummer中特有的单位\n * hm ==> px\n * @param style 待处理的Style\n */\nimport { makeMapByArrOfKebab, formatUnit } from \"../../utils\"\n\n// 待转换单位的属性列表\nexport const unitAttrs = [\n  'font-size', 'placeholder-font-size', 'transform',\n  'flex-basis','shadow',\n  'width', 'max-width', 'min-width', 'height', 'max-height', 'min-height', 'line-height',\n  'padding', 'padding-left', 'padding-right', 'padding-bottom', 'padding-top',\n  'margin', 'margin-left', 'margin-right', 'margin-bottom', 'margin-top',\n  'left', 'right', 'top', 'bottom',\n  'border-width', 'border-left-width', 'border-right-width', 'border-top-width', 'border-bottom-width',\n  'border-radius', 'border-top-left-radius', 'border-top-right-radius', 'border-bottom-left-radius', 'border-bottom-right-radius'\n]\nexport const isNeedUnitTrasform = makeMapByArrOfKebab(unitAttrs)\nexport function transformUnit(style: Record<string, string>) {\n  Object.keys(style).forEach(key => {\n    if (key === 'transitionDuration') {\n      style[key] = `${style[key]}s`\n    }\n    // console.log(key + ':' + style[key]);\n    if ((style[key] + '').indexOf('linear-gradient') !== -1) {\n      style['backgroundImage'] = style[key].trim().replaceAll(/\\s+/g, \",\");\n      style[key] = 'transparent'\n    }\n    if (isNeedUnitTrasform(key)) {\n      let value\n      if (key.indexOf('shadow') !== -1) {\n        value = style[key].trim().replaceAll(/[0-9](.*?)[\\s+,*]+/g, function (word) {\n          return transformUnitValue(word.trim()) + ' '\n        });\n        style['boxShadow'] = value\n      } else {\n        value = transformUnitValue(style[key])\n        style[key] = value\n      }\n    }\n  })\n  return style\n}\n\nexport function transformUnitValue(value: string): string {\n  return formatUnit(value)\n}\n\n","/**\n * Any Case => Lower Case\n * ex.\n * Border => border\n * @param key \n * @returns \n */\nexport function toLowerCase(key: string): string {\n  return key.toLowerCase()\n}\n\n\n/**\n * Any Case => Upper Case\n * ex.\n * border => BORDER\n * @param key \n * @returns \n */\nexport function toUpperCase(key: string): string {\n  return key.toUpperCase()\n}\n\n/**\n * Kebab Case ==> Camel Case\n * ex.\n * border-width => borderWidth\n * @param key string\n * @returns string\n */\nexport function toCamelKey(key: string): string {\n  let humpKey = key.replace(/-(\\w)/g, ($0, $1) => {\n    return $1.toUpperCase()\n  })\n  return humpKey\n}\n\n/**\n * Camel Case ==> Kebab Case\n * ex.\n * borderWidth => border-width\n * ps.\n * 首字母大写时，前缀不增加 - 符号\n * @param key string\n * @returns string\n */\nexport function toKebabCase(key: string): string {\n  return key.replace(/[A-Z]/g, ($0: string, offset: number) => {\n    return (offset === 0 ? '' : '-') + $0.toLowerCase()\n  })\n}","import {transformUnit} from './transformer/unit'\n\n/**\n * Style Transformer\n * 1. Unit\n * 2. Box shadow\n * 3. Background linear-gradient\n * 4. \n */\nclass StyleTransformer{\n\n  private middlewares: Array<Function> = []\n  constructor() {\n    this.registerMiddleware()\n  }\n\n  registerMiddleware() {\n    this.use(transformUnit)\n  }\n\n  use(middleware: Function) {\n    if(typeof middleware !== 'function'){\n      throw \"middleware must be a function\"\n    }\n    this.middlewares.push(middleware)\n    return this\n  }\n\n  transformStyle(style:any = {}, view?:any):Record<string, string>|null{\n    let tempStyle = style\n    this.middlewares.forEach(middleware => {\n      let result = middleware(tempStyle, view)\n      tempStyle = result? result: tempStyle\n    })\n    return tempStyle\n  }\n\n}\n\nexport const styleTransformer = new StyleTransformer()\n\nexport {transformUnitValue} from './transformer/unit'\nexport {getColor} from './common/color'","import Hammer from 'hammerjs'\nimport { EventListener } from '../event/Event'\nimport { InputEvent, InputState } from '../event/InputEvent'\nimport { PanEvent, PanState } from '../event/PanEvent'\nimport { PinchEvent, PinchState } from '../event/PinchEvent'\nimport { SwipeEvent, SwipeState } from '../event/SwipeEvent'\nimport { TapEvent, TapState } from '../event/TapEvent'\nimport { TouchEvent, TouchState } from '../event/TouchEvent'\nimport { LongPressEvent, LongPressState } from '../event/LongPressEvent'\nimport { ScrollEvent } from '../event/ScrollEvent'\nimport { BasicAnimation } from '../BasicAnimation'\nimport { KeyframeAnimation } from '../KeyframeAnimation'\nimport { formatUnit, getQueryVariable } from '../../common/utils'\nimport { isNeedUnitTrasform } from '../../common/style/transformer/unit'\nimport { styleTransformer } from '../../common/style'\nexport const SIZE_STYLE: Array<any> = [\n  'top',\n  'left',\n  'bottom',\n  'right',\n  'margin',\n  'marginTop',\n  'marginLeft',\n  'marginBottom',\n  'marginRight',\n  'padding',\n  'paddingTop',\n  'paddingLeft',\n  'paddingBottom',\n  'paddingRight',\n  'width',\n  'height',\n  'minWidth',\n  'minHeight',\n  'maxWidth',\n  'maxHeight',\n  'borderRadius',\n  'borderWidth'\n]\nexport interface ViewStyle {\n  top?: string | number\n  left?: string | number\n  bottom?: string | number\n  right?: string | number\n  margin?: string | number\n  marginTop?: string | number\n  marginLeft?: string | number\n  marginBottom?: string | number\n  marginRight?: string | number\n  padding?: string | number\n  paddingTop?: string | number\n  paddingLeft?: string | number\n  paddingBottom?: string | number\n  paddingRight?: string | number\n  width?: string | number\n  height?: string | number\n  minWidth?: string | number\n  minHeight?: string | number\n  maxWidth?: string | number\n  maxHeight?: string | number\n  flexDirection?: 'row' | 'column'\n  flexWrap?: 'nowrap' | 'wrap' | 'wrap-reverse'\n  justifyContent?:\n  | 'flex-start'\n  | 'flex-end'\n  | 'center'\n  | 'space-between'\n  | 'space-around'\n  | 'space-evenly'\n  alignItems?: 'flex-start' | 'flex-end' | 'center' | 'baseline' | 'stretch'\n  alignContent?:\n  | 'flex-start'\n  | 'flex-end'\n  | 'center'\n  | 'space-between'\n  | 'space-around'\n  | 'stretch'\n  order?: number\n  flexGrow?: number\n  flexShrink?: number\n  flexBasis?: string\n  alignSelf?: 'flex-start' | 'flex-end' | 'center' | 'baseline' | 'stretch'\n  position?: 'relative' | 'absolute' | 'fixed' | 'sticky' | 'static' | 'inherit'\n  backgroundColor?: string\n  backgroundImage?: string\n  opacity?: number\n  visibility?: 'hidden' | 'visible'\n  display?: 'none' | 'flex' | 'block' | 'inline' | 'inline-block  '\n  borderColor?: string\n  borderLeftColor?: string\n  borderTopColor?: string\n  borderRightColor?: string\n  borderBottomColor?: string\n  borderStyle?: 'solid' | 'dashed' | 'dotted'\n  borderLeftStyle?: 'solid' | 'dashed' | 'dotted'\n  borderTopStyle?: 'solid' | 'dashed' | 'dotted'\n  borderRightStyle?: 'solid' | 'dashed' | 'dotted'\n  borderBottomStyle?: 'solid' | 'dashed' | 'dotted'\n  borderWidth?: string | number\n  borderLeftWidth?: string | number\n  borderTopWidth?: string | number\n  borderRightWidth?: string | number\n  borderBottomWidth?: string | number\n  borderRadius?: string | number\n  borderTopLeftRadius?: string | number\n  borderTopRightRadius?: string | number\n  borderBottomLeftRadius?: string | number\n  borderBottomRightRadius?: string | number\n  shadow?: string\n  overflow?: 'hidden' | 'visible'\n  zIndex?: number,\n  transform?: string,\n  transitionDelay?: string | number,\n  transitionProperty?: string,\n  transitionDuration?: string | number,\n  transitionTimingFunction?: 'linear' | 'ease-in' | 'ease-out' | 'ease-in-out'\n\n}\n\nexport type EventType =\n  | 'longPress'\n  | 'pan'\n  | 'pinch'\n  | 'swipe'\n  | 'tap'\n  | 'touch'\n  | 'touchDown'\n  | 'input'\n  | 'scroll'\n  | 'switch'\n\nexport class View {\n  // 公共属性\n  public node:\n    | HTMLElement\n    | HTMLImageElement\n    | HTMLButtonElement\n    | HTMLInputElement\n    | HTMLTextAreaElement\n    | HTMLSpanElement\n    | any\n\n  public hmNode?: any\n  public basicAnimationArray: Array<any> = []\n  // 子类可访问属性\n  protected _enabled: boolean // 是否响应交互\n  protected subViews: Set<View>\n  protected _style: ViewStyle\n  protected listeners: { [key: string]: Array<EventListener> }\n  protected eventListeners: {\n    [key: string]: { hammer?: any; listener?: Function;[key: string]: any }\n  }\n  protected animations: { [key: string]: Animation }\n  protected onCreate?: Function // 页面首次加载时触发\n  protected onAppear?: Function // 页面显示\n  protected onDisappear?: Function // 页面隐藏\n  protected onDestroy?: Function // 页面销毁\n  protected onBack?: Function // 页面返回\n  isHighlight?: Boolean\n\n  layout!: () => void\n\n  constructor(public viewID?: string) {\n    let backgroundUrl\n    let urlReg = /url\\(\"?'?.((?!\\,).)*\"?'?\\)/g\n    let ColorReg = /linear-gradient\\([^(]*(\\([^)]*\\)[^(]*)*[^)]*\\)/g\n    this.createNode()\n    this._enabled = true\n    this.subViews = new Set<View>()\n    this.listeners = {}\n    this.eventListeners = {}\n    this.animations = {}\n    this._style = new Proxy(\n      {},\n      {\n        get: (target, key) => {\n          return target[key] || this.node.style[key]\n        },\n        set: (target, key, value) => {\n          switch (key) {\n            case 'flexShrink':\n              if(value === 1){\n                this.node.style['overflow'] = 'hidden'\n              }\n              this.node.style[key] = value\n              break;\n            case 'backgroundColor':\n              backgroundUrl = this.node.style['backgroundImage'].match(urlReg)?.[0] || 'none'\n              this.node.style['backgroundImage'] = backgroundUrl\n              this.node.style[key] = value\n              break;\n            case 'backgroundImage':\n              let newBackgroundUrl = value.match(urlReg)\n              let newBackgroundColor = value.match(ColorReg)\n              let backgroundColor = this.node.style['backgroundImage'].match(ColorReg)\n              backgroundUrl = this.node.style['backgroundImage'].match(urlReg)\n              if (backgroundUrl && newBackgroundUrl) {\n                this.node.style['backgroundImage'].replaceAll(urlReg, newBackgroundUrl[0])\n              }\n              if (newBackgroundColor && backgroundColor) {\n                this.node.style['backgroundImage'].replaceAll(ColorReg, newBackgroundColor[0])\n              }\n              if (!backgroundUrl && !backgroundColor) {\n                this.node.style['backgroundImage'] = value\n              } else {\n                this.node.style['backgroundImage'] = `${this.node.style['backgroundImage']},${value}`\n              }\n              break;\n            default:\n              this.node.style[key] = value\n              break;\n          }\n          return true\n        }\n      }\n    )\n    this.defaultStyle()\n    this.initialize()\n    window.addEventListener('render-ready', () => {\n      // this.formatBasicAnimation()\n      this?.onCreate && this.onCreate()\n      this?.onAppear && this.onAppear()\n      if (this?.onAppear || this?.onDisappear) {\n        document.addEventListener(\"visibilitychange\", this.visibilityChange.bind(this));\n      }\n      if (this?.onBack) {\n        if (window.history && window.history.pushState) {\n          history.pushState(null, null, document.URL);\n          window.addEventListener('popstate', this.interceptBack.bind(this), false);\n        }\n      }\n      if (this?.onCreate && getQueryVariable('navBar') && this.node.parentNode.tagName === 'BODY') {\n        let navBar = new View\n        let navBarTitle = new View\n        let navBarBack = new View\n        navBar.node.className = 'hm-default-navbar'\n        navBarTitle.node.className = 'hm-default-nav-title'\n        navBarBack.node.className = 'hm-default-nav-back'\n        navBar.node.onclick = () => {\n          history.go(-1);\n        }\n        navBarTitle.node.innerHTML = window.location.pathname.split('/')[1]\n        if (document.referrer !== '') {\n          navBar.appendChild(navBarBack)\n        }\n        navBar.appendChild(navBarTitle)\n        this.node.childNodes[0].style.flex = 1\n        this.node.insertBefore(navBar.node, this.node.childNodes[0])\n      }\n    })\n  }\n  visibilityChange() {\n    if (document.visibilityState === 'visible') {\n      this.onAppear()\n    } else {\n      this.onDisappear()\n    }\n  }\n  interceptBack() {\n    console.log('123123');\n    let isIntercept = this?.onBack()\n    if (isIntercept) {\n      history.pushState(null, null, document.URL);\n    } else {\n      this._onDestoryed();\n      history.go(-1);\n    }\n  }\n  //   /**\n  //    * 页面首次加载时触发\n  //    */\n  //   onCreate() { }\n  //   /**\n  //   * 页面显示周期\n  //   */\n  //   onAppear() { }\n  //   /**\n  //    * 页面隐藏\n  //    */\n  //   onDisappear() { }\n  //   /**\n  //   * 页面销毁\n  //   */\n  //   onDestroy() { }\n  //   /**\n  //  * 页面返回\n  //  */\n  //   onBack() { }\n  private playBasicAnimation(animation) {\n    const {\n      keyframes,\n      options\n    } = this.getBasicAnimationKeyFrameAnimationOptions(animation)\n    const animate: Animation = this.node.animate(keyframes, options)\n    // this.animations[key] = animate\n    animation.onstart && animation.onstart()\n    animate.onfinish = () => {\n      this.basicAnimationArray.shift()\n      animation.onend && animation.onend()\n      if (this.basicAnimationArray.length >= 1) {\n        this.playBasicAnimation(this.basicAnimationArray[this.basicAnimationArray.length - 1])\n      }\n    }\n    animate.play()\n  }\n\n  private formatBasicAnimation() {\n    let newBasicAnimationArray: Array<Array<any>> = []\n    let numSize = -1\n    let oldKeyNum\n    this.basicAnimationArray.forEach(item => {\n      let keyNum = parseInt(Object.keys(item)[0].split('_')[Object.keys(item)[0].split('_').length - 2]);\n      if (oldKeyNum !== keyNum) {\n        numSize++\n      }\n      oldKeyNum = keyNum\n      !newBasicAnimationArray[numSize] && (newBasicAnimationArray[numSize] = [])\n      newBasicAnimationArray[numSize].push(item[Object.keys(item)[0]])\n    });\n    this.basicAnimationArray = newBasicAnimationArray\n    if (this.basicAnimationArray.length > 0) {\n      this.playBasicAnimation(this.basicAnimationArray[0])\n    }\n  }\n\n  protected defaultStyle() {\n    this.node.classList.add('hm-default-view')\n  }\n\n  protected createNode() {\n    this.node = document.createElement('view')\n  }\n\n  get enabled() {\n    return this._enabled\n  }\n\n  set enabled(_enabled: boolean) {\n    this._enabled = _enabled\n    if (!_enabled) {\n      this.node.disabled = true\n    } else {\n      this.node.disabled = false\n    }\n  }\n\n  get style() {\n    return this._style\n  }\n\n  set style(_style: ViewStyle) {\n    let deepStyle = JSON.parse(JSON.stringify(_style))\n    let standardStyle = styleTransformer.transformStyle(deepStyle)\n    this._style = Object.assign(this._style, standardStyle)\n  }\n\n  /**\n   * 初始化生命周期函数，目前在前端SDK上没用，兼容端的代码\n   */\n  initialize() { }\n\n  /**\n   * 销毁时机\n   */\n  finalize() { }\n\n  // Mounted 生命周期\n  // @ts-ignore\n  private _onMounted() {\n    this.onMounted();\n  }\n\n  protected onMounted() {\n\n  }\n  // @ts-ignore\n  private _onDestoryed() {\n    this.onDestoryed();\n    this?.onDestroy && this.onDestroy();\n    this?.onAppear && document.removeEventListener('visibilityChange', this.visibilityChange.bind(this))\n    this?.onBack && window.removeEventListener('popstate', this.visibilityChange.bind(this))\n  }\n\n  protected onDestoryed() { }\n\n  appendChild(subview: any) {\n    this.node.appendChild(subview.node)\n    subview._onMounted();\n    // this.subViews.add(subview)\n  }\n\n  removeChild(subview: any) {\n    subview._onDestoryed();\n    this.node.removeChild(subview.node)\n    // this.subViews.delete(subview)\n  }\n\n  removeAll() {\n    this.node.innerHTML = ''\n    // this.subViews.clear()\n  }\n\n  insertBefore(subview: any, existingView: View) {\n    this.node.insertBefore(subview.node, existingView.node)\n    subview._onMounted();\n    // this.subViews.add(subview)\n  }\n\n  /**\n   * 用指定的节点替换当前节点的一个子节点，并返回被替换掉的节点\n   */\n  replaceChild(newSubview: View, oldSubview: View) {\n    this.node.replaceChild(newSubview.node, oldSubview.node)\n    // this.subViews.add(newSubview)\n    // this.subViews.delete(oldSubview)\n  }\n\n  getElementById(viewID: string): View {\n    for (let view of this.subViews) {\n      if (view.viewID === viewID) {\n        return view\n      }\n    }\n    // @ts-ignore\n    return null\n  }\n\n  addEventListener(key: EventType, listener: EventListener) {\n    if (!this.listeners[key]) {\n      this.listeners[key] = []\n    }\n    // 将事件callback加入到事件队列\n    this.listeners[key].push(listener)\n    // 注册事件监听\n    if (!this.eventListeners[key]) {\n      if (key === 'longPress') {\n        const press = (e: any) => {\n          if (!this.enabled) return\n          if ((window as any).openElementMap) return\n          const ev = new LongPressEvent()\n          ev.target = this\n          ev.timestamp = e.timeStamp\n          ev.state = LongPressState.BEGAN\n          this.listeners[key].forEach(listener => listener(ev))\n        }\n        const pressup = (e: any) => {\n          if (!this.enabled) return\n          if ((window as any).openElementMap) return\n          const ev = new LongPressEvent()\n          ev.target = this\n          ev.timestamp = e.timeStamp\n          ev.state = LongPressState.ENDED\n          this.listeners[key].forEach(listener => listener(ev))\n        }\n        const hammer = new Hammer(this.node)\n        hammer.on('press', press)\n        hammer.on('pressup', pressup)\n        this.eventListeners[key] = { hammer, press, pressup }\n      } else if (key === 'pan') {\n        let oldDeltaX = 0, oldDeltaY = 0;\n        const panstart = (e: any) => {\n          if (!this.enabled) return\n          if ((window as any).openElementMap) return\n          const ev = new PanEvent()\n          ev.target = this\n          ev.timestamp = e.timeStamp\n          ev.state = PanState.BEGAN\n          oldDeltaX = e.srcEvent.clientX\n          oldDeltaY = e.srcEvent.clientY\n          ev.translation = { deltaX: 0, deltaY: 0 }\n          this.listeners[key].forEach(listener => listener(ev))\n        }\n        const panmove = (e: any) => {\n          if (!this.enabled) return\n          if ((window as any).openElementMap) return\n          const ev = new PanEvent()\n          ev.target = this\n          ev.timestamp = e.timeStamp\n          ev.state = PanState.CHANGED\n          ev.translation = { deltaX: e.srcEvent.clientX - oldDeltaX, deltaY: e.srcEvent.clientY - oldDeltaY }\n          oldDeltaX = e.srcEvent.clientX\n          oldDeltaY = e.srcEvent.clientY\n          this.listeners[key].forEach(listener => listener(ev))\n        }\n        const panend = (e: any) => {\n          if (!this.enabled) return\n          if ((window as any).openElementMap) return\n          const ev = new PanEvent()\n          ev.target = this\n          ev.timestamp = e.timeStamp\n          ev.state = PanState.ENDED\n          ev.translation = { deltaX: 0, deltaY: 0 }\n          this.listeners[key].forEach(listener => listener(ev))\n        }\n        const pancancel = (e: any) => {\n          if (!this.enabled) return\n          if ((window as any).openElementMap) return\n          const ev = new PanEvent()\n          ev.target = this\n          ev.timestamp = e.timeStamp\n          ev.state = PanState.CANCELLED\n          ev.translation = { deltaX: 0, deltaY: 0 }\n          this.listeners[key].forEach(listener => listener(ev))\n        }\n        const hammer = new Hammer(this.node)\n        hammer.get('pan').set({\n          direction: Hammer.DIRECTION_ALL,\n          threshold: 0.1\n        });\n        hammer.on('panstart', panstart)\n        hammer.on('panmove', panmove)\n        hammer.on('panend', panend)\n        hammer.on('pancancel', pancancel)\n        this.eventListeners[key] = {\n          hammer,\n          panstart,\n          panmove,\n          panend,\n          pancancel\n        }\n      } else if (key === 'pinch') {\n        const pinchstart = (e: any) => {\n          if (!this.enabled) return\n          if ((window as any).openElementMap) return\n          const ev = new PinchEvent()\n          ev.target = this\n          ev.timestamp = e.timeStamp\n          ev.state = PinchState.BEGAN\n          ev.scale = e.scale\n          this.listeners[key].forEach(listener => listener(ev))\n        }\n        const pinchmove = (e: any) => {\n          if (!this.enabled) return\n          if ((window as any).openElementMap) return\n          const ev = new PinchEvent()\n          ev.target = this\n          ev.timestamp = e.timeStamp\n          ev.state = PinchState.CHANGED\n          ev.scale = e.scale\n          this.listeners[key].forEach(listener => listener(ev))\n        }\n        const pinchend = (e: any) => {\n          if (!this.enabled) return\n          if ((window as any).openElementMap) return\n          const ev = new PinchEvent()\n          ev.target = this\n          ev.timestamp = e.timeStamp\n          ev.state = PinchState.ENDED\n          ev.scale = e.scale\n          this.listeners[key].forEach(listener => listener(ev))\n        }\n        const pinchcancel = (e: any) => {\n          if (!this.enabled) return\n          if ((window as any).openElementMap) return\n\n          const ev = new PinchEvent()\n          ev.target = this\n          ev.timestamp = e.timeStamp\n          ev.state = PinchState.CANCELLED\n          ev.scale = e.scale\n          this.listeners[key].forEach(listener => listener(ev))\n        }\n        const hammer = new Hammer(this.node)\n        hammer.get('pinch').set({ enable: true });\n        hammer.on('pinchstart', pinchstart)\n        hammer.on('pinchmove', pinchmove)\n        hammer.on('pinchend', pinchend)\n        hammer.on('pinchcancel', pinchcancel)\n        this.eventListeners[key] = {\n          hammer,\n          pinchstart,\n          pinchmove,\n          pinchend,\n          pinchcancel\n        }\n      } else if (key === 'swipe') {\n        const swipeleft = (e: any) => {\n          if (!this.enabled) return\n          if ((window as any).openElementMap) return\n\n          const ev = new SwipeEvent()\n          ev.target = this\n          ev.timestamp = e.timeStamp\n          ev.state = SwipeState.BEGAN\n          ev.direction = 2\n          this.listeners[key].forEach(listener => listener(ev))\n        }\n        const swiperight = (e: any) => {\n          if (!this.enabled) return\n          if ((window as any).openElementMap) return\n\n          const ev = new SwipeEvent()\n          ev.target = this\n          ev.timestamp = e.timeStamp\n          ev.state = SwipeState.BEGAN\n          ev.direction = 1\n          this.listeners[key].forEach(listener => listener(ev))\n        }\n        const swipeup = (e: any) => {\n          if (!this.enabled) return\n          if ((window as any).openElementMap) return\n\n          const ev = new SwipeEvent()\n          ev.target = this\n          ev.timestamp = e.timeStamp\n          ev.state = SwipeState.BEGAN\n          ev.direction = 4\n          this.listeners[key].forEach(listener => listener(ev))\n        }\n        const swipedown = (e: any) => {\n          if (!this.enabled) return\n          if ((window as any).openElementMap) return\n\n          const ev = new SwipeEvent()\n          ev.target = this\n          ev.timestamp = e.timeStamp\n          ev.state = SwipeState.BEGAN\n          ev.direction = 8\n          this.listeners[key].forEach(listener => listener(ev))\n        }\n        const hammer = new Hammer(this.node)\n        hammer.get('swipe').set({\n          direction: Hammer.DIRECTION_ALL\n        });\n        hammer.on('swipeleft', swipeleft)\n        hammer.on('swiperight', swiperight)\n        hammer.on('swipeup', swipeup)\n        hammer.on('swipedown', swipedown)\n        this.eventListeners[key] = {\n          hammer,\n          swipeleft,\n          swiperight,\n          swipeup,\n          swipedown\n        }\n      } else if (key === 'tap') {\n        const tap = (event: any) => {\n          if (!this.enabled) return\n          if ((window as any).openElementMap) return\n          const ev = new TapEvent()\n          ev.target = this\n          ev.position = {\n            x: event.center.x,\n            y: event.center.y\n          }\n          ev.timestamp = event.timeStamp\n          ev.state = TapState.BEGAN\n          this.listeners[key].forEach(listener => listener(ev))\n        }\n\n        const hammer = new Hammer(this.node)\n        hammer.on(key, tap)\n        this.eventListeners[key] = { hammer, tap }\n      } else if (key === 'input') {\n        const input = (e: any) => {\n          if (!this.enabled) return\n          const ev = new InputEvent()\n          ev.target = this\n          ev.state = InputState.CHANGED\n          ev.text = e.target.value\n          this.listeners[key].forEach(listener => listener(ev))\n        }\n        const focus = (e: any) => {\n          if (!this.enabled) return\n\n          const ev = new InputEvent()\n          ev.target = this\n          ev.state = InputState.BEGAN\n          ev.text = e.target.value\n          this.listeners[key].forEach(listener => listener(ev))\n        }\n        const blur = (e: any) => {\n          if (!this.enabled) return\n          const ev = new InputEvent()\n          ev.target = this\n          ev.state = InputState.ENDED\n          ev.text = e.target.value\n          this.listeners[key].forEach(listener => listener(ev))\n        }\n        this.node.addEventListener('input', input)\n        this.node.addEventListener('focus', focus)\n        this.node.addEventListener('blur', blur)\n        this.eventListeners[key] = { input, focus, blur }\n      } else if (key === 'scroll') {\n        const scroll = () => {\n          if (!this.enabled) return\n          const ev = new ScrollEvent()\n          ev.target = this\n          this.listeners[key].forEach(listener => listener(ev))\n        }\n        this.node.addEventListener(key, scroll)\n        this.eventListeners[key] = { scroll }\n      } else if (key === 'touch') {\n        const touch = (e) => {\n          e.stopPropagation && e.stopPropagation();\n          e.preventDefault && e.preventDefault();\n          if (!this.enabled) return\n          if ((window as any).openElementMap) return\n          const ev = new TouchEvent()\n          ev.target = this\n          ev.timestamp = e.timeStamp\n          ev.position = {\n            x: e.targetTouches[0]?.clientX - e.target?.getBoundingClientRect().left,\n            y: e.targetTouches[0]?.clientY - e.target?.getBoundingClientRect().top,\n          }\n          switch (e.type) {\n            case 'touchstart':\n              ev.state = TouchState.BEGAN\n              break;\n            case 'touchmove':\n              ev.state = TouchState.CHANGED\n              break;\n            case 'touchend':\n              ev.position = {\n                x: e.changedTouches[0]?.clientX - e.target?.getBoundingClientRect().left,\n                y: e.changedTouches[0]?.clientY - e.target?.getBoundingClientRect().top,\n              }\n              ev.state = TouchState.ENDED\n              break;\n            case 'touchcancel':\n              ev.state = TouchState.CANCELLED\n              break;\n          }\n          this.listeners[key].forEach(listener => listener(ev))\n        }\n        this.node.addEventListener('touchstart', touch, false)\n        this.node.addEventListener('touchmove', touch, false)\n        this.node.addEventListener('touchend', touch, false)\n        this.node.addEventListener('touchcancel', touch, false)\n        this.eventListeners[key] = { touch }\n      }\n    }\n  }\n\n  removeEventListener(key: EventType, listener: EventListener) {\n    if (this.listeners[key]) {\n      // 将事件从事件队列中删除\n      this.listeners[key] = this.listeners[key].filter(\n        _listener => _listener !== listener\n      )\n      // 如果事件队列为空，取消事件监听\n      if (this.listeners[key].length === 0) {\n        if (key === 'longPress') {\n          const { hammer, press, pressup } = this.eventListeners[key]\n          hammer.off('press', press)\n          hammer.off('pressup', pressup)\n        } else if (key === 'pan') {\n          const {\n            hammer,\n            panstart,\n            panmove,\n            panend,\n            pancancel\n          } = this.eventListeners[key]\n          hammer.off('panstart', panstart)\n          hammer.off('panmove', panmove)\n          hammer.off('panend', panend)\n          hammer.off('pancancel', pancancel)\n        } else if (key === 'pinch') {\n          const {\n            hammer,\n            pinchstart,\n            pinchmove,\n            pinchend,\n            pinchcancel\n          } = this.eventListeners[key]\n          hammer.off('pinchstart', pinchstart)\n          hammer.off('pinchmove', pinchmove)\n          hammer.off('pinchend', pinchend)\n          hammer.off('pinchcancel', pinchcancel)\n        } else if (key === 'swipe') {\n          const {\n            hammer,\n            swipeleft,\n            swiperight,\n            swipeup,\n            swipedown\n          } = this.eventListeners[key]\n          hammer.off('swipeleft', swipeleft)\n          hammer.off('swiperight', swiperight)\n          hammer.off('swipeup', swipeup)\n          hammer.off('swipedown', swipedown)\n        } else if (key === 'tap') {\n          const { hammer, tap } = this.eventListeners[key]\n          hammer.off('tap', tap)\n        } else if (key === 'input') {\n          const { input, focus, blur } = this.eventListeners[key]\n          this.node.removeEventListener('input', input)\n          this.node.removeEventListener('focus', focus)\n          this.node.removeEventListener('blur', blur)\n        } else if (key === 'scroll') {\n          const { scroll } = this.eventListeners[key]\n          this.node.removeEventListener('scroll', scroll)\n        } else if (key === 'touch') {\n          const { touch } = this.eventListeners[key]\n          this.node.removeEventListener('touchstart', touch, false)\n          this.node.removeEventListener('touchmove', touch, false)\n          this.node.removeEventListener('touchend', touch, false)\n          this.node.removeEventListener('touchcancel', touch, false)\n        }\n        this.eventListeners[key] = void 0\n      }\n    }\n  }\n\n  addAnimation(animation: BasicAnimation | KeyframeAnimation, key: string) {\n    if (animation instanceof BasicAnimation) {\n      let a = {}\n      a[`${key}`] = animation\n      this.basicAnimationArray.push(a);\n      this.formatBasicAnimation();\n    } else if (animation instanceof KeyframeAnimation) {\n      // 帧动画\n      const { keyframes, options } = this.getKeyframeAnimationOptions(animation)\n      const animate: Animation = this.node.animate(keyframes, options)\n      this.animations[key] = animate\n      animation.onstart && animation.onstart()\n      animation.onend && (animate.onfinish = animation.onend as any)\n      animate.play()\n    }\n  }\n\n  // removeAllAnimation() {\n  //   for (let key in this.animations) {\n  //     const animate: Animation = this.animations[key]\n  //     animate.pause()\n  //     animate.finish()\n  //   }\n  //   this.animations = {}\n  // }\n\n  // removeAnimationForKey(key: string) {\n  //   const animate: Animation = this.animations[key]\n  //   if (animate) {\n  //     animate.pause()\n  //     animate.finish()\n  //     // @ts-ignore\n  //     this.animations[key] = null\n  //   }\n  // }\n\n  getRect(callback: Function) {\n    let rect = {\n      width: this.node.offsetWidth,\n      height: this.node.offsetHeight,\n      left: this.node.offsetLeft,\n      right: this.node.parentNode.offsetWidth - this.node.offsetLeft - this.node.offsetWidth,\n      top: this.node.offsetTop,\n      bottom: this.node.parentNode.offsetHeight - this.node.offsetTop - this.node.offsetHeight,\n      windowLeft: this.node.getBoundingClientRect().left,\n      windowRight: this.node.getBoundingClientRect().right,\n      windowTop: this.node.getBoundingClientRect().top,\n      windowBottom: this.node.getBoundingClientRect().bottom\n    }\n    callback(rect)\n  }\n\n  dbg_highlight(isHighlight: Boolean) {\n    !!isHighlight ? this.node.classList.add('hm-high-light') : this.node.classList.remove('hm-high-light')\n  }\n\n  resetStyle() { }\n\n  requestViewWidth(callback: Function) { }\n\n  requestViewHeight(callback: Function) { }\n\n  // /**\n  //  * @deprecated\n  //  */\n  // private getTransitionProperties (ani: BasicAnimation) {\n  //   return {\n  //     [this.convertPath(ani.path)]: this.convertPathValue(ani.path, ani.value),\n  //     'transitionProperty': '*',\n  //     'transitionDuration': `${ani.duration}ms`,\n  //     'transitionTimingFunction': ani.easing,\n  //     'transitionDelay': ani.duration\n  //   }\n  // }\n\n  /**\n   * 获取属性动画的原始值(第一帧值)\n   */\n  private getBasicAnimationDefaultKeyframeAnimationOptions(\n    ani: Array<BasicAnimation>\n  ) {\n    let playKeyframes = {}\n    ani.forEach((item) => {\n      switch (item.path) {\n        case 'position':\n        case 'scale':\n        case 'scaleX':\n        case 'scaleY':\n        case 'rotationX':\n        case 'rotationY':\n        case 'rotationZ':\n          playKeyframes['transform'] = getComputedStyle(this.node)['transform']\n          break;\n        case 'opacity':\n          playKeyframes['opacity'] = getComputedStyle(this.node)['opacity']\n          break;\n        case 'backgroundColor':\n          playKeyframes['backgroundColor'] = getComputedStyle(this.node)['backgroundColor']\n          break;\n        default:\n          // @ts-ignore\n          playKeyframes[`${item.path}`] = getComputedStyle(this.node)[`${item.path}`]\n          break;\n      }\n    })\n    return playKeyframes\n  }\n\n  /**\n   * 获取属性动画的结果值(最后一帧值)\n   */\n  private getBasicAnimationKeyFrameAnimationOptions(ani: Array<BasicAnimation>) {\n    let keyframes, endKeyframes = {}\n    ani.forEach(item => {\n      if (this.convertPath(item.path) === 'transform') {\n        if (endKeyframes['transform']) {\n          endKeyframes['transform'] = `${this.convertPathValue(item.path, item.value)} ${endKeyframes['transform']}`\n        } else {\n          endKeyframes['transform'] = this.convertPathValue(item.path, item.value)\n        }\n      } else {\n        endKeyframes[`${this.convertPath(item.path)}`] = this.convertPathValue(item.path, item.value)\n      }\n      endKeyframes['easing'] = item.easing\n    })\n    keyframes = [this.getBasicAnimationDefaultKeyframeAnimationOptions(ani), endKeyframes];\n    return {\n      keyframes: keyframes,\n      options: {\n        fill: 'forwards',\n        easing: ani[0].easing,\n        delay: ani[0].delay || 0,\n        direction: 'normal',\n        duration: ani[0].duration * 1000,\n        iterations: ani[0].repeatCount < 0 ? 'Infinity' : (ani[0].repeatCount === 0 || ani[0].repeatCount === 1 ? 1 : ani[0].repeatCount)\n      }\n    }\n  }\n\n  private getKeyframeAnimationOptions(ani: KeyframeAnimation) {\n    const keyframes = ani.keyframes.map(item => ({\n      [this.convertPath(ani.path)]: this.convertPathValue(ani.path, item.value),\n      offset: item.percent,\n      easing: item.easing\n    }))\n    return {\n      keyframes,\n      options: {\n        fill: 'forwards',\n        easing: ani.easing,\n        delay: ani.delay || 0,\n        direction: 'normal',\n        duration: ani.duration * 1000,\n        iterations: ani.repeatCount < 0 ? 'Infinity' : (ani.repeatCount === 0 || ani.repeatCount === 1 ? 1 : ani.repeatCount)\n      }\n    }\n  }\n\n  private convertPath(path: string) {\n    switch (path) {\n      case 'position':\n      case 'rotationX':\n      case 'rotationY':\n      case 'rotationZ':\n      case 'scale':\n      case 'scaleX':\n      case 'scaleY':\n        return 'transform'\n      default:\n        return path\n    }\n  }\n\n  private convertPathValue(path: string, value: any) {\n    switch (path) {\n      case 'position':\n        return `translate(${formatUnit(value.x)},${formatUnit(value.y)})`\n      case 'rotationX':\n        return `rotate3d(1,0,0,${value}deg)`\n      case 'rotationY':\n        return `rotate3d(0,1,0,${value}deg)`\n      case 'rotationZ':\n        return `rotate3d(0,0,1,${value}deg)`\n      case 'scale':\n        return `scale3d(${value},${value},1)`\n      case 'scaleX':\n        return `scale3d(${value},1,1)`\n      case 'scaleY':\n        return `scale3d(1,${value},1)`\n      default:\n        if (isNeedUnitTrasform(path)) {\n          return formatUnit(value)\n        }\n        return value\n    }\n  }\n}\n","import { View, ViewStyle } from './View'\nimport { styleTransformer } from '../../common/style'\n// TODO Image Component 对接\nexport interface ImageStyle extends ViewStyle {\n  // 图片拉伸模式\n  resize?: 'origin' | 'contain' | 'cover' | 'stretch'\n}\n\nexport class Image extends View {\n  protected _style: ImageStyle\n  protected _src!: string\n  protected _gifSrc!: string\n\n  constructor() {\n    super()\n    // @ts-ignore\n    this._style = new Proxy(this._style, {\n      get: (target, key) => {\n        // 获取style\n        switch (key) {\n          case 'resize':\n            // @ts-ignore\n            return target[key] || this.node.style.backgroundSize\n          default:\n            // @ts-ignore\n            return target[key] || this.node.style[key]\n        }\n      },\n      set: (target, key, value) => {\n        // 设置style\n        // @ts-ignore\n        target[key] = value\n        switch (key) {\n          case 'resize':\n            this.setImageResizeMode(value)\n            break\n        }\n        return true\n      }\n    })\n    this.setImageResizeMode('default');\n  }\n\n  protected createNode() {\n    this.node = document.createElement('div')\n  }\n\n  private setImageResizeMode(value: string) {\n    switch (value || 'default') {\n      case 'origin':\n        this.node.style.backgroundSize = 'initial'\n        this.node.style.backgroundRepeat = 'no-repeat'\n        this.node.style.backgroundPosition = 'center center'\n        break\n      case 'contain':\n        this.node.style.backgroundSize = 'contain'\n        this.node.style.backgroundRepeat = 'no-repeat'\n        this.node.style.backgroundPosition = 'center center'\n        break\n      case 'cover':\n        this.node.style.backgroundSize = 'cover'\n        this.node.style.backgroundRepeat = 'no-repeat'\n        this.node.style.backgroundPosition = 'center center'\n        break\n      case 'stretch':\n        this.node.style.backgroundSize = '100% 100%'\n        this.node.style.backgroundRepeat = 'no-repeat'\n        this.node.style.backgroundPosition = '0 0'\n        break\n      default:\n        this.node.style.backgroundSize = 'initial'\n        this.node.style.backgroundRepeat = 'no-repeat'\n        this.node.style.backgroundPosition = 'center center'\n    }\n  }\n\n  get style() {\n    return this._style\n  }\n\n  set style(_style: ImageStyle) {\n    let deepStyle = JSON.parse(JSON.stringify(_style))\n    let standardStyle = styleTransformer.transformStyle(deepStyle)\n    this._style = Object.assign(this._style, standardStyle)\n  }\n  get src() {\n    return this._src\n  }\n\n  set src(src) {\n    this._src = src\n    this.node.style.backgroundImage = `url(${src})`\n  }\n\n  get gifSrc() {\n    return this._gifSrc\n  }\n\n  set gifSrc(gifSrc) {\n    this._gifSrc = gifSrc\n    this.node.style.backgroundImage = `url(${gifSrc})`\n  }\n\n  get gifRepeatCount(): number {\n    return 0\n  }\n\n  set gifRepeatCount(gifRepeatCount: number) { }\n\n  set onload(onload: Function) {\n    this.node.onload = onload\n  }\n\n  get onload() {\n    return this.node.onload\n  }\n\n}\n","import { View } from './view/View'\nimport { Image } from './view/Image'\nclass ToastThis {\n  customView?: View\n  toastTimer?:any\n  constructor() {\n    this.customView = new View\n    this.customView.node.classList.add('hm-default-toast')\n    document.body.appendChild(this.customView.node)\n  }\n  show(msg: string, duration?: number) {\n    let that = this\n    that.customView.removeAll()\n    clearTimeout(that.toastTimer)\n    that.customView.node.innerHTML = msg\n    that.customView.style.display = 'flex'\n    that.customView.style.opacity = 1\n    that.toastTimer = setTimeout(() => {\n      that.customView.node.addEventListener('transitionend',that.hide.bind(that))\n      that.customView.style.opacity = 0\n    }, duration || 2000)\n  }\n  custom(view: View, duration?: number) {\n    let that = this\n    that.customView.removeAll()\n    clearTimeout(that.toastTimer)\n    that.customView.node.innerHTML = view\n    that.customView.style.display = 'flex'\n    that.customView.style.opacity = 1\n    that.toastTimer = setTimeout(() => {\n      that.customView.node.addEventListener('transitionend',that.hide.bind(that))\n      that.customView.style.opacity = 0\n    }, duration || 2000)\n  }\n  private hide(){\n    this.customView.style.display = 'none'\n    this.customView.node.removeEventListener('transitionend',this.hide,false);\n  }\n}\n\nexport class Dialog {\n  cancelable?: boolean = true\n  customView?: View\n  alertView?: View\n  alertViewMsg?: View\n  alertViewBtn?: View\n  loadingView?: View\n  loadingViewIcon?: Image\n  loadingViewText?: View\n  confirmView?: View\n  confirmViewText?: View\n  confirmViewOkBtn?: View\n  confirmViewCancelBtn?: View\n  constructor() {\n    this.customView = new View\n\n    this.alertView = new View\n    this.alertViewMsg = new View\n    this.alertViewBtn = new View\n\n    this.loadingView = new View\n    this.loadingViewIcon = new Image\n    this.loadingViewText = new View\n\n    this.confirmView = new View\n    this.confirmViewText = new View\n    this.confirmViewOkBtn = new View\n    this.confirmViewCancelBtn = new View\n\n    this.customView.node.classList.add('hm-default-dialog')\n\n    this.alertView.node.classList.add('hm-default-alert-box')\n    this.alertViewMsg.node.classList.add('hm-default-alert-msg')\n    this.alertViewBtn.node.classList.add('hm-default-alert-btn')\n\n    this.loadingView.node.classList.add('hm-default-loading')\n    this.loadingViewIcon.node.classList.add('hm-default-loading-icon')\n    this.loadingViewIcon.src = 'https://pt-starimg.didistatic.com/static/starimg/img/MQnSutHeKH1637821723847.png'\n    this.loadingViewIcon.style.resize = 'cover'\n\n    this.confirmView.node.classList.add('hm-default-alert-box')\n    this.confirmViewText.node.classList.add('hm-default-confirm-view-text')\n    this.confirmViewOkBtn.node.classList.add('hm-default-confirm-view-okBtn')\n    this.confirmViewCancelBtn.node.classList.add('hm-default-confirm-view-cancelBtn')\n\n    document.body.appendChild(this.customView.node)\n    this.customView.node.ontouchend = (e) => {\n      if (e.target === this.customView.node) {\n        this.cancelable && this.dismiss()\n      }\n    }\n  }\n  alert(msg: string, btnText?: string, callback?: Function) {\n    this.customView.removeAll()\n    this.alertViewMsg.node.innerHTML = msg\n    this.alertViewBtn.node.innerHTML = btnText || '确定'\n    this.customView.node.children.length === 0 && this.customView.appendChild(this.alertView)\n    this.alertView.node.children.length === 0 && (this.alertView.appendChild(this.alertViewMsg), this.alertView.appendChild(this.alertViewBtn))\n    this.customView.style.display = 'block'\n    this.alertViewBtn.node.onclick = () => {\n      this.dismiss()\n      callback()\n    }\n  }\n  confirm(\n    title: string,\n    msg: string,\n    okBtnText: string,\n    cancelBtnText: string,\n    okCallback: Function,\n    cancelCallback: Function\n  ) {\n    this.customView.removeAll()\n    this.alertViewMsg.node.innerHTML = title\n    this.confirmViewText.node.innerHTML = msg\n    this.confirmViewOkBtn.node.innerHTML = okBtnText || '确认'\n    this.confirmViewCancelBtn.node.innerHTML = cancelBtnText || '取消'\n    this.customView.node.children.length === 0 && this.customView.appendChild(this.confirmView)\n    this.confirmView.node.children.length === 0 && (this.confirmView.appendChild(this.alertViewMsg), this.confirmView.appendChild(this.confirmViewText), this.confirmView.appendChild(this.alertViewBtn))\n    this.alertViewBtn.node.children.length === 0 && (this.alertViewBtn.appendChild(this.confirmViewCancelBtn), this.alertViewBtn.appendChild(this.confirmViewOkBtn))\n    this.customView.style.display = 'block'\n    this.confirmViewOkBtn.node.onclick = () => {\n      this.dismiss()\n      okCallback()\n    }\n    this.confirmViewCancelBtn.node.onclick = () => {\n      this.dismiss()\n      cancelCallback()\n    }\n  }\n  loading(msg: string) {\n    this.customView.removeAll()\n    this.loadingViewText.node.innerHTML = msg || 'loading...'\n    this.customView.node.children.length === 0 && this.customView.appendChild(this.loadingView)\n    this.loadingView.node.children.length === 0 && (this.loadingView.appendChild(this.loadingViewIcon), this.loadingView.appendChild(this.loadingViewText))\n    this.customView.style.display = 'block'\n  }\n  custom(view: View) {\n    this.customView.removeAll()\n    this.customView.node.children.length === 0 && this.customView.appendChild(view)\n    this.customView.style.display = 'block'\n  }\n  dismiss() {\n    this.customView && (this.customView.style.display = 'none')\n  }\n}\nglobalThis.Dialog = Dialog\nglobalThis.Toast = new ToastThis()\nexport const Toast = new ToastThis()","export const Location = {\n  getLastLocation(callback: Function) {},\n  startLocation(callback: Function, intervalTime: number, intervalDistance: number) {},\n  stopLocation() {},\n  onError(callback: Function) {},\n}\n","export const Memory = {\n  set(key: any, value: any): void {\n    sessionStorage.setItem(key, value);\n  },\n  get(key: any): string {\n    return sessionStorage.getItem(key);\n  },\n  getAll(): object {\n    let sessionKeys: Array<any> = Object.keys(sessionStorage)\n    let sessionAll: object = {}\n    sessionKeys.forEach((item) => {\n      sessionAll[item] = sessionStorage.getItem(item)\n    })\n    return sessionAll;\n  },\n  remove(key: any): void {\n    sessionStorage.removeItem(key)\n  },\n  removeAll(): void {\n    sessionStorage.clear()\n  },\n  exist(key: any): boolean {\n    return !(sessionStorage.getItem(key) == null);\n  }\n}\n","import {getQueryVariable,updateQueryStringParameter} from '../common/utils'\ninterface Ioptions {\n  url: string;\n  params: object;\n  animated: boolean;\n  id: string;\n  closeSelf: boolean;\n}\nexport const Navigator = {\n  openPage: (options: Ioptions, callback?: Function) => {\n    let url = ''\n    let cloneOptions = JSON.parse(JSON.stringify(options))\n    let navbar = getQueryVariable('navBar',url);\n    if (cloneOptions.url.match(/^(hummer:\\/\\/||http||.\\/).*.js$/g)) {\n      cloneOptions.url = `http://${window.location.host}${cloneOptions.url.match(/\\/.*.js$/g)[0].split('.')[0]}`\n      url = `${cloneOptions.url}?pageInfo=${encodeURIComponent(JSON.stringify(cloneOptions))}`\n    } else if (cloneOptions.url.match(/^http.*/g)) {\n      url = cloneOptions.url\n    }\n    if(navbar){\n      url = updateQueryStringParameter(url,'navBar',navbar)\n    }\n    if (cloneOptions.closeSelf) {\n      location.replace(url)\n    } else {\n      location.assign(url)\n    }\n    callback&&callback();\n  },\n  popPage: (options?: any) => {\n    history.go(-1);\n  },\n  popToPage: (options?: any) => { \n    // 暂不支持\n  },\n  popToRootPage: (options?: any) => {\n    var historyLen = history.length;\n    history.go(-(historyLen - 1));\n  },\n  popBack: (count: number, options?: any) => {\n    history.go(-`${count}`);\n  }\n}\n// @ts-ignore\nglobalThis.Navigator = Navigator","export const Phone = {\n  call(phoneNum: string, callback: Function) {}\n}\n","import { Request } from './Request'\n\nexport class Response {\n  public status!: number\n  public header!: { [key: string]: any }\n  public data!: any\n  public error!:any\n  public message!: any\n  public request!: Request\n}\n","import { Response } from './Response'\n\n/**\n * 参考\n * https://segmentfault.com/a/1190000004322487#articleHeader0\n * https://juejin.im/entry/5a4ea104518825733a307ed1\n */\nexport class Request {\n  public url!: string\n  public method!: 'GET' | 'POST'\n  public timeout: number = 10 * 1000 // 10s\n  public header: { [key: string]: any } = {}\n  public param: { [key: string]: any } = {}\n  public withCredentials: boolean = false\n\n  send(callback: (response: Response) => void) {\n    const xhr = new XMLHttpRequest()\n    if(this.method === 'GET') {\n      let getData = ''\n      for(var str in this.param){ \n        getData +=str+'='+this.param[str] + '&'\n      }\n      getData = getData.substring(0, getData.length - 1);\n      if(this.url.indexOf('?')>=0){\n        this.url = `${this.url}&${getData}`\n      } else {\n        this.url = `${this.url}?${getData}`\n      }\n    }\n    xhr.open(this.method, this.url)\n    xhr.timeout = this.timeout\n    if (this.method === 'POST') {\n      xhr.setRequestHeader('Content-Type', 'application/x-www-form-urlencoded')\n    }\n    xhr.withCredentials = this.withCredentials\n    for (let key in this.header) {\n      xhr.setRequestHeader(key, this.header[key])\n    }\n    xhr.ontimeout = () => {\n      const response = new Response()\n      response.status = -1\n      response.request = this\n      callback(response)\n    }\n    xhr.onerror = (e)=>{ \n\n     };\n    xhr.onload = (e) => {\n      console.log(e)\n      let data = null\n      switch (xhr.responseType) {\n        case 'document':\n          data = xhr.responseXML\n          break\n        case 'json':\n        case 'text':\n          try {\n            data = JSON.parse(xhr.responseText)\n          } catch (e) {\n            data = xhr.response\n          }\n          break\n        case 'arraybuffer':\n        case 'blob':\n        default:\n          try {\n            data = JSON.parse(xhr.response)\n          } catch (e) {\n            data = xhr.response\n          }\n          break\n      }\n      const response = new Response()\n      response.status = xhr.status\n      response.data = data\n      response.message = xhr.statusText\n      response.error = {\n        code: 0\n      }\n      if (xhr.status !== 200) {\n        response.error = {\n          code: xhr.status,\n          msg: xhr.statusText,\n        }\n        response.message = xhr.statusText\n      }\n      response.request = this\n      const headers = xhr.getAllResponseHeaders()\n      const arr = headers.trim().split(/[\\r\\n]+/)\n      const headerMap = {}\n      arr.forEach(function (line) {\n        const parts = line.split(': ')\n        const header = parts.shift()\n        // @ts-ignore\n        headerMap[header] = parts.join(': ')\n      })\n      response.header = headerMap\n      callback(response)\n    }\n    const data = Object.keys(this.param)\n      .map(key => `${key}=${this.param[key]}`)\n      .join('&')\n    xhr.send(data)\n  }\n}\n// @ts-ignore\nglobalThis.Request = Request\n\n","// Hummer侧的WebSocket协议已经和web端统一  https://github.com/didi/Hummer/issues/280\nexport const WebSocket = window.WebSocket","export const Storage = {\n  set(key: any, value: any): void {\n    localStorage.setItem(key, value);\n  },\n  get(key: any): string {\n    return localStorage.getItem(key);\n  },\n  getAll(): object {\n    let storageKeys: Array<any> = Object.keys(localStorage)\n    let storageAll: object = {}\n    storageKeys.forEach((item) => {\n      storageAll[item] = localStorage.getItem(item)\n    })\n    return storageAll;\n  },\n  remove(key: any): void {\n    localStorage.removeItem(key)\n  },\n  removeAll(): void {\n    localStorage.clear()\n  },\n  exist(key: any): boolean {\n    return !(localStorage.getItem(key) == null);\n  }\n}","export class Timer {\n  private intervalTimer!: any\n  private timeoutTimer!: any\n\n  // 轮询间隔\n  setInterval(callback: Function, time: number) {\n    this.intervalTimer = setInterval(callback, time)\n  }\n\n  // 取消轮询\n  clearInterval() {\n    if (this.intervalTimer) {\n      clearInterval(this.intervalTimer)\n      this.intervalTimer = null\n    }\n  }\n\n  // 设置超时\n  setTimeout(callback: Function, timeout: number) {\n    this.timeoutTimer = setTimeout(() => {\n      callback()\n      this.timeoutTimer = null\n    }, timeout)\n  }\n\n  // 取消超时\n  clearTimeout() {\n    if (this.timeoutTimer) {\n      clearTimeout(this.timeoutTimer)\n      this.timeoutTimer = null\n    }\n  }\n}\n","import { Event } from './Event'\nimport { EventType } from '../view/View'\n\nexport interface SwitchEventListener {\n  (event?: SwitchEvent): void\n}\n\nexport class SwitchEvent extends Event {\n  public state!: Boolean\n\n  get type(): EventType {\n    return 'switch'\n  }\n}\n","import { View, ViewStyle } from './View'\nexport interface ButtonStyle extends ViewStyle {\n  textAlign?: 'left' | 'center' | 'right'\n  fontFamily?: string\n  fontSize?: string | number\n  color?: string\n}\n\nexport class Button extends View {\n  private _beforeDisabledStyle!: ButtonStyle\n  // 禁止状态下的样式\n  private _disabled!: ButtonStyle\n  private _beforePressedStyle!: ButtonStyle\n  // 按下态的样式\n  private _pressedStyle!: ButtonStyle\n\n  constructor() {\n    super()\n    this.defaultStyle()\n    this.init()\n    this._style = new Proxy(this._style, {\n      get: (target, key) => {\n        // @ts-ignore\n        return target[key] || this.node.style[key]\n      },\n      set: (target, key, value) => {\n        // 设置style\n        // @ts-ignore\n        target[key] = value\n        switch (key) {\n          case 'textAlign':\n            switch (value) {\n              case 'left':\n                this.node.style.justifyContent = 'flex-start'\n                break;\n              case 'center':\n                this.node.style.justifyContent = 'center'\n                break;\n              case 'right':\n                this.node.style.justifyContent = 'flex-end'\n                break;\n              default:\n                break;\n            }\n            break\n        }\n        return true\n      }\n    })\n  }\n  protected defaultStyle() {\n    this.node.classList.add('hm-default-button')\n  }\n\n  private init() {\n    const pressEvent = (e) => {\n      e.stopPropagation();\n      e.preventDefault();\n      if (!this.enabled) return\n      if (this.pressed) {\n        // 记录press之前的样式\n        this._beforePressedStyle = Object.keys(this.pressed).reduce(\n          (pre, curr) => {\n            // @ts-ignore\n            pre[curr] = this.style[curr]\n            return pre\n          },\n          {}\n        )\n        // console.warn('record _beforePressedStyle', this._beforePressedStyle)\n        // 设置pressed样式\n        this.style = this.pressed\n      }\n    }\n    const pressUpEvent = (e) => {\n      e.stopPropagation();\n      e.preventDefault();\n      if (!this.enabled) return\n      if (this._beforePressedStyle) {\n        // 恢复pressed之前的样式\n        this.style = this._beforePressedStyle\n        console.warn('reset _beforePressedStyle', this._beforePressedStyle)\n      }\n      // Todo: 事件中断处理？可以通过代理全局对象进行代理来做样式兜底\n    }\n    const touchmove = (e) => {\n      e.stopPropagation();\n      e.preventDefault();\n    }\n    this.node.addEventListener('touchstart', pressEvent, false)\n    this.node.addEventListener('touchend', pressUpEvent, false)\n    this.node.addEventListener('touchcancel', pressUpEvent, false)\n    this.node.addEventListener('touchmove', touchmove.bind(this), false)\n\n    this.node.addEventListener('mousedown', pressEvent, false)\n    this.node.addEventListener('mouseup', pressUpEvent, false)\n    this.node.addEventListener('mouseout', pressUpEvent, false)\n\n  }\n  protected createNode() {\n    this.node = document.createElement('button')\n  }\n\n  get text() {\n    return this.node.innerText\n  }\n\n  set text(text: string) {\n    this.node.innerText = text\n  }\n\n  get enabled() {\n    return this._enabled\n  }\n\n  set enabled(_enabled: boolean) {\n    this._enabled = _enabled\n    if (!_enabled) {\n      // Todo: 原生标签的属性 disabled 的值是 ‘disabled’\n      this.node.disabled = true\n      // 设置disabled样式\n      if (this.disabled) {\n        // 记录之前的原始的样式\n        this._beforeDisabledStyle = Object.keys(this.disabled).reduce(\n          (pre, curr) => {\n            // @ts-ignore\n            pre[curr] = this.style[curr]\n            return pre\n          },\n          {}\n        )\n        // console.warn('record _beforeDisabledStyle', this._beforeDisabledStyle)\n        // 设置样式\n        this.style = this.disabled\n      }\n    } else {\n      this.node.disabled = false\n      // 恢复disabled之前的样式\n      if (this._beforeDisabledStyle) {\n        this.style = this._beforeDisabledStyle\n        // console.warn('reset _beforeDisabledStyle', this._beforeDisabledStyle)\n      }\n    }\n  }\n\n  get disabled() {\n    return this._disabled\n  }\n\n  set disabled(value: ButtonStyle) {\n    // 设置样式\n    this._disabled = value\n    // 触发enabled的修改，更新样式s\n    this.enabled = this._enabled\n  }\n\n  get pressed() {\n    return this._pressedStyle\n  }\n\n  set pressed(value: ButtonStyle) {\n    this._pressedStyle = value\n  }\n}\n","import { View, ViewStyle } from './View'\n\nexport interface CarouselStyle extends ViewStyle {}\n\nexport class Carousel extends View {\n  protected _style: CarouselStyle\n  addRegionChangedListener: Function\n\n  constructor() {\n    super()\n  }\n\n  protected createNode() {\n    this.node = document.createElement('div')\n  }\n  onPageChange(callback) {\n    callback()\n  }\n\n  onItemClick(callback) {\n    callback()\n  }\n  onItemView(callback) {\n    callback()\n  }\n}\n","/*!\n * better-scroll / better-scroll\n * (c) 2016-2021 ustbhuangyi\n * Released under the MIT License.\n */\n/*! *****************************************************************************\r\nCopyright (c) Microsoft Corporation.\r\n\r\nPermission to use, copy, modify, and/or distribute this software for any\r\npurpose with or without fee is hereby granted.\r\n\r\nTHE SOFTWARE IS PROVIDED \"AS IS\" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH\r\nREGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY\r\nAND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,\r\nINDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM\r\nLOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR\r\nOTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR\r\nPERFORMANCE OF THIS SOFTWARE.\r\n***************************************************************************** */\r\n/* global Reflect, Promise */\r\n\r\nvar extendStatics = function(d, b) {\r\n    extendStatics = Object.setPrototypeOf ||\r\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n        function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };\r\n    return extendStatics(d, b);\r\n};\r\n\r\nfunction __extends(d, b) {\r\n    extendStatics(d, b);\r\n    function __() { this.constructor = d; }\r\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n}\r\n\r\nvar __assign = function() {\r\n    __assign = Object.assign || function __assign(t) {\r\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\r\n            s = arguments[i];\r\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\r\n        }\r\n        return t;\r\n    };\r\n    return __assign.apply(this, arguments);\r\n};\r\n\r\nfunction __awaiter(thisArg, _arguments, P, generator) {\r\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\r\n    return new (P || (P = Promise))(function (resolve, reject) {\r\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\r\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\r\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\r\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\r\n    });\r\n}\r\n\r\nfunction __generator(thisArg, body) {\r\n    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;\r\n    return g = { next: verb(0), \"throw\": verb(1), \"return\": verb(2) }, typeof Symbol === \"function\" && (g[Symbol.iterator] = function() { return this; }), g;\r\n    function verb(n) { return function (v) { return step([n, v]); }; }\r\n    function step(op) {\r\n        if (f) throw new TypeError(\"Generator is already executing.\");\r\n        while (_) try {\r\n            if (f = 1, y && (t = op[0] & 2 ? y[\"return\"] : op[0] ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\r\n            if (y = 0, t) op = [op[0] & 2, t.value];\r\n            switch (op[0]) {\r\n                case 0: case 1: t = op; break;\r\n                case 4: _.label++; return { value: op[1], done: false };\r\n                case 5: _.label++; y = op[1]; op = [0]; continue;\r\n                case 7: op = _.ops.pop(); _.trys.pop(); continue;\r\n                default:\r\n                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }\r\n                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }\r\n                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }\r\n                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }\r\n                    if (t[2]) _.ops.pop();\r\n                    _.trys.pop(); continue;\r\n            }\r\n            op = body.call(thisArg, _);\r\n        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }\r\n        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };\r\n    }\r\n}\r\n\r\nfunction __spreadArrays() {\r\n    for (var s = 0, i = 0, il = arguments.length; i < il; i++) s += arguments[i].length;\r\n    for (var r = Array(s), k = 0, i = 0; i < il; i++)\r\n        for (var a = arguments[i], j = 0, jl = a.length; j < jl; j++, k++)\r\n            r[k] = a[j];\r\n    return r;\r\n}\n\nvar propertiesConfig$7 = [\r\n    {\r\n        sourceKey: 'scroller.scrollBehaviorX.currentPos',\r\n        key: 'x'\r\n    },\r\n    {\r\n        sourceKey: 'scroller.scrollBehaviorY.currentPos',\r\n        key: 'y'\r\n    },\r\n    {\r\n        sourceKey: 'scroller.scrollBehaviorX.hasScroll',\r\n        key: 'hasHorizontalScroll'\r\n    },\r\n    {\r\n        sourceKey: 'scroller.scrollBehaviorY.hasScroll',\r\n        key: 'hasVerticalScroll'\r\n    },\r\n    {\r\n        sourceKey: 'scroller.scrollBehaviorX.contentSize',\r\n        key: 'scrollerWidth'\r\n    },\r\n    {\r\n        sourceKey: 'scroller.scrollBehaviorY.contentSize',\r\n        key: 'scrollerHeight'\r\n    },\r\n    {\r\n        sourceKey: 'scroller.scrollBehaviorX.maxScrollPos',\r\n        key: 'maxScrollX'\r\n    },\r\n    {\r\n        sourceKey: 'scroller.scrollBehaviorY.maxScrollPos',\r\n        key: 'maxScrollY'\r\n    },\r\n    {\r\n        sourceKey: 'scroller.scrollBehaviorX.minScrollPos',\r\n        key: 'minScrollX'\r\n    },\r\n    {\r\n        sourceKey: 'scroller.scrollBehaviorY.minScrollPos',\r\n        key: 'minScrollY'\r\n    },\r\n    {\r\n        sourceKey: 'scroller.scrollBehaviorX.movingDirection',\r\n        key: 'movingDirectionX'\r\n    },\r\n    {\r\n        sourceKey: 'scroller.scrollBehaviorY.movingDirection',\r\n        key: 'movingDirectionY'\r\n    },\r\n    {\r\n        sourceKey: 'scroller.scrollBehaviorX.direction',\r\n        key: 'directionX'\r\n    },\r\n    {\r\n        sourceKey: 'scroller.scrollBehaviorY.direction',\r\n        key: 'directionY'\r\n    },\r\n    {\r\n        sourceKey: 'scroller.actions.enabled',\r\n        key: 'enabled'\r\n    },\r\n    {\r\n        sourceKey: 'scroller.animater.pending',\r\n        key: 'pending'\r\n    },\r\n    {\r\n        sourceKey: 'scroller.animater.stop',\r\n        key: 'stop'\r\n    },\r\n    {\r\n        sourceKey: 'scroller.scrollTo',\r\n        key: 'scrollTo'\r\n    },\r\n    {\r\n        sourceKey: 'scroller.scrollBy',\r\n        key: 'scrollBy'\r\n    },\r\n    {\r\n        sourceKey: 'scroller.scrollToElement',\r\n        key: 'scrollToElement'\r\n    },\r\n    {\r\n        sourceKey: 'scroller.resetPosition',\r\n        key: 'resetPosition'\r\n    }\r\n];\n\nfunction warn(msg) {\r\n    console.error(\"[BScroll warn]: \" + msg);\r\n}\r\nfunction assert(condition, msg) {\r\n    if (!condition) {\r\n        throw new Error('[BScroll] ' + msg);\r\n    }\r\n}\n\n// ssr support\r\nvar inBrowser = typeof window !== 'undefined';\r\nvar ua = inBrowser && navigator.userAgent.toLowerCase();\r\nvar isWeChatDevTools = !!(ua && /wechatdevtools/.test(ua));\r\nvar isAndroid = ua && ua.indexOf('android') > 0;\r\n/* istanbul ignore next */\r\nvar isIOSBadVersion = (function () {\r\n    if (typeof ua === 'string') {\r\n        var regex = /os (\\d\\d?_\\d(_\\d)?)/;\r\n        var matches = regex.exec(ua);\r\n        if (!matches)\r\n            return false;\r\n        var parts = matches[1].split('_').map(function (item) {\r\n            return parseInt(item, 10);\r\n        });\r\n        // ios version >= 13.4 issue 982\r\n        return !!(parts[0] === 13 && parts[1] >= 4);\r\n    }\r\n    return false;\r\n})();\r\n/* istanbul ignore next */\r\nvar supportsPassive = false;\r\n/* istanbul ignore next */\r\nif (inBrowser) {\r\n    var EventName = 'test-passive';\r\n    try {\r\n        var opts = {};\r\n        Object.defineProperty(opts, 'passive', {\r\n            get: function () {\r\n                supportsPassive = true;\r\n            },\r\n        }); // https://github.com/facebook/flow/issues/285\r\n        window.addEventListener(EventName, function () { }, opts);\r\n    }\r\n    catch (e) { }\r\n}\n\nfunction getNow() {\r\n    return window.performance &&\r\n        window.performance.now &&\r\n        window.performance.timing\r\n        ? window.performance.now() + window.performance.timing.navigationStart\r\n        : +new Date();\r\n}\r\nvar extend = function (target, source) {\r\n    for (var key in source) {\r\n        target[key] = source[key];\r\n    }\r\n    return target;\r\n};\r\nfunction isUndef(v) {\r\n    return v === undefined || v === null;\r\n}\r\nfunction getDistance(x, y) {\r\n    return Math.sqrt(x * x + y * y);\r\n}\r\nfunction between(x, min, max) {\r\n    if (x < min) {\r\n        return min;\r\n    }\r\n    if (x > max) {\r\n        return max;\r\n    }\r\n    return x;\r\n}\r\nfunction findIndex(ary, fn) {\r\n    if (ary.findIndex) {\r\n        return ary.findIndex(fn);\r\n    }\r\n    var index = -1;\r\n    ary.some(function (item, i, ary) {\r\n        var ret = fn(item, i, ary);\r\n        if (ret) {\r\n            index = i;\r\n            return ret;\r\n        }\r\n    });\r\n    return index;\r\n}\n\nvar elementStyle = (inBrowser &&\r\n    document.createElement('div').style);\r\nvar vendor = (function () {\r\n    /* istanbul ignore if  */\r\n    if (!inBrowser) {\r\n        return false;\r\n    }\r\n    var transformNames = [\r\n        {\r\n            key: 'standard',\r\n            value: 'transform',\r\n        },\r\n        {\r\n            key: 'webkit',\r\n            value: 'webkitTransform',\r\n        },\r\n        {\r\n            key: 'Moz',\r\n            value: 'MozTransform',\r\n        },\r\n        {\r\n            key: 'O',\r\n            value: 'OTransform',\r\n        },\r\n        {\r\n            key: 'ms',\r\n            value: 'msTransform',\r\n        },\r\n    ];\r\n    for (var _i = 0, transformNames_1 = transformNames; _i < transformNames_1.length; _i++) {\r\n        var obj = transformNames_1[_i];\r\n        if (elementStyle[obj.value] !== undefined) {\r\n            return obj.key;\r\n        }\r\n    }\r\n    /* istanbul ignore next  */\r\n    return false;\r\n})();\r\n/* istanbul ignore next  */\r\nfunction prefixStyle(style) {\r\n    if (vendor === false) {\r\n        return style;\r\n    }\r\n    if (vendor === 'standard') {\r\n        if (style === 'transitionEnd') {\r\n            return 'transitionend';\r\n        }\r\n        return style;\r\n    }\r\n    return vendor + style.charAt(0).toUpperCase() + style.substr(1);\r\n}\r\nfunction getElement(el) {\r\n    return (typeof el === 'string'\r\n        ? document.querySelector(el)\r\n        : el);\r\n}\r\nfunction addEvent(el, type, fn, capture) {\r\n    var useCapture = supportsPassive\r\n        ? {\r\n            passive: false,\r\n            capture: !!capture,\r\n        }\r\n        : !!capture;\r\n    el.addEventListener(type, fn, useCapture);\r\n}\r\nfunction removeEvent(el, type, fn, capture) {\r\n    el.removeEventListener(type, fn, {\r\n        capture: !!capture,\r\n    });\r\n}\r\nfunction offset(el) {\r\n    var left = 0;\r\n    var top = 0;\r\n    while (el) {\r\n        left -= el.offsetLeft;\r\n        top -= el.offsetTop;\r\n        el = el.offsetParent;\r\n    }\r\n    return {\r\n        left: left,\r\n        top: top,\r\n    };\r\n}\r\nfunction offsetToBody(el) {\r\n    var rect = el.getBoundingClientRect();\r\n    return {\r\n        left: -(rect.left + window.pageXOffset),\r\n        top: -(rect.top + window.pageYOffset),\r\n    };\r\n}\r\nvar cssVendor = vendor && vendor !== 'standard' ? '-' + vendor.toLowerCase() + '-' : '';\r\nvar transform = prefixStyle('transform');\r\nvar transition = prefixStyle('transition');\r\nvar hasPerspective = inBrowser && prefixStyle('perspective') in elementStyle;\r\n// fix issue #361\r\nvar hasTouch = inBrowser && ('ontouchstart' in window || isWeChatDevTools);\r\nvar hasTransition = inBrowser && transition in elementStyle;\r\nvar style = {\r\n    transform: transform,\r\n    transition: transition,\r\n    transitionTimingFunction: prefixStyle('transitionTimingFunction'),\r\n    transitionDuration: prefixStyle('transitionDuration'),\r\n    transitionDelay: prefixStyle('transitionDelay'),\r\n    transformOrigin: prefixStyle('transformOrigin'),\r\n    transitionEnd: prefixStyle('transitionEnd'),\r\n    transitionProperty: prefixStyle('transitionProperty'),\r\n};\r\nvar eventTypeMap = {\r\n    touchstart: 1,\r\n    touchmove: 1,\r\n    touchend: 1,\r\n    touchcancel: 1,\r\n    mousedown: 2,\r\n    mousemove: 2,\r\n    mouseup: 2,\r\n};\r\nfunction getRect(el) {\r\n    /* istanbul ignore if  */\r\n    if (el instanceof window.SVGElement) {\r\n        var rect = el.getBoundingClientRect();\r\n        return {\r\n            top: rect.top,\r\n            left: rect.left,\r\n            width: rect.width,\r\n            height: rect.height,\r\n        };\r\n    }\r\n    else {\r\n        return {\r\n            top: el.offsetTop,\r\n            left: el.offsetLeft,\r\n            width: el.offsetWidth,\r\n            height: el.offsetHeight,\r\n        };\r\n    }\r\n}\r\nfunction preventDefaultExceptionFn(el, exceptions) {\r\n    for (var i in exceptions) {\r\n        if (exceptions[i].test(el[i])) {\r\n            return true;\r\n        }\r\n    }\r\n    return false;\r\n}\r\nvar tagExceptionFn = preventDefaultExceptionFn;\r\nfunction tap(e, eventName) {\r\n    var ev = document.createEvent('Event');\r\n    ev.initEvent(eventName, true, true);\r\n    ev.pageX = e.pageX;\r\n    ev.pageY = e.pageY;\r\n    e.target.dispatchEvent(ev);\r\n}\r\nfunction click(e, event) {\r\n    if (event === void 0) { event = 'click'; }\r\n    var eventSource;\r\n    if (e.type === 'mouseup') {\r\n        eventSource = e;\r\n    }\r\n    else if (e.type === 'touchend' || e.type === 'touchcancel') {\r\n        eventSource = e.changedTouches[0];\r\n    }\r\n    var posSrc = {};\r\n    if (eventSource) {\r\n        posSrc.screenX = eventSource.screenX || 0;\r\n        posSrc.screenY = eventSource.screenY || 0;\r\n        posSrc.clientX = eventSource.clientX || 0;\r\n        posSrc.clientY = eventSource.clientY || 0;\r\n    }\r\n    var ev;\r\n    var bubbles = true;\r\n    var cancelable = true;\r\n    var ctrlKey = e.ctrlKey, shiftKey = e.shiftKey, altKey = e.altKey, metaKey = e.metaKey;\r\n    var pressedKeysMap = {\r\n        ctrlKey: ctrlKey,\r\n        shiftKey: shiftKey,\r\n        altKey: altKey,\r\n        metaKey: metaKey,\r\n    };\r\n    if (typeof MouseEvent !== 'undefined') {\r\n        try {\r\n            ev = new MouseEvent(event, extend(__assign({ bubbles: bubbles,\r\n                cancelable: cancelable }, pressedKeysMap), posSrc));\r\n        }\r\n        catch (e) {\r\n            /* istanbul ignore next */\r\n            createEvent();\r\n        }\r\n    }\r\n    else {\r\n        createEvent();\r\n    }\r\n    function createEvent() {\r\n        ev = document.createEvent('Event');\r\n        ev.initEvent(event, bubbles, cancelable);\r\n        extend(ev, posSrc);\r\n    }\r\n    // forwardedTouchEvent set to true in case of the conflict with fastclick\r\n    ev.forwardedTouchEvent = true;\r\n    ev._constructed = true;\r\n    e.target.dispatchEvent(ev);\r\n}\r\nfunction dblclick(e) {\r\n    click(e, 'dblclick');\r\n}\r\nfunction prepend(el, target) {\r\n    var firstChild = target.firstChild;\r\n    if (firstChild) {\r\n        before(el, firstChild);\r\n    }\r\n    else {\r\n        target.appendChild(el);\r\n    }\r\n}\r\nfunction before(el, target) {\r\n    var parentNode = target.parentNode;\r\n    parentNode.insertBefore(el, target);\r\n}\r\nfunction removeChild(el, child) {\r\n    el.removeChild(child);\r\n}\r\nfunction hasClass(el, className) {\r\n    var reg = new RegExp('(^|\\\\s)' + className + '(\\\\s|$)');\r\n    return reg.test(el.className);\r\n}\r\nfunction HTMLCollectionToArray(el) {\r\n    return Array.prototype.slice.call(el, 0);\r\n}\r\nfunction getClientSize(el) {\r\n    return {\r\n        width: el.clientWidth,\r\n        height: el.clientHeight,\r\n    };\r\n}\n\nvar ease = {\r\n    // easeOutQuint\r\n    swipe: {\r\n        style: 'cubic-bezier(0.23, 1, 0.32, 1)',\r\n        fn: function (t) {\r\n            return 1 + --t * t * t * t * t;\r\n        }\r\n    },\r\n    // easeOutQuard\r\n    swipeBounce: {\r\n        style: 'cubic-bezier(0.25, 0.46, 0.45, 0.94)',\r\n        fn: function (t) {\r\n            return t * (2 - t);\r\n        }\r\n    },\r\n    // easeOutQuart\r\n    bounce: {\r\n        style: 'cubic-bezier(0.165, 0.84, 0.44, 1)',\r\n        fn: function (t) {\r\n            return 1 - --t * t * t * t;\r\n        }\r\n    }\r\n};\n\nvar DEFAULT_INTERVAL = 1000 / 60;\r\nvar windowCompat = inBrowser && window;\r\n/* istanbul ignore next */\r\nfunction noop$1() { }\r\nvar requestAnimationFrame = (function () {\r\n    /* istanbul ignore if  */\r\n    if (!inBrowser) {\r\n        return noop$1;\r\n    }\r\n    return (windowCompat.requestAnimationFrame ||\r\n        windowCompat.webkitRequestAnimationFrame ||\r\n        windowCompat.mozRequestAnimationFrame ||\r\n        windowCompat.oRequestAnimationFrame ||\r\n        // if all else fails, use setTimeout\r\n        function (callback) {\r\n            return window.setTimeout(callback, callback.interval || DEFAULT_INTERVAL); // make interval as precise as possible.\r\n        });\r\n})();\r\nvar cancelAnimationFrame = (function () {\r\n    /* istanbul ignore if  */\r\n    if (!inBrowser) {\r\n        return noop$1;\r\n    }\r\n    return (windowCompat.cancelAnimationFrame ||\r\n        windowCompat.webkitCancelAnimationFrame ||\r\n        windowCompat.mozCancelAnimationFrame ||\r\n        windowCompat.oCancelAnimationFrame ||\r\n        function (id) {\r\n            window.clearTimeout(id);\r\n        });\r\n})();\n\n/* istanbul ignore next */\r\nvar noop = function (val) { };\r\nvar sharedPropertyDefinition = {\r\n    enumerable: true,\r\n    configurable: true,\r\n    get: noop,\r\n    set: noop,\r\n};\r\nvar getProperty = function (obj, key) {\r\n    var keys = key.split('.');\r\n    for (var i = 0; i < keys.length - 1; i++) {\r\n        obj = obj[keys[i]];\r\n        if (typeof obj !== 'object' || !obj)\r\n            return;\r\n    }\r\n    var lastKey = keys.pop();\r\n    if (typeof obj[lastKey] === 'function') {\r\n        return function () {\r\n            return obj[lastKey].apply(obj, arguments);\r\n        };\r\n    }\r\n    else {\r\n        return obj[lastKey];\r\n    }\r\n};\r\nvar setProperty = function (obj, key, value) {\r\n    var keys = key.split('.');\r\n    var temp;\r\n    for (var i = 0; i < keys.length - 1; i++) {\r\n        temp = keys[i];\r\n        if (!obj[temp])\r\n            obj[temp] = {};\r\n        obj = obj[temp];\r\n    }\r\n    obj[keys.pop()] = value;\r\n};\r\nfunction propertiesProxy(target, sourceKey, key) {\r\n    sharedPropertyDefinition.get = function proxyGetter() {\r\n        return getProperty(this, sourceKey);\r\n    };\r\n    sharedPropertyDefinition.set = function proxySetter(val) {\r\n        setProperty(this, sourceKey, val);\r\n    };\r\n    Object.defineProperty(target, key, sharedPropertyDefinition);\r\n}\n\nvar EventEmitter = /** @class */ (function () {\r\n    function EventEmitter(names) {\r\n        this.events = {};\r\n        this.eventTypes = {};\r\n        this.registerType(names);\r\n    }\r\n    EventEmitter.prototype.on = function (type, fn, context) {\r\n        if (context === void 0) { context = this; }\r\n        this.hasType(type);\r\n        if (!this.events[type]) {\r\n            this.events[type] = [];\r\n        }\r\n        this.events[type].push([fn, context]);\r\n        return this;\r\n    };\r\n    EventEmitter.prototype.once = function (type, fn, context) {\r\n        var _this = this;\r\n        if (context === void 0) { context = this; }\r\n        this.hasType(type);\r\n        var magic = function () {\r\n            var args = [];\r\n            for (var _i = 0; _i < arguments.length; _i++) {\r\n                args[_i] = arguments[_i];\r\n            }\r\n            _this.off(type, magic);\r\n            var ret = fn.apply(context, args);\r\n            if (ret === true) {\r\n                return ret;\r\n            }\r\n        };\r\n        magic.fn = fn;\r\n        this.on(type, magic);\r\n        return this;\r\n    };\r\n    EventEmitter.prototype.off = function (type, fn) {\r\n        if (!type && !fn) {\r\n            this.events = {};\r\n            return this;\r\n        }\r\n        if (type) {\r\n            this.hasType(type);\r\n            if (!fn) {\r\n                this.events[type] = [];\r\n                return this;\r\n            }\r\n            var events = this.events[type];\r\n            if (!events) {\r\n                return this;\r\n            }\r\n            var count = events.length;\r\n            while (count--) {\r\n                if (events[count][0] === fn ||\r\n                    (events[count][0] && events[count][0].fn === fn)) {\r\n                    events.splice(count, 1);\r\n                }\r\n            }\r\n            return this;\r\n        }\r\n    };\r\n    EventEmitter.prototype.trigger = function (type) {\r\n        var args = [];\r\n        for (var _i = 1; _i < arguments.length; _i++) {\r\n            args[_i - 1] = arguments[_i];\r\n        }\r\n        this.hasType(type);\r\n        var events = this.events[type];\r\n        if (!events) {\r\n            return;\r\n        }\r\n        var len = events.length;\r\n        var eventsCopy = __spreadArrays(events);\r\n        var ret;\r\n        for (var i = 0; i < len; i++) {\r\n            var event_1 = eventsCopy[i];\r\n            var fn = event_1[0], context = event_1[1];\r\n            if (fn) {\r\n                ret = fn.apply(context, args);\r\n                if (ret === true) {\r\n                    return ret;\r\n                }\r\n            }\r\n        }\r\n    };\r\n    EventEmitter.prototype.registerType = function (names) {\r\n        var _this = this;\r\n        names.forEach(function (type) {\r\n            _this.eventTypes[type] = type;\r\n        });\r\n    };\r\n    EventEmitter.prototype.destroy = function () {\r\n        this.events = {};\r\n        this.eventTypes = {};\r\n    };\r\n    EventEmitter.prototype.hasType = function (type) {\r\n        var types = this.eventTypes;\r\n        var isType = types[type] === type;\r\n        if (!isType) {\r\n            warn(\"EventEmitter has used unknown event type: \\\"\" + type + \"\\\", should be oneof [\" +\r\n                (\"\" + Object.keys(types).map(function (_) { return JSON.stringify(_); })) +\r\n                \"]\");\r\n        }\r\n    };\r\n    return EventEmitter;\r\n}());\r\nvar EventRegister = /** @class */ (function () {\r\n    function EventRegister(wrapper, events) {\r\n        this.wrapper = wrapper;\r\n        this.events = events;\r\n        this.addDOMEvents();\r\n    }\r\n    EventRegister.prototype.destroy = function () {\r\n        this.removeDOMEvents();\r\n        this.events = [];\r\n    };\r\n    EventRegister.prototype.addDOMEvents = function () {\r\n        this.handleDOMEvents(addEvent);\r\n    };\r\n    EventRegister.prototype.removeDOMEvents = function () {\r\n        this.handleDOMEvents(removeEvent);\r\n    };\r\n    EventRegister.prototype.handleDOMEvents = function (eventOperation) {\r\n        var _this = this;\r\n        var wrapper = this.wrapper;\r\n        this.events.forEach(function (event) {\r\n            eventOperation(wrapper, event.name, _this, !!event.capture);\r\n        });\r\n    };\r\n    EventRegister.prototype.handleEvent = function (e) {\r\n        var eventType = e.type;\r\n        this.events.some(function (event) {\r\n            if (event.name === eventType) {\r\n                event.handler(e);\r\n                return true;\r\n            }\r\n            return false;\r\n        });\r\n    };\r\n    return EventRegister;\r\n}());\n\nvar CustomOptions = /** @class */ (function () {\r\n    function CustomOptions() {\r\n    }\r\n    return CustomOptions;\r\n}());\r\nvar OptionsConstructor = /** @class */ (function (_super) {\r\n    __extends(OptionsConstructor, _super);\r\n    function OptionsConstructor() {\r\n        var _this = _super.call(this) || this;\r\n        _this.startX = 0;\r\n        _this.startY = 0;\r\n        _this.scrollX = false;\r\n        _this.scrollY = true;\r\n        _this.freeScroll = false;\r\n        _this.directionLockThreshold = 0;\r\n        _this.eventPassthrough = \"\" /* None */;\r\n        _this.click = false;\r\n        _this.dblclick = false;\r\n        _this.tap = '';\r\n        _this.bounce = {\r\n            top: true,\r\n            bottom: true,\r\n            left: true,\r\n            right: true,\r\n        };\r\n        _this.bounceTime = 800;\r\n        _this.momentum = true;\r\n        _this.momentumLimitTime = 300;\r\n        _this.momentumLimitDistance = 15;\r\n        _this.swipeTime = 2500;\r\n        _this.swipeBounceTime = 500;\r\n        _this.deceleration = 0.0015;\r\n        _this.flickLimitTime = 200;\r\n        _this.flickLimitDistance = 100;\r\n        _this.resizePolling = 60;\r\n        _this.probeType = 0 /* Default */;\r\n        _this.stopPropagation = false;\r\n        _this.preventDefault = true;\r\n        _this.preventDefaultException = {\r\n            tagName: /^(INPUT|TEXTAREA|BUTTON|SELECT|AUDIO)$/,\r\n        };\r\n        _this.tagException = {\r\n            tagName: /^TEXTAREA$/,\r\n        };\r\n        _this.HWCompositing = true;\r\n        _this.useTransition = true;\r\n        _this.bindToWrapper = false;\r\n        _this.bindToTarget = false;\r\n        _this.disableMouse = hasTouch;\r\n        _this.disableTouch = !hasTouch;\r\n        _this.autoBlur = true;\r\n        _this.autoEndDistance = 5;\r\n        _this.outOfBoundaryDampingFactor = 1 / 3;\r\n        _this.specifiedIndexAsContent = 0;\r\n        _this.quadrant = 1 /* First */;\r\n        return _this;\r\n    }\r\n    OptionsConstructor.prototype.merge = function (options) {\r\n        if (!options)\r\n            return this;\r\n        for (var key in options) {\r\n            if (key === 'bounce') {\r\n                this.bounce = this.resolveBounce(options[key]);\r\n                continue;\r\n            }\r\n            this[key] = options[key];\r\n        }\r\n        return this;\r\n    };\r\n    OptionsConstructor.prototype.process = function () {\r\n        this.translateZ =\r\n            this.HWCompositing && hasPerspective ? ' translateZ(1px)' : '';\r\n        this.useTransition = this.useTransition && hasTransition;\r\n        this.preventDefault = !this.eventPassthrough && this.preventDefault;\r\n        // If you want eventPassthrough I have to lock one of the axes\r\n        this.scrollX =\r\n            this.eventPassthrough === \"horizontal\" /* Horizontal */\r\n                ? false\r\n                : this.scrollX;\r\n        this.scrollY =\r\n            this.eventPassthrough === \"vertical\" /* Vertical */ ? false : this.scrollY;\r\n        // With eventPassthrough we also need lockDirection mechanism\r\n        this.freeScroll = this.freeScroll && !this.eventPassthrough;\r\n        // force true when freeScroll is true\r\n        this.scrollX = this.freeScroll ? true : this.scrollX;\r\n        this.scrollY = this.freeScroll ? true : this.scrollY;\r\n        this.directionLockThreshold = this.eventPassthrough\r\n            ? 0\r\n            : this.directionLockThreshold;\r\n        return this;\r\n    };\r\n    OptionsConstructor.prototype.resolveBounce = function (bounceOptions) {\r\n        var DEFAULT_BOUNCE = {\r\n            top: true,\r\n            right: true,\r\n            bottom: true,\r\n            left: true,\r\n        };\r\n        var NEGATED_BOUNCE = {\r\n            top: false,\r\n            right: false,\r\n            bottom: false,\r\n            left: false,\r\n        };\r\n        var ret;\r\n        if (typeof bounceOptions === 'object') {\r\n            ret = extend(DEFAULT_BOUNCE, bounceOptions);\r\n        }\r\n        else {\r\n            ret = bounceOptions ? DEFAULT_BOUNCE : NEGATED_BOUNCE;\r\n        }\r\n        return ret;\r\n    };\r\n    return OptionsConstructor;\r\n}(CustomOptions));\n\nvar ActionsHandler = /** @class */ (function () {\r\n    function ActionsHandler(wrapper, options) {\r\n        this.wrapper = wrapper;\r\n        this.options = options;\r\n        this.hooks = new EventEmitter([\r\n            'beforeStart',\r\n            'start',\r\n            'move',\r\n            'end',\r\n            'click',\r\n        ]);\r\n        this.handleDOMEvents();\r\n    }\r\n    ActionsHandler.prototype.handleDOMEvents = function () {\r\n        var _a = this.options, bindToWrapper = _a.bindToWrapper, disableMouse = _a.disableMouse, disableTouch = _a.disableTouch, click = _a.click;\r\n        var wrapper = this.wrapper;\r\n        var target = bindToWrapper ? wrapper : window;\r\n        var wrapperEvents = [];\r\n        var targetEvents = [];\r\n        var shouldRegisterTouch = !disableTouch;\r\n        var shouldRegisterMouse = !disableMouse;\r\n        if (click) {\r\n            wrapperEvents.push({\r\n                name: 'click',\r\n                handler: this.click.bind(this),\r\n                capture: true,\r\n            });\r\n        }\r\n        if (shouldRegisterTouch) {\r\n            wrapperEvents.push({\r\n                name: 'touchstart',\r\n                handler: this.start.bind(this),\r\n            });\r\n            targetEvents.push({\r\n                name: 'touchmove',\r\n                handler: this.move.bind(this),\r\n            }, {\r\n                name: 'touchend',\r\n                handler: this.end.bind(this),\r\n            }, {\r\n                name: 'touchcancel',\r\n                handler: this.end.bind(this),\r\n            });\r\n        }\r\n        if (shouldRegisterMouse) {\r\n            wrapperEvents.push({\r\n                name: 'mousedown',\r\n                handler: this.start.bind(this),\r\n            });\r\n            targetEvents.push({\r\n                name: 'mousemove',\r\n                handler: this.move.bind(this),\r\n            }, {\r\n                name: 'mouseup',\r\n                handler: this.end.bind(this),\r\n            });\r\n        }\r\n        this.wrapperEventRegister = new EventRegister(wrapper, wrapperEvents);\r\n        this.targetEventRegister = new EventRegister(target, targetEvents);\r\n    };\r\n    ActionsHandler.prototype.beforeHandler = function (e, type) {\r\n        var _a = this.options, preventDefault = _a.preventDefault, stopPropagation = _a.stopPropagation, preventDefaultException = _a.preventDefaultException;\r\n        var preventDefaultConditions = {\r\n            start: function () {\r\n                return (preventDefault &&\r\n                    !preventDefaultExceptionFn(e.target, preventDefaultException));\r\n            },\r\n            end: function () {\r\n                return (preventDefault &&\r\n                    !preventDefaultExceptionFn(e.target, preventDefaultException));\r\n            },\r\n            move: function () {\r\n                return preventDefault;\r\n            },\r\n        };\r\n        if (preventDefaultConditions[type]()) {\r\n            e.preventDefault();\r\n        }\r\n        if (stopPropagation) {\r\n            e.stopPropagation();\r\n        }\r\n    };\r\n    ActionsHandler.prototype.setInitiated = function (type) {\r\n        if (type === void 0) { type = 0; }\r\n        this.initiated = type;\r\n    };\r\n    ActionsHandler.prototype.start = function (e) {\r\n        var _eventType = eventTypeMap[e.type];\r\n        if (this.initiated && this.initiated !== _eventType) {\r\n            return;\r\n        }\r\n        this.setInitiated(_eventType);\r\n        // if textarea or other html tags in options.tagException is manipulated\r\n        // do not make bs scroll\r\n        if (tagExceptionFn(e.target, this.options.tagException)) {\r\n            this.setInitiated();\r\n            return;\r\n        }\r\n        // only allow mouse left button\r\n        if (_eventType === 2 /* Mouse */ && e.button !== 0 /* Left */)\r\n            return;\r\n        if (this.hooks.trigger(this.hooks.eventTypes.beforeStart, e)) {\r\n            return;\r\n        }\r\n        this.beforeHandler(e, 'start');\r\n        var point = (e.touches ? e.touches[0] : e);\r\n        this.pointX = point.pageX;\r\n        this.pointY = point.pageY;\r\n        this.hooks.trigger(this.hooks.eventTypes.start, e);\r\n    };\r\n    ActionsHandler.prototype.move = function (e) {\r\n        if (eventTypeMap[e.type] !== this.initiated) {\r\n            return;\r\n        }\r\n        this.beforeHandler(e, 'move');\r\n        var point = (e.touches ? e.touches[0] : e);\r\n        var deltaX = point.pageX - this.pointX;\r\n        var deltaY = point.pageY - this.pointY;\r\n        this.pointX = point.pageX;\r\n        this.pointY = point.pageY;\r\n        if (this.hooks.trigger(this.hooks.eventTypes.move, {\r\n            deltaX: deltaX,\r\n            deltaY: deltaY,\r\n            e: e,\r\n        })) {\r\n            return;\r\n        }\r\n        // auto end when out of viewport\r\n        var scrollLeft = document.documentElement.scrollLeft ||\r\n            window.pageXOffset ||\r\n            document.body.scrollLeft;\r\n        var scrollTop = document.documentElement.scrollTop ||\r\n            window.pageYOffset ||\r\n            document.body.scrollTop;\r\n        var pX = this.pointX - scrollLeft;\r\n        var pY = this.pointY - scrollTop;\r\n        var autoEndDistance = this.options.autoEndDistance;\r\n        if (pX > document.documentElement.clientWidth - autoEndDistance ||\r\n            pY > document.documentElement.clientHeight - autoEndDistance ||\r\n            pX < autoEndDistance ||\r\n            pY < autoEndDistance) {\r\n            this.end(e);\r\n        }\r\n    };\r\n    ActionsHandler.prototype.end = function (e) {\r\n        if (eventTypeMap[e.type] !== this.initiated) {\r\n            return;\r\n        }\r\n        this.setInitiated();\r\n        this.beforeHandler(e, 'end');\r\n        this.hooks.trigger(this.hooks.eventTypes.end, e);\r\n    };\r\n    ActionsHandler.prototype.click = function (e) {\r\n        this.hooks.trigger(this.hooks.eventTypes.click, e);\r\n    };\r\n    ActionsHandler.prototype.setContent = function (content) {\r\n        if (content !== this.wrapper) {\r\n            this.wrapper = content;\r\n            this.rebindDOMEvents();\r\n        }\r\n    };\r\n    ActionsHandler.prototype.rebindDOMEvents = function () {\r\n        this.wrapperEventRegister.destroy();\r\n        this.targetEventRegister.destroy();\r\n        this.handleDOMEvents();\r\n    };\r\n    ActionsHandler.prototype.destroy = function () {\r\n        this.wrapperEventRegister.destroy();\r\n        this.targetEventRegister.destroy();\r\n        this.hooks.destroy();\r\n    };\r\n    return ActionsHandler;\r\n}());\n\nvar translaterMetaData = {\r\n    x: ['translateX', 'px'],\r\n    y: ['translateY', 'px'],\r\n};\r\nvar Translater = /** @class */ (function () {\r\n    function Translater(content) {\r\n        this.setContent(content);\r\n        this.hooks = new EventEmitter(['beforeTranslate', 'translate']);\r\n    }\r\n    Translater.prototype.getComputedPosition = function () {\r\n        var cssStyle = window.getComputedStyle(this.content, null);\r\n        var matrix = cssStyle[style.transform].split(')')[0].split(', ');\r\n        var x = +(matrix[12] || matrix[4]) || 0;\r\n        var y = +(matrix[13] || matrix[5]) || 0;\r\n        return {\r\n            x: x,\r\n            y: y,\r\n        };\r\n    };\r\n    Translater.prototype.translate = function (point) {\r\n        var transformStyle = [];\r\n        Object.keys(point).forEach(function (key) {\r\n            if (!translaterMetaData[key]) {\r\n                return;\r\n            }\r\n            var transformFnName = translaterMetaData[key][0];\r\n            if (transformFnName) {\r\n                var transformFnArgUnit = translaterMetaData[key][1];\r\n                var transformFnArg = point[key];\r\n                transformStyle.push(transformFnName + \"(\" + transformFnArg + transformFnArgUnit + \")\");\r\n            }\r\n        });\r\n        this.hooks.trigger(this.hooks.eventTypes.beforeTranslate, transformStyle, point);\r\n        this.style[style.transform] = transformStyle.join(' ');\r\n        this.hooks.trigger(this.hooks.eventTypes.translate, point);\r\n    };\r\n    Translater.prototype.setContent = function (content) {\r\n        if (this.content !== content) {\r\n            this.content = content;\r\n            this.style = content.style;\r\n        }\r\n    };\r\n    Translater.prototype.destroy = function () {\r\n        this.hooks.destroy();\r\n    };\r\n    return Translater;\r\n}());\n\nvar Base = /** @class */ (function () {\r\n    function Base(content, translater, options) {\r\n        this.translater = translater;\r\n        this.options = options;\r\n        this.timer = 0;\r\n        this.hooks = new EventEmitter([\r\n            'move',\r\n            'end',\r\n            'beforeForceStop',\r\n            'forceStop',\r\n            'callStop',\r\n            'time',\r\n            'timeFunction',\r\n        ]);\r\n        this.setContent(content);\r\n    }\r\n    Base.prototype.translate = function (endPoint) {\r\n        this.translater.translate(endPoint);\r\n    };\r\n    Base.prototype.setPending = function (pending) {\r\n        this.pending = pending;\r\n    };\r\n    Base.prototype.setForceStopped = function (forceStopped) {\r\n        this.forceStopped = forceStopped;\r\n    };\r\n    Base.prototype.setCallStop = function (called) {\r\n        this.callStopWhenPending = called;\r\n    };\r\n    Base.prototype.setContent = function (content) {\r\n        if (this.content !== content) {\r\n            this.content = content;\r\n            this.style = content.style;\r\n            this.stop();\r\n        }\r\n    };\r\n    Base.prototype.clearTimer = function () {\r\n        if (this.timer) {\r\n            cancelAnimationFrame(this.timer);\r\n            this.timer = 0;\r\n        }\r\n    };\r\n    Base.prototype.destroy = function () {\r\n        this.hooks.destroy();\r\n        cancelAnimationFrame(this.timer);\r\n    };\r\n    return Base;\r\n}());\n\n// iOS 13.6 - 14.x, window.getComputedStyle sometimes will get wrong transform value\r\n// when bs use transition mode\r\n// eg: translateY -100px -> -200px, when the last frame which is about to scroll to -200px\r\n// window.getComputedStyle(this.content) will calculate transformY to be -100px(startPoint)\r\n// it is weird\r\n// so we should validate position caculated by 'window.getComputedStyle'\r\nvar isValidPostion = function (startPoint, endPoint, currentPos, prePos) {\r\n    var computeDirection = function (endValue, startValue) {\r\n        var delta = endValue - startValue;\r\n        var direction = delta > 0\r\n            ? -1 /* Negative */\r\n            : delta < 0\r\n                ? 1 /* Positive */\r\n                : 0 /* Default */;\r\n        return direction;\r\n    };\r\n    var directionX = computeDirection(endPoint.x, startPoint.x);\r\n    var directionY = computeDirection(endPoint.y, startPoint.y);\r\n    var deltaX = currentPos.x - prePos.x;\r\n    var deltaY = currentPos.y - prePos.y;\r\n    return directionX * deltaX <= 0 && directionY * deltaY <= 0;\r\n};\n\nvar Transition = /** @class */ (function (_super) {\r\n    __extends(Transition, _super);\r\n    function Transition() {\r\n        return _super !== null && _super.apply(this, arguments) || this;\r\n    }\r\n    Transition.prototype.startProbe = function (startPoint, endPoint) {\r\n        var _this = this;\r\n        var prePos = startPoint;\r\n        var probe = function () {\r\n            var pos = _this.translater.getComputedPosition();\r\n            if (isValidPostion(startPoint, endPoint, pos, prePos)) {\r\n                _this.hooks.trigger(_this.hooks.eventTypes.move, pos);\r\n            }\r\n            // call bs.stop() should not dispatch end hook again.\r\n            // forceStop hook will do this.\r\n            /* istanbul ignore if  */\r\n            if (!_this.pending) {\r\n                if (_this.callStopWhenPending) {\r\n                    _this.callStopWhenPending = false;\r\n                }\r\n                else {\r\n                    // transition ends should dispatch end hook.\r\n                    _this.hooks.trigger(_this.hooks.eventTypes.end, pos);\r\n                }\r\n            }\r\n            prePos = pos;\r\n            if (_this.pending) {\r\n                _this.timer = requestAnimationFrame(probe);\r\n            }\r\n        };\r\n        // when manually call bs.stop(), then bs.scrollTo()\r\n        // we should reset callStopWhenPending to dispatch end hook\r\n        if (this.callStopWhenPending) {\r\n            this.setCallStop(false);\r\n        }\r\n        cancelAnimationFrame(this.timer);\r\n        probe();\r\n    };\r\n    Transition.prototype.transitionTime = function (time) {\r\n        if (time === void 0) { time = 0; }\r\n        this.style[style.transitionDuration] = time + 'ms';\r\n        this.hooks.trigger(this.hooks.eventTypes.time, time);\r\n    };\r\n    Transition.prototype.transitionTimingFunction = function (easing) {\r\n        this.style[style.transitionTimingFunction] = easing;\r\n        this.hooks.trigger(this.hooks.eventTypes.timeFunction, easing);\r\n    };\r\n    Transition.prototype.transitionProperty = function () {\r\n        this.style[style.transitionProperty] = style.transform;\r\n    };\r\n    Transition.prototype.move = function (startPoint, endPoint, time, easingFn) {\r\n        this.setPending(time > 0);\r\n        this.transitionTimingFunction(easingFn);\r\n        this.transitionProperty();\r\n        this.transitionTime(time);\r\n        this.translate(endPoint);\r\n        var isRealtimeProbeType = this.options.probeType === 3 /* Realtime */;\r\n        if (time && isRealtimeProbeType) {\r\n            this.startProbe(startPoint, endPoint);\r\n        }\r\n        // if we change content's transformY in a tick\r\n        // such as: 0 -> 50px -> 0\r\n        // transitionend will not be triggered\r\n        // so we forceupdate by reflow\r\n        if (!time) {\r\n            this._reflow = this.content.offsetHeight;\r\n            if (isRealtimeProbeType) {\r\n                this.hooks.trigger(this.hooks.eventTypes.move, endPoint);\r\n            }\r\n            this.hooks.trigger(this.hooks.eventTypes.end, endPoint);\r\n        }\r\n    };\r\n    Transition.prototype.doStop = function () {\r\n        var pending = this.pending;\r\n        this.setForceStopped(false);\r\n        this.setCallStop(false);\r\n        // still in transition\r\n        if (pending) {\r\n            this.setPending(false);\r\n            cancelAnimationFrame(this.timer);\r\n            var _a = this.translater.getComputedPosition(), x = _a.x, y = _a.y;\r\n            this.transitionTime();\r\n            this.translate({ x: x, y: y });\r\n            this.setForceStopped(true);\r\n            this.setCallStop(true);\r\n            this.hooks.trigger(this.hooks.eventTypes.forceStop, { x: x, y: y });\r\n        }\r\n        return pending;\r\n    };\r\n    Transition.prototype.stop = function () {\r\n        var stopFromTransition = this.doStop();\r\n        if (stopFromTransition) {\r\n            this.hooks.trigger(this.hooks.eventTypes.callStop);\r\n        }\r\n    };\r\n    return Transition;\r\n}(Base));\n\nvar Animation = /** @class */ (function (_super) {\r\n    __extends(Animation, _super);\r\n    function Animation() {\r\n        return _super !== null && _super.apply(this, arguments) || this;\r\n    }\r\n    Animation.prototype.move = function (startPoint, endPoint, time, easingFn) {\r\n        // time is 0\r\n        if (!time) {\r\n            this.translate(endPoint);\r\n            if (this.options.probeType === 3 /* Realtime */) {\r\n                this.hooks.trigger(this.hooks.eventTypes.move, endPoint);\r\n            }\r\n            this.hooks.trigger(this.hooks.eventTypes.end, endPoint);\r\n            return;\r\n        }\r\n        this.animate(startPoint, endPoint, time, easingFn);\r\n    };\r\n    Animation.prototype.animate = function (startPoint, endPoint, duration, easingFn) {\r\n        var _this = this;\r\n        var startTime = getNow();\r\n        var destTime = startTime + duration;\r\n        var isRealtimeProbeType = this.options.probeType === 3 /* Realtime */;\r\n        var step = function () {\r\n            var now = getNow();\r\n            // js animation end\r\n            if (now >= destTime) {\r\n                _this.translate(endPoint);\r\n                if (isRealtimeProbeType) {\r\n                    _this.hooks.trigger(_this.hooks.eventTypes.move, endPoint);\r\n                }\r\n                _this.hooks.trigger(_this.hooks.eventTypes.end, endPoint);\r\n                return;\r\n            }\r\n            now = (now - startTime) / duration;\r\n            var easing = easingFn(now);\r\n            var newPoint = {};\r\n            Object.keys(endPoint).forEach(function (key) {\r\n                var startValue = startPoint[key];\r\n                var endValue = endPoint[key];\r\n                newPoint[key] = (endValue - startValue) * easing + startValue;\r\n            });\r\n            _this.translate(newPoint);\r\n            if (isRealtimeProbeType) {\r\n                _this.hooks.trigger(_this.hooks.eventTypes.move, newPoint);\r\n            }\r\n            if (_this.pending) {\r\n                _this.timer = requestAnimationFrame(step);\r\n            }\r\n            // call bs.stop() should not dispatch end hook again.\r\n            // forceStop hook will do this.\r\n            /* istanbul ignore if  */\r\n            if (!_this.pending) {\r\n                if (_this.callStopWhenPending) {\r\n                    _this.callStopWhenPending = false;\r\n                }\r\n                else {\r\n                    // raf ends should dispatch end hook.\r\n                    _this.hooks.trigger(_this.hooks.eventTypes.end, endPoint);\r\n                }\r\n            }\r\n        };\r\n        this.setPending(true);\r\n        // when manually call bs.stop(), then bs.scrollTo()\r\n        // we should reset callStopWhenPending to dispatch end hook\r\n        if (this.callStopWhenPending) {\r\n            this.setCallStop(false);\r\n        }\r\n        cancelAnimationFrame(this.timer);\r\n        step();\r\n    };\r\n    Animation.prototype.doStop = function () {\r\n        var pending = this.pending;\r\n        this.setForceStopped(false);\r\n        this.setCallStop(false);\r\n        // still in requestFrameAnimation\r\n        if (pending) {\r\n            this.setPending(false);\r\n            cancelAnimationFrame(this.timer);\r\n            var pos = this.translater.getComputedPosition();\r\n            this.setForceStopped(true);\r\n            this.setCallStop(true);\r\n            this.hooks.trigger(this.hooks.eventTypes.forceStop, pos);\r\n        }\r\n        return pending;\r\n    };\r\n    Animation.prototype.stop = function () {\r\n        var stopFromAnimation = this.doStop();\r\n        if (stopFromAnimation) {\r\n            this.hooks.trigger(this.hooks.eventTypes.callStop);\r\n        }\r\n    };\r\n    return Animation;\r\n}(Base));\n\nfunction createAnimater(element, translater, options) {\r\n    var useTransition = options.useTransition;\r\n    var animaterOptions = {};\r\n    Object.defineProperty(animaterOptions, 'probeType', {\r\n        enumerable: true,\r\n        configurable: false,\r\n        get: function () {\r\n            return options.probeType;\r\n        },\r\n    });\r\n    if (useTransition) {\r\n        return new Transition(element, translater, animaterOptions);\r\n    }\r\n    else {\r\n        return new Animation(element, translater, animaterOptions);\r\n    }\r\n}\n\nvar Behavior = /** @class */ (function () {\r\n    function Behavior(wrapper, content, options) {\r\n        this.wrapper = wrapper;\r\n        this.options = options;\r\n        this.hooks = new EventEmitter([\r\n            'beforeComputeBoundary',\r\n            'computeBoundary',\r\n            'momentum',\r\n            'end',\r\n            'ignoreHasScroll'\r\n        ]);\r\n        this.refresh(content);\r\n    }\r\n    Behavior.prototype.start = function () {\r\n        this.dist = 0;\r\n        this.setMovingDirection(0 /* Default */);\r\n        this.setDirection(0 /* Default */);\r\n    };\r\n    Behavior.prototype.move = function (delta) {\r\n        delta = this.hasScroll ? delta : 0;\r\n        this.setMovingDirection(delta);\r\n        return this.performDampingAlgorithm(delta, this.options.outOfBoundaryDampingFactor);\r\n    };\r\n    Behavior.prototype.setMovingDirection = function (delta) {\r\n        this.movingDirection =\r\n            delta > 0\r\n                ? -1 /* Negative */\r\n                : delta < 0\r\n                    ? 1 /* Positive */\r\n                    : 0 /* Default */;\r\n    };\r\n    Behavior.prototype.setDirection = function (delta) {\r\n        this.direction =\r\n            delta > 0\r\n                ? -1 /* Negative */\r\n                : delta < 0\r\n                    ? 1 /* Positive */\r\n                    : 0 /* Default */;\r\n    };\r\n    Behavior.prototype.performDampingAlgorithm = function (delta, dampingFactor) {\r\n        var newPos = this.currentPos + delta;\r\n        // Slow down or stop if outside of the boundaries\r\n        if (newPos > this.minScrollPos || newPos < this.maxScrollPos) {\r\n            if ((newPos > this.minScrollPos && this.options.bounces[0]) ||\r\n                (newPos < this.maxScrollPos && this.options.bounces[1])) {\r\n                newPos = this.currentPos + delta * dampingFactor;\r\n            }\r\n            else {\r\n                newPos =\r\n                    newPos > this.minScrollPos ? this.minScrollPos : this.maxScrollPos;\r\n            }\r\n        }\r\n        return newPos;\r\n    };\r\n    Behavior.prototype.end = function (duration) {\r\n        var momentumInfo = {\r\n            duration: 0\r\n        };\r\n        var absDist = Math.abs(this.currentPos - this.startPos);\r\n        // start momentum animation if needed\r\n        if (this.options.momentum &&\r\n            duration < this.options.momentumLimitTime &&\r\n            absDist > this.options.momentumLimitDistance) {\r\n            var wrapperSize = (this.direction === -1 /* Negative */ && this.options.bounces[0]) ||\r\n                (this.direction === 1 /* Positive */ && this.options.bounces[1])\r\n                ? this.wrapperSize\r\n                : 0;\r\n            momentumInfo = this.hasScroll\r\n                ? this.momentum(this.currentPos, this.startPos, duration, this.maxScrollPos, this.minScrollPos, wrapperSize, this.options)\r\n                : { destination: this.currentPos, duration: 0 };\r\n        }\r\n        else {\r\n            this.hooks.trigger(this.hooks.eventTypes.end, momentumInfo);\r\n        }\r\n        return momentumInfo;\r\n    };\r\n    Behavior.prototype.momentum = function (current, start, time, lowerMargin, upperMargin, wrapperSize, options) {\r\n        if (options === void 0) { options = this.options; }\r\n        var distance = current - start;\r\n        var speed = Math.abs(distance) / time;\r\n        var deceleration = options.deceleration, swipeBounceTime = options.swipeBounceTime, swipeTime = options.swipeTime;\r\n        var duration = Math.min(swipeTime, (speed * 2) / deceleration);\r\n        var momentumData = {\r\n            destination: current + ((speed * speed) / deceleration) * (distance < 0 ? -1 : 1),\r\n            duration: duration,\r\n            rate: 15\r\n        };\r\n        this.hooks.trigger(this.hooks.eventTypes.momentum, momentumData, distance);\r\n        if (momentumData.destination < lowerMargin) {\r\n            momentumData.destination = wrapperSize\r\n                ? Math.max(lowerMargin - wrapperSize / 4, lowerMargin - (wrapperSize / momentumData.rate) * speed)\r\n                : lowerMargin;\r\n            momentumData.duration = swipeBounceTime;\r\n        }\r\n        else if (momentumData.destination > upperMargin) {\r\n            momentumData.destination = wrapperSize\r\n                ? Math.min(upperMargin + wrapperSize / 4, upperMargin + (wrapperSize / momentumData.rate) * speed)\r\n                : upperMargin;\r\n            momentumData.duration = swipeBounceTime;\r\n        }\r\n        momentumData.destination = Math.round(momentumData.destination);\r\n        return momentumData;\r\n    };\r\n    Behavior.prototype.updateDirection = function () {\r\n        var absDist = this.currentPos - this.absStartPos;\r\n        this.setDirection(absDist);\r\n    };\r\n    Behavior.prototype.refresh = function (content) {\r\n        var _a = this.options.rect, size = _a.size, position = _a.position;\r\n        var isWrapperStatic = window.getComputedStyle(this.wrapper, null).position === 'static';\r\n        // Force reflow\r\n        var wrapperRect = getRect(this.wrapper);\r\n        // use client is more fair than offset\r\n        this.wrapperSize = this.wrapper[size === 'width' ? 'clientWidth' : 'clientHeight'];\r\n        this.setContent(content);\r\n        var contentRect = getRect(this.content);\r\n        this.contentSize = contentRect[size];\r\n        this.relativeOffset = contentRect[position];\r\n        /* istanbul ignore if  */\r\n        if (isWrapperStatic) {\r\n            this.relativeOffset -= wrapperRect[position];\r\n        }\r\n        this.computeBoundary();\r\n        this.setDirection(0 /* Default */);\r\n    };\r\n    Behavior.prototype.setContent = function (content) {\r\n        if (content !== this.content) {\r\n            this.content = content;\r\n            this.resetState();\r\n        }\r\n    };\r\n    Behavior.prototype.resetState = function () {\r\n        this.currentPos = 0;\r\n        this.startPos = 0;\r\n        this.dist = 0;\r\n        this.setDirection(0 /* Default */);\r\n        this.setMovingDirection(0 /* Default */);\r\n        this.resetStartPos();\r\n    };\r\n    Behavior.prototype.computeBoundary = function () {\r\n        this.hooks.trigger(this.hooks.eventTypes.beforeComputeBoundary);\r\n        var boundary = {\r\n            minScrollPos: 0,\r\n            maxScrollPos: this.wrapperSize - this.contentSize\r\n        };\r\n        if (boundary.maxScrollPos < 0) {\r\n            boundary.maxScrollPos -= this.relativeOffset;\r\n            if (this.options.specifiedIndexAsContent === 0) {\r\n                boundary.minScrollPos = -this.relativeOffset;\r\n            }\r\n        }\r\n        this.hooks.trigger(this.hooks.eventTypes.computeBoundary, boundary);\r\n        this.minScrollPos = boundary.minScrollPos;\r\n        this.maxScrollPos = boundary.maxScrollPos;\r\n        this.hasScroll =\r\n            this.options.scrollable && this.maxScrollPos < this.minScrollPos;\r\n        if (!this.hasScroll && this.minScrollPos < this.maxScrollPos) {\r\n            this.maxScrollPos = this.minScrollPos;\r\n            this.contentSize = this.wrapperSize;\r\n        }\r\n    };\r\n    Behavior.prototype.updatePosition = function (pos) {\r\n        this.currentPos = pos;\r\n    };\r\n    Behavior.prototype.getCurrentPos = function () {\r\n        return this.currentPos;\r\n    };\r\n    Behavior.prototype.checkInBoundary = function () {\r\n        var position = this.adjustPosition(this.currentPos);\r\n        var inBoundary = position === this.getCurrentPos();\r\n        return {\r\n            position: position,\r\n            inBoundary: inBoundary\r\n        };\r\n    };\r\n    // adjust position when out of boundary\r\n    Behavior.prototype.adjustPosition = function (pos) {\r\n        if (!this.hasScroll &&\r\n            !this.hooks.trigger(this.hooks.eventTypes.ignoreHasScroll)) {\r\n            pos = this.minScrollPos;\r\n        }\r\n        else if (pos > this.minScrollPos) {\r\n            pos = this.minScrollPos;\r\n        }\r\n        else if (pos < this.maxScrollPos) {\r\n            pos = this.maxScrollPos;\r\n        }\r\n        return pos;\r\n    };\r\n    Behavior.prototype.updateStartPos = function () {\r\n        this.startPos = this.currentPos;\r\n    };\r\n    Behavior.prototype.updateAbsStartPos = function () {\r\n        this.absStartPos = this.currentPos;\r\n    };\r\n    Behavior.prototype.resetStartPos = function () {\r\n        this.updateStartPos();\r\n        this.updateAbsStartPos();\r\n    };\r\n    Behavior.prototype.getAbsDist = function (delta) {\r\n        this.dist += delta;\r\n        return Math.abs(this.dist);\r\n    };\r\n    Behavior.prototype.destroy = function () {\r\n        this.hooks.destroy();\r\n    };\r\n    return Behavior;\r\n}());\n\nvar _a, _b, _c, _d;\r\nvar PassthroughHandlers = (_a = {},\r\n    _a[\"yes\" /* Yes */] = function (e) {\r\n        return true;\r\n    },\r\n    _a[\"no\" /* No */] = function (e) {\r\n        e.preventDefault();\r\n        return false;\r\n    },\r\n    _a);\r\nvar DirectionMap = (_b = {},\r\n    _b[\"horizontal\" /* Horizontal */] = (_c = {},\r\n        _c[\"yes\" /* Yes */] = \"horizontal\" /* Horizontal */,\r\n        _c[\"no\" /* No */] = \"vertical\" /* Vertical */,\r\n        _c),\r\n    _b[\"vertical\" /* Vertical */] = (_d = {},\r\n        _d[\"yes\" /* Yes */] = \"vertical\" /* Vertical */,\r\n        _d[\"no\" /* No */] = \"horizontal\" /* Horizontal */,\r\n        _d),\r\n    _b);\r\nvar DirectionLockAction = /** @class */ (function () {\r\n    function DirectionLockAction(directionLockThreshold, freeScroll, eventPassthrough) {\r\n        this.directionLockThreshold = directionLockThreshold;\r\n        this.freeScroll = freeScroll;\r\n        this.eventPassthrough = eventPassthrough;\r\n        this.reset();\r\n    }\r\n    DirectionLockAction.prototype.reset = function () {\r\n        this.directionLocked = \"\" /* Default */;\r\n    };\r\n    DirectionLockAction.prototype.checkMovingDirection = function (absDistX, absDistY, e) {\r\n        this.computeDirectionLock(absDistX, absDistY);\r\n        return this.handleEventPassthrough(e);\r\n    };\r\n    DirectionLockAction.prototype.adjustDelta = function (deltaX, deltaY) {\r\n        if (this.directionLocked === \"horizontal\" /* Horizontal */) {\r\n            deltaY = 0;\r\n        }\r\n        else if (this.directionLocked === \"vertical\" /* Vertical */) {\r\n            deltaX = 0;\r\n        }\r\n        return {\r\n            deltaX: deltaX,\r\n            deltaY: deltaY\r\n        };\r\n    };\r\n    DirectionLockAction.prototype.computeDirectionLock = function (absDistX, absDistY) {\r\n        // If you are scrolling in one direction, lock it\r\n        if (this.directionLocked === \"\" /* Default */ && !this.freeScroll) {\r\n            if (absDistX > absDistY + this.directionLockThreshold) {\r\n                this.directionLocked = \"horizontal\" /* Horizontal */; // lock horizontally\r\n            }\r\n            else if (absDistY >= absDistX + this.directionLockThreshold) {\r\n                this.directionLocked = \"vertical\" /* Vertical */; // lock vertically\r\n            }\r\n            else {\r\n                this.directionLocked = \"none\" /* None */; // no lock\r\n            }\r\n        }\r\n    };\r\n    DirectionLockAction.prototype.handleEventPassthrough = function (e) {\r\n        var handleMap = DirectionMap[this.directionLocked];\r\n        if (handleMap) {\r\n            if (this.eventPassthrough === handleMap[\"yes\" /* Yes */]) {\r\n                return PassthroughHandlers[\"yes\" /* Yes */](e);\r\n            }\r\n            else if (this.eventPassthrough === handleMap[\"no\" /* No */]) {\r\n                return PassthroughHandlers[\"no\" /* No */](e);\r\n            }\r\n        }\r\n        return false;\r\n    };\r\n    return DirectionLockAction;\r\n}());\n\nvar applyQuadrantTransformation = function (deltaX, deltaY, quadrant) {\r\n    if (quadrant === 2 /* Second */) {\r\n        return [deltaY, -deltaX];\r\n    }\r\n    else if (quadrant === 3 /* Third */) {\r\n        return [-deltaX, -deltaY];\r\n    }\r\n    else if (quadrant === 4 /* Forth */) {\r\n        return [-deltaY, deltaX];\r\n    }\r\n    else {\r\n        return [deltaX, deltaY];\r\n    }\r\n};\r\nvar ScrollerActions = /** @class */ (function () {\r\n    function ScrollerActions(scrollBehaviorX, scrollBehaviorY, actionsHandler, animater, options) {\r\n        this.hooks = new EventEmitter([\r\n            'start',\r\n            'beforeMove',\r\n            'scrollStart',\r\n            'scroll',\r\n            'beforeEnd',\r\n            'end',\r\n            'scrollEnd',\r\n            'contentNotMoved',\r\n            'detectMovingDirection',\r\n            'coordinateTransformation',\r\n        ]);\r\n        this.scrollBehaviorX = scrollBehaviorX;\r\n        this.scrollBehaviorY = scrollBehaviorY;\r\n        this.actionsHandler = actionsHandler;\r\n        this.animater = animater;\r\n        this.options = options;\r\n        this.directionLockAction = new DirectionLockAction(options.directionLockThreshold, options.freeScroll, options.eventPassthrough);\r\n        this.enabled = true;\r\n        this.bindActionsHandler();\r\n    }\r\n    ScrollerActions.prototype.bindActionsHandler = function () {\r\n        var _this = this;\r\n        // [mouse|touch]start event\r\n        this.actionsHandler.hooks.on(this.actionsHandler.hooks.eventTypes.start, function (e) {\r\n            if (!_this.enabled)\r\n                return true;\r\n            return _this.handleStart(e);\r\n        });\r\n        // [mouse|touch]move event\r\n        this.actionsHandler.hooks.on(this.actionsHandler.hooks.eventTypes.move, function (_a) {\r\n            var deltaX = _a.deltaX, deltaY = _a.deltaY, e = _a.e;\r\n            if (!_this.enabled)\r\n                return true;\r\n            var _b = applyQuadrantTransformation(deltaX, deltaY, _this.options.quadrant), transformateDeltaX = _b[0], transformateDeltaY = _b[1];\r\n            var transformateDeltaData = {\r\n                deltaX: transformateDeltaX,\r\n                deltaY: transformateDeltaY,\r\n            };\r\n            _this.hooks.trigger(_this.hooks.eventTypes.coordinateTransformation, transformateDeltaData);\r\n            return _this.handleMove(transformateDeltaData.deltaX, transformateDeltaData.deltaY, e);\r\n        });\r\n        // [mouse|touch]end event\r\n        this.actionsHandler.hooks.on(this.actionsHandler.hooks.eventTypes.end, function (e) {\r\n            if (!_this.enabled)\r\n                return true;\r\n            return _this.handleEnd(e);\r\n        });\r\n        // click\r\n        this.actionsHandler.hooks.on(this.actionsHandler.hooks.eventTypes.click, function (e) {\r\n            // handle native click event\r\n            if (_this.enabled && !e._constructed) {\r\n                _this.handleClick(e);\r\n            }\r\n        });\r\n    };\r\n    ScrollerActions.prototype.handleStart = function (e) {\r\n        var timestamp = getNow();\r\n        this.fingerMoved = false;\r\n        this.contentMoved = false;\r\n        this.startTime = timestamp;\r\n        this.directionLockAction.reset();\r\n        this.scrollBehaviorX.start();\r\n        this.scrollBehaviorY.start();\r\n        // force stopping last transition or animation\r\n        this.animater.doStop();\r\n        this.scrollBehaviorX.resetStartPos();\r\n        this.scrollBehaviorY.resetStartPos();\r\n        this.hooks.trigger(this.hooks.eventTypes.start, e);\r\n    };\r\n    ScrollerActions.prototype.handleMove = function (deltaX, deltaY, e) {\r\n        if (this.hooks.trigger(this.hooks.eventTypes.beforeMove, e)) {\r\n            return;\r\n        }\r\n        var absDistX = this.scrollBehaviorX.getAbsDist(deltaX);\r\n        var absDistY = this.scrollBehaviorY.getAbsDist(deltaY);\r\n        var timestamp = getNow();\r\n        // We need to move at least momentumLimitDistance pixels\r\n        // for the scrolling to initiate\r\n        if (this.checkMomentum(absDistX, absDistY, timestamp)) {\r\n            return true;\r\n        }\r\n        if (this.directionLockAction.checkMovingDirection(absDistX, absDistY, e)) {\r\n            this.actionsHandler.setInitiated();\r\n            return true;\r\n        }\r\n        var delta = this.directionLockAction.adjustDelta(deltaX, deltaY);\r\n        var prevX = this.scrollBehaviorX.getCurrentPos();\r\n        var newX = this.scrollBehaviorX.move(delta.deltaX);\r\n        var prevY = this.scrollBehaviorY.getCurrentPos();\r\n        var newY = this.scrollBehaviorY.move(delta.deltaY);\r\n        if (this.hooks.trigger(this.hooks.eventTypes.detectMovingDirection)) {\r\n            return;\r\n        }\r\n        if (!this.fingerMoved) {\r\n            this.fingerMoved = true;\r\n        }\r\n        var positionChanged = newX !== prevX || newY !== prevY;\r\n        if (!this.contentMoved && !positionChanged) {\r\n            this.hooks.trigger(this.hooks.eventTypes.contentNotMoved);\r\n        }\r\n        if (!this.contentMoved && positionChanged) {\r\n            this.contentMoved = true;\r\n            this.hooks.trigger(this.hooks.eventTypes.scrollStart);\r\n        }\r\n        if (this.contentMoved && positionChanged) {\r\n            this.animater.translate({\r\n                x: newX,\r\n                y: newY,\r\n            });\r\n            this.dispatchScroll(timestamp);\r\n        }\r\n    };\r\n    ScrollerActions.prototype.dispatchScroll = function (timestamp) {\r\n        // dispatch scroll in interval time\r\n        if (timestamp - this.startTime > this.options.momentumLimitTime) {\r\n            // refresh time and starting position to initiate a momentum\r\n            this.startTime = timestamp;\r\n            this.scrollBehaviorX.updateStartPos();\r\n            this.scrollBehaviorY.updateStartPos();\r\n            if (this.options.probeType === 1 /* Throttle */) {\r\n                this.hooks.trigger(this.hooks.eventTypes.scroll, this.getCurrentPos());\r\n            }\r\n        }\r\n        // dispatch scroll all the time\r\n        if (this.options.probeType > 1 /* Throttle */) {\r\n            this.hooks.trigger(this.hooks.eventTypes.scroll, this.getCurrentPos());\r\n        }\r\n    };\r\n    ScrollerActions.prototype.checkMomentum = function (absDistX, absDistY, timestamp) {\r\n        return (timestamp - this.endTime > this.options.momentumLimitTime &&\r\n            absDistY < this.options.momentumLimitDistance &&\r\n            absDistX < this.options.momentumLimitDistance);\r\n    };\r\n    ScrollerActions.prototype.handleEnd = function (e) {\r\n        if (this.hooks.trigger(this.hooks.eventTypes.beforeEnd, e)) {\r\n            return;\r\n        }\r\n        var currentPos = this.getCurrentPos();\r\n        this.scrollBehaviorX.updateDirection();\r\n        this.scrollBehaviorY.updateDirection();\r\n        if (this.hooks.trigger(this.hooks.eventTypes.end, e, currentPos)) {\r\n            return true;\r\n        }\r\n        currentPos = this.ensureIntegerPos(currentPos);\r\n        this.animater.translate(currentPos);\r\n        this.endTime = getNow();\r\n        var duration = this.endTime - this.startTime;\r\n        this.hooks.trigger(this.hooks.eventTypes.scrollEnd, currentPos, duration);\r\n    };\r\n    ScrollerActions.prototype.ensureIntegerPos = function (currentPos) {\r\n        this.ensuringInteger = true;\r\n        var x = currentPos.x, y = currentPos.y;\r\n        var _a = this.scrollBehaviorX, minScrollPosX = _a.minScrollPos, maxScrollPosX = _a.maxScrollPos;\r\n        var _b = this.scrollBehaviorY, minScrollPosY = _b.minScrollPos, maxScrollPosY = _b.maxScrollPos;\r\n        x = x > 0 ? Math.ceil(x) : Math.floor(x);\r\n        y = y > 0 ? Math.ceil(y) : Math.floor(y);\r\n        x = between(x, maxScrollPosX, minScrollPosX);\r\n        y = between(y, maxScrollPosY, minScrollPosY);\r\n        return { x: x, y: y };\r\n    };\r\n    ScrollerActions.prototype.handleClick = function (e) {\r\n        if (!preventDefaultExceptionFn(e.target, this.options.preventDefaultException)) {\r\n            e.preventDefault();\r\n            e.stopPropagation();\r\n        }\r\n    };\r\n    ScrollerActions.prototype.getCurrentPos = function () {\r\n        return {\r\n            x: this.scrollBehaviorX.getCurrentPos(),\r\n            y: this.scrollBehaviorY.getCurrentPos(),\r\n        };\r\n    };\r\n    ScrollerActions.prototype.refresh = function () {\r\n        this.endTime = 0;\r\n    };\r\n    ScrollerActions.prototype.destroy = function () {\r\n        this.hooks.destroy();\r\n    };\r\n    return ScrollerActions;\r\n}());\n\nfunction createActionsHandlerOptions(bsOptions) {\r\n    var options = [\r\n        'click',\r\n        'bindToWrapper',\r\n        'disableMouse',\r\n        'disableTouch',\r\n        'preventDefault',\r\n        'stopPropagation',\r\n        'tagException',\r\n        'preventDefaultException',\r\n        'autoEndDistance',\r\n    ].reduce(function (prev, cur) {\r\n        prev[cur] = bsOptions[cur];\r\n        return prev;\r\n    }, {});\r\n    return options;\r\n}\r\nfunction createBehaviorOptions(bsOptions, extraProp, bounces, rect) {\r\n    var options = [\r\n        'momentum',\r\n        'momentumLimitTime',\r\n        'momentumLimitDistance',\r\n        'deceleration',\r\n        'swipeBounceTime',\r\n        'swipeTime',\r\n        'outOfBoundaryDampingFactor',\r\n        'specifiedIndexAsContent',\r\n    ].reduce(function (prev, cur) {\r\n        prev[cur] = bsOptions[cur];\r\n        return prev;\r\n    }, {});\r\n    // add extra property\r\n    options.scrollable = !!bsOptions[extraProp];\r\n    options.bounces = bounces;\r\n    options.rect = rect;\r\n    return options;\r\n}\n\nfunction bubbling(source, target, events) {\r\n    events.forEach(function (event) {\r\n        var sourceEvent;\r\n        var targetEvent;\r\n        if (typeof event === 'string') {\r\n            sourceEvent = targetEvent = event;\r\n        }\r\n        else {\r\n            sourceEvent = event.source;\r\n            targetEvent = event.target;\r\n        }\r\n        source.on(sourceEvent, function () {\r\n            var args = [];\r\n            for (var _i = 0; _i < arguments.length; _i++) {\r\n                args[_i] = arguments[_i];\r\n            }\r\n            return target.trigger.apply(target, __spreadArrays([targetEvent], args));\r\n        });\r\n    });\r\n}\n\nfunction isSamePoint(startPoint, endPoint) {\r\n    // keys of startPoint and endPoint should be equal\r\n    var keys = Object.keys(startPoint);\r\n    for (var _i = 0, keys_1 = keys; _i < keys_1.length; _i++) {\r\n        var key = keys_1[_i];\r\n        if (startPoint[key] !== endPoint[key])\r\n            return false;\r\n    }\r\n    return true;\r\n}\n\nvar MIN_SCROLL_DISTANCE = 1;\r\nvar Scroller = /** @class */ (function () {\r\n    function Scroller(wrapper, content, options) {\r\n        this.wrapper = wrapper;\r\n        this.content = content;\r\n        this.resizeTimeout = 0;\r\n        this.hooks = new EventEmitter([\r\n            'beforeStart',\r\n            'beforeMove',\r\n            'beforeScrollStart',\r\n            'scrollStart',\r\n            'scroll',\r\n            'beforeEnd',\r\n            'scrollEnd',\r\n            'resize',\r\n            'touchEnd',\r\n            'end',\r\n            'flick',\r\n            'scrollCancel',\r\n            'momentum',\r\n            'scrollTo',\r\n            'minDistanceScroll',\r\n            'scrollToElement',\r\n            'beforeRefresh',\r\n        ]);\r\n        this.options = options;\r\n        var _a = this.options.bounce, left = _a.left, right = _a.right, top = _a.top, bottom = _a.bottom;\r\n        // direction X\r\n        this.scrollBehaviorX = new Behavior(wrapper, content, createBehaviorOptions(options, 'scrollX', [left, right], {\r\n            size: 'width',\r\n            position: 'left',\r\n        }));\r\n        // direction Y\r\n        this.scrollBehaviorY = new Behavior(wrapper, content, createBehaviorOptions(options, 'scrollY', [top, bottom], {\r\n            size: 'height',\r\n            position: 'top',\r\n        }));\r\n        this.translater = new Translater(this.content);\r\n        this.animater = createAnimater(this.content, this.translater, this.options);\r\n        this.actionsHandler = new ActionsHandler(this.options.bindToTarget ? this.content : wrapper, createActionsHandlerOptions(this.options));\r\n        this.actions = new ScrollerActions(this.scrollBehaviorX, this.scrollBehaviorY, this.actionsHandler, this.animater, this.options);\r\n        var resizeHandler = this.resize.bind(this);\r\n        this.resizeRegister = new EventRegister(window, [\r\n            {\r\n                name: 'orientationchange',\r\n                handler: resizeHandler,\r\n            },\r\n            {\r\n                name: 'resize',\r\n                handler: resizeHandler,\r\n            },\r\n        ]);\r\n        this.registerTransitionEnd();\r\n        this.init();\r\n    }\r\n    Scroller.prototype.init = function () {\r\n        var _this = this;\r\n        this.bindTranslater();\r\n        this.bindAnimater();\r\n        this.bindActions();\r\n        // enable pointer events when scrolling ends\r\n        this.hooks.on(this.hooks.eventTypes.scrollEnd, function () {\r\n            _this.togglePointerEvents(true);\r\n        });\r\n    };\r\n    Scroller.prototype.registerTransitionEnd = function () {\r\n        this.transitionEndRegister = new EventRegister(this.content, [\r\n            {\r\n                name: style.transitionEnd,\r\n                handler: this.transitionEnd.bind(this),\r\n            },\r\n        ]);\r\n    };\r\n    Scroller.prototype.bindTranslater = function () {\r\n        var _this = this;\r\n        var hooks = this.translater.hooks;\r\n        hooks.on(hooks.eventTypes.beforeTranslate, function (transformStyle) {\r\n            if (_this.options.translateZ) {\r\n                transformStyle.push(_this.options.translateZ);\r\n            }\r\n        });\r\n        // disable pointer events when scrolling\r\n        hooks.on(hooks.eventTypes.translate, function (pos) {\r\n            var prevPos = _this.getCurrentPos();\r\n            _this.updatePositions(pos);\r\n            // scrollEnd will dispatch when scroll is force stopping in touchstart handler\r\n            // so in touchend handler, don't toggle pointer-events\r\n            if (_this.actions.ensuringInteger === true) {\r\n                _this.actions.ensuringInteger = false;\r\n                return;\r\n            }\r\n            // a valid translate\r\n            if (pos.x !== prevPos.x || pos.y !== prevPos.y) {\r\n                _this.togglePointerEvents(false);\r\n            }\r\n        });\r\n    };\r\n    Scroller.prototype.bindAnimater = function () {\r\n        var _this = this;\r\n        // reset position\r\n        this.animater.hooks.on(this.animater.hooks.eventTypes.end, function (pos) {\r\n            if (!_this.resetPosition(_this.options.bounceTime)) {\r\n                _this.animater.setPending(false);\r\n                _this.hooks.trigger(_this.hooks.eventTypes.scrollEnd, pos);\r\n            }\r\n        });\r\n        bubbling(this.animater.hooks, this.hooks, [\r\n            {\r\n                source: this.animater.hooks.eventTypes.move,\r\n                target: this.hooks.eventTypes.scroll,\r\n            },\r\n            {\r\n                source: this.animater.hooks.eventTypes.forceStop,\r\n                target: this.hooks.eventTypes.scrollEnd,\r\n            },\r\n        ]);\r\n    };\r\n    Scroller.prototype.bindActions = function () {\r\n        var _this = this;\r\n        var actions = this.actions;\r\n        bubbling(actions.hooks, this.hooks, [\r\n            {\r\n                source: actions.hooks.eventTypes.start,\r\n                target: this.hooks.eventTypes.beforeStart,\r\n            },\r\n            {\r\n                source: actions.hooks.eventTypes.start,\r\n                target: this.hooks.eventTypes.beforeScrollStart,\r\n            },\r\n            {\r\n                source: actions.hooks.eventTypes.beforeMove,\r\n                target: this.hooks.eventTypes.beforeMove,\r\n            },\r\n            {\r\n                source: actions.hooks.eventTypes.scrollStart,\r\n                target: this.hooks.eventTypes.scrollStart,\r\n            },\r\n            {\r\n                source: actions.hooks.eventTypes.scroll,\r\n                target: this.hooks.eventTypes.scroll,\r\n            },\r\n            {\r\n                source: actions.hooks.eventTypes.beforeEnd,\r\n                target: this.hooks.eventTypes.beforeEnd,\r\n            },\r\n        ]);\r\n        actions.hooks.on(actions.hooks.eventTypes.end, function (e, pos) {\r\n            _this.hooks.trigger(_this.hooks.eventTypes.touchEnd, pos);\r\n            if (_this.hooks.trigger(_this.hooks.eventTypes.end, pos)) {\r\n                return true;\r\n            }\r\n            // check if it is a click operation\r\n            if (!actions.fingerMoved) {\r\n                _this.hooks.trigger(_this.hooks.eventTypes.scrollCancel);\r\n                if (_this.checkClick(e)) {\r\n                    return true;\r\n                }\r\n            }\r\n            // reset if we are outside of the boundaries\r\n            if (_this.resetPosition(_this.options.bounceTime, ease.bounce)) {\r\n                _this.animater.setForceStopped(false);\r\n                return true;\r\n            }\r\n        });\r\n        actions.hooks.on(actions.hooks.eventTypes.scrollEnd, function (pos, duration) {\r\n            var deltaX = Math.abs(pos.x - _this.scrollBehaviorX.startPos);\r\n            var deltaY = Math.abs(pos.y - _this.scrollBehaviorY.startPos);\r\n            if (_this.checkFlick(duration, deltaX, deltaY)) {\r\n                _this.animater.setForceStopped(false);\r\n                _this.hooks.trigger(_this.hooks.eventTypes.flick);\r\n                return;\r\n            }\r\n            if (_this.momentum(pos, duration)) {\r\n                _this.animater.setForceStopped(false);\r\n                return;\r\n            }\r\n            if (actions.contentMoved) {\r\n                _this.hooks.trigger(_this.hooks.eventTypes.scrollEnd, pos);\r\n            }\r\n            if (_this.animater.forceStopped) {\r\n                _this.animater.setForceStopped(false);\r\n            }\r\n        });\r\n    };\r\n    Scroller.prototype.checkFlick = function (duration, deltaX, deltaY) {\r\n        var flickMinMovingDistance = 1; // distinguish flick from click\r\n        if (this.hooks.events.flick.length > 1 &&\r\n            duration < this.options.flickLimitTime &&\r\n            deltaX < this.options.flickLimitDistance &&\r\n            deltaY < this.options.flickLimitDistance &&\r\n            (deltaY > flickMinMovingDistance || deltaX > flickMinMovingDistance)) {\r\n            return true;\r\n        }\r\n    };\r\n    Scroller.prototype.momentum = function (pos, duration) {\r\n        var meta = {\r\n            time: 0,\r\n            easing: ease.swiper,\r\n            newX: pos.x,\r\n            newY: pos.y,\r\n        };\r\n        // start momentum animation if needed\r\n        var momentumX = this.scrollBehaviorX.end(duration);\r\n        var momentumY = this.scrollBehaviorY.end(duration);\r\n        meta.newX = isUndef(momentumX.destination)\r\n            ? meta.newX\r\n            : momentumX.destination;\r\n        meta.newY = isUndef(momentumY.destination)\r\n            ? meta.newY\r\n            : momentumY.destination;\r\n        meta.time = Math.max(momentumX.duration, momentumY.duration);\r\n        this.hooks.trigger(this.hooks.eventTypes.momentum, meta, this);\r\n        // when x or y changed, do momentum animation now!\r\n        if (meta.newX !== pos.x || meta.newY !== pos.y) {\r\n            // change easing function when scroller goes out of the boundaries\r\n            if (meta.newX > this.scrollBehaviorX.minScrollPos ||\r\n                meta.newX < this.scrollBehaviorX.maxScrollPos ||\r\n                meta.newY > this.scrollBehaviorY.minScrollPos ||\r\n                meta.newY < this.scrollBehaviorY.maxScrollPos) {\r\n                meta.easing = ease.swipeBounce;\r\n            }\r\n            this.scrollTo(meta.newX, meta.newY, meta.time, meta.easing);\r\n            return true;\r\n        }\r\n    };\r\n    Scroller.prototype.checkClick = function (e) {\r\n        var cancelable = {\r\n            preventClick: this.animater.forceStopped,\r\n        };\r\n        // we scrolled less than momentumLimitDistance pixels\r\n        if (this.hooks.trigger(this.hooks.eventTypes.checkClick)) {\r\n            this.animater.setForceStopped(false);\r\n            return true;\r\n        }\r\n        if (!cancelable.preventClick) {\r\n            var _dblclick = this.options.dblclick;\r\n            var dblclickTrigged = false;\r\n            if (_dblclick && this.lastClickTime) {\r\n                var _a = _dblclick.delay, delay = _a === void 0 ? 300 : _a;\r\n                if (getNow() - this.lastClickTime < delay) {\r\n                    dblclickTrigged = true;\r\n                    dblclick(e);\r\n                }\r\n            }\r\n            if (this.options.tap) {\r\n                tap(e, this.options.tap);\r\n            }\r\n            if (this.options.click &&\r\n                !preventDefaultExceptionFn(e.target, this.options.preventDefaultException)) {\r\n                click(e);\r\n            }\r\n            this.lastClickTime = dblclickTrigged ? null : getNow();\r\n            return true;\r\n        }\r\n        return false;\r\n    };\r\n    Scroller.prototype.resize = function () {\r\n        var _this = this;\r\n        if (!this.actions.enabled) {\r\n            return;\r\n        }\r\n        // fix a scroll problem under Android condition\r\n        /* istanbul ignore if  */\r\n        if (isAndroid) {\r\n            this.wrapper.scrollTop = 0;\r\n        }\r\n        clearTimeout(this.resizeTimeout);\r\n        this.resizeTimeout = window.setTimeout(function () {\r\n            _this.hooks.trigger(_this.hooks.eventTypes.resize);\r\n        }, this.options.resizePolling);\r\n    };\r\n    /* istanbul ignore next */\r\n    Scroller.prototype.transitionEnd = function (e) {\r\n        if (e.target !== this.content || !this.animater.pending) {\r\n            return;\r\n        }\r\n        var animater = this.animater;\r\n        animater.transitionTime();\r\n        if (!this.resetPosition(this.options.bounceTime, ease.bounce)) {\r\n            this.animater.setPending(false);\r\n            if (this.options.probeType !== 3 /* Realtime */) {\r\n                this.hooks.trigger(this.hooks.eventTypes.scrollEnd, this.getCurrentPos());\r\n            }\r\n        }\r\n    };\r\n    Scroller.prototype.togglePointerEvents = function (enabled) {\r\n        if (enabled === void 0) { enabled = true; }\r\n        var el = this.content.children.length\r\n            ? this.content.children\r\n            : [this.content];\r\n        var pointerEvents = enabled ? 'auto' : 'none';\r\n        for (var i = 0; i < el.length; i++) {\r\n            var node = el[i];\r\n            // ignore BetterScroll instance's wrapper DOM\r\n            /* istanbul ignore if  */\r\n            if (node.isBScrollContainer) {\r\n                continue;\r\n            }\r\n            node.style.pointerEvents = pointerEvents;\r\n        }\r\n    };\r\n    Scroller.prototype.refresh = function (content) {\r\n        var contentChanged = this.setContent(content);\r\n        this.hooks.trigger(this.hooks.eventTypes.beforeRefresh);\r\n        this.scrollBehaviorX.refresh(content);\r\n        this.scrollBehaviorY.refresh(content);\r\n        if (contentChanged) {\r\n            this.translater.setContent(content);\r\n            this.animater.setContent(content);\r\n            this.transitionEndRegister.destroy();\r\n            this.registerTransitionEnd();\r\n            if (this.options.bindToTarget) {\r\n                this.actionsHandler.setContent(content);\r\n            }\r\n        }\r\n        this.actions.refresh();\r\n        this.wrapperOffset = offset(this.wrapper);\r\n    };\r\n    Scroller.prototype.setContent = function (content) {\r\n        var contentChanged = content !== this.content;\r\n        if (contentChanged) {\r\n            this.content = content;\r\n        }\r\n        return contentChanged;\r\n    };\r\n    Scroller.prototype.scrollBy = function (deltaX, deltaY, time, easing) {\r\n        if (time === void 0) { time = 0; }\r\n        var _a = this.getCurrentPos(), x = _a.x, y = _a.y;\r\n        easing = !easing ? ease.bounce : easing;\r\n        deltaX += x;\r\n        deltaY += y;\r\n        this.scrollTo(deltaX, deltaY, time, easing);\r\n    };\r\n    Scroller.prototype.scrollTo = function (x, y, time, easing, extraTransform) {\r\n        if (time === void 0) { time = 0; }\r\n        if (easing === void 0) { easing = ease.bounce; }\r\n        if (extraTransform === void 0) { extraTransform = {\r\n            start: {},\r\n            end: {},\r\n        }; }\r\n        var easingFn = this.options.useTransition ? easing.style : easing.fn;\r\n        var currentPos = this.getCurrentPos();\r\n        var startPoint = __assign({ x: currentPos.x, y: currentPos.y }, extraTransform.start);\r\n        var endPoint = __assign({ x: x,\r\n            y: y }, extraTransform.end);\r\n        this.hooks.trigger(this.hooks.eventTypes.scrollTo, endPoint);\r\n        // it is an useless move\r\n        if (isSamePoint(startPoint, endPoint))\r\n            return;\r\n        var deltaX = Math.abs(endPoint.x - startPoint.x);\r\n        var deltaY = Math.abs(endPoint.y - startPoint.y);\r\n        // considering of browser compatibility for decimal transform value\r\n        // force translating immediately\r\n        if (deltaX < MIN_SCROLL_DISTANCE && deltaY < MIN_SCROLL_DISTANCE) {\r\n            time = 0;\r\n            this.hooks.trigger(this.hooks.eventTypes.minDistanceScroll);\r\n        }\r\n        this.animater.move(startPoint, endPoint, time, easingFn);\r\n    };\r\n    Scroller.prototype.scrollToElement = function (el, time, offsetX, offsetY, easing) {\r\n        var targetEle = getElement(el);\r\n        var pos = offset(targetEle);\r\n        var getOffset = function (offset, size, wrapperSize) {\r\n            if (typeof offset === 'number') {\r\n                return offset;\r\n            }\r\n            // if offsetX/Y are true we center the element to the screen\r\n            return offset ? Math.round(size / 2 - wrapperSize / 2) : 0;\r\n        };\r\n        offsetX = getOffset(offsetX, targetEle.offsetWidth, this.wrapper.offsetWidth);\r\n        offsetY = getOffset(offsetY, targetEle.offsetHeight, this.wrapper.offsetHeight);\r\n        var getPos = function (pos, wrapperPos, offset, scrollBehavior) {\r\n            pos -= wrapperPos;\r\n            pos = scrollBehavior.adjustPosition(pos - offset);\r\n            return pos;\r\n        };\r\n        pos.left = getPos(pos.left, this.wrapperOffset.left, offsetX, this.scrollBehaviorX);\r\n        pos.top = getPos(pos.top, this.wrapperOffset.top, offsetY, this.scrollBehaviorY);\r\n        if (this.hooks.trigger(this.hooks.eventTypes.scrollToElement, targetEle, pos)) {\r\n            return;\r\n        }\r\n        this.scrollTo(pos.left, pos.top, time, easing);\r\n    };\r\n    Scroller.prototype.resetPosition = function (time, easing) {\r\n        if (time === void 0) { time = 0; }\r\n        if (easing === void 0) { easing = ease.bounce; }\r\n        var _a = this.scrollBehaviorX.checkInBoundary(), x = _a.position, xInBoundary = _a.inBoundary;\r\n        var _b = this.scrollBehaviorY.checkInBoundary(), y = _b.position, yInBoundary = _b.inBoundary;\r\n        if (xInBoundary && yInBoundary) {\r\n            return false;\r\n        }\r\n        /* istanbul ignore if  */\r\n        if (isIOSBadVersion) {\r\n            // fix ios 13.4 bouncing\r\n            // see it in issues 982\r\n            this.reflow();\r\n        }\r\n        // out of boundary\r\n        this.scrollTo(x, y, time, easing);\r\n        return true;\r\n    };\r\n    /* istanbul ignore next */\r\n    Scroller.prototype.reflow = function () {\r\n        this._reflow = this.content.offsetHeight;\r\n    };\r\n    Scroller.prototype.updatePositions = function (pos) {\r\n        this.scrollBehaviorX.updatePosition(pos.x);\r\n        this.scrollBehaviorY.updatePosition(pos.y);\r\n    };\r\n    Scroller.prototype.getCurrentPos = function () {\r\n        return this.actions.getCurrentPos();\r\n    };\r\n    Scroller.prototype.enable = function () {\r\n        this.actions.enabled = true;\r\n    };\r\n    Scroller.prototype.disable = function () {\r\n        cancelAnimationFrame(this.animater.timer);\r\n        this.actions.enabled = false;\r\n    };\r\n    Scroller.prototype.destroy = function () {\r\n        var _this = this;\r\n        var keys = [\r\n            'resizeRegister',\r\n            'transitionEndRegister',\r\n            'actionsHandler',\r\n            'actions',\r\n            'hooks',\r\n            'animater',\r\n            'translater',\r\n            'scrollBehaviorX',\r\n            'scrollBehaviorY',\r\n        ];\r\n        keys.forEach(function (key) { return _this[key].destroy(); });\r\n    };\r\n    return Scroller;\r\n}());\n\nvar BScrollConstructor = /** @class */ (function (_super) {\r\n    __extends(BScrollConstructor, _super);\r\n    function BScrollConstructor(el, options) {\r\n        var _this = _super.call(this, [\r\n            'refresh',\r\n            'contentChanged',\r\n            'enable',\r\n            'disable',\r\n            'beforeScrollStart',\r\n            'scrollStart',\r\n            'scroll',\r\n            'scrollEnd',\r\n            'scrollCancel',\r\n            'touchEnd',\r\n            'flick',\r\n            'destroy'\r\n        ]) || this;\r\n        var wrapper = getElement(el);\r\n        if (!wrapper) {\r\n            warn('Can not resolve the wrapper DOM.');\r\n            return _this;\r\n        }\r\n        _this.plugins = {};\r\n        _this.options = new OptionsConstructor().merge(options).process();\r\n        if (!_this.setContent(wrapper).valid) {\r\n            return _this;\r\n        }\r\n        _this.hooks = new EventEmitter([\r\n            'refresh',\r\n            'enable',\r\n            'disable',\r\n            'destroy',\r\n            'beforeInitialScrollTo',\r\n            'contentChanged'\r\n        ]);\r\n        _this.init(wrapper);\r\n        return _this;\r\n    }\r\n    BScrollConstructor.use = function (ctor) {\r\n        var name = ctor.pluginName;\r\n        var installed = BScrollConstructor.plugins.some(function (plugin) { return ctor === plugin.ctor; });\r\n        if (installed)\r\n            return BScrollConstructor;\r\n        if (isUndef(name)) {\r\n            warn(\"Plugin Class must specify plugin's name in static property by 'pluginName' field.\");\r\n            return BScrollConstructor;\r\n        }\r\n        BScrollConstructor.pluginsMap[name] = true;\r\n        BScrollConstructor.plugins.push({\r\n            name: name,\r\n            applyOrder: ctor.applyOrder,\r\n            ctor: ctor\r\n        });\r\n        return BScrollConstructor;\r\n    };\r\n    BScrollConstructor.prototype.setContent = function (wrapper) {\r\n        var contentChanged = false;\r\n        var valid = true;\r\n        var content = wrapper.children[this.options.specifiedIndexAsContent];\r\n        if (!content) {\r\n            warn('The wrapper need at least one child element to be content element to scroll.');\r\n            valid = false;\r\n        }\r\n        else {\r\n            contentChanged = this.content !== content;\r\n            if (contentChanged) {\r\n                this.content = content;\r\n            }\r\n        }\r\n        return {\r\n            valid: valid,\r\n            contentChanged: contentChanged\r\n        };\r\n    };\r\n    BScrollConstructor.prototype.init = function (wrapper) {\r\n        var _this = this;\r\n        this.wrapper = wrapper;\r\n        // mark wrapper to recognize bs instance by DOM attribute\r\n        wrapper.isBScrollContainer = true;\r\n        this.scroller = new Scroller(wrapper, this.content, this.options);\r\n        this.scroller.hooks.on(this.scroller.hooks.eventTypes.resize, function () {\r\n            _this.refresh();\r\n        });\r\n        this.eventBubbling();\r\n        this.handleAutoBlur();\r\n        this.enable();\r\n        this.proxy(propertiesConfig$7);\r\n        this.applyPlugins();\r\n        // maybe boundary has changed, should refresh\r\n        this.refreshWithoutReset(this.content);\r\n        var _a = this.options, startX = _a.startX, startY = _a.startY;\r\n        var position = {\r\n            x: startX,\r\n            y: startY\r\n        };\r\n        // maybe plugins want to control scroll position\r\n        if (this.hooks.trigger(this.hooks.eventTypes.beforeInitialScrollTo, position)) {\r\n            return;\r\n        }\r\n        this.scroller.scrollTo(position.x, position.y);\r\n    };\r\n    BScrollConstructor.prototype.applyPlugins = function () {\r\n        var _this = this;\r\n        var options = this.options;\r\n        BScrollConstructor.plugins\r\n            .sort(function (a, b) {\r\n            var _a;\r\n            var applyOrderMap = (_a = {},\r\n                _a[\"pre\" /* Pre */] = -1,\r\n                _a[\"post\" /* Post */] = 1,\r\n                _a);\r\n            var aOrder = a.applyOrder ? applyOrderMap[a.applyOrder] : 0;\r\n            var bOrder = b.applyOrder ? applyOrderMap[b.applyOrder] : 0;\r\n            return aOrder - bOrder;\r\n        })\r\n            .forEach(function (item) {\r\n            var ctor = item.ctor;\r\n            if (options[item.name] && typeof ctor === 'function') {\r\n                _this.plugins[item.name] = new ctor(_this);\r\n            }\r\n        });\r\n    };\r\n    BScrollConstructor.prototype.handleAutoBlur = function () {\r\n        /* istanbul ignore if  */\r\n        if (this.options.autoBlur) {\r\n            this.on(this.eventTypes.beforeScrollStart, function () {\r\n                var activeElement = document.activeElement;\r\n                if (activeElement &&\r\n                    (activeElement.tagName === 'INPUT' ||\r\n                        activeElement.tagName === 'TEXTAREA')) {\r\n                    activeElement.blur();\r\n                }\r\n            });\r\n        }\r\n    };\r\n    BScrollConstructor.prototype.eventBubbling = function () {\r\n        bubbling(this.scroller.hooks, this, [\r\n            this.eventTypes.beforeScrollStart,\r\n            this.eventTypes.scrollStart,\r\n            this.eventTypes.scroll,\r\n            this.eventTypes.scrollEnd,\r\n            this.eventTypes.scrollCancel,\r\n            this.eventTypes.touchEnd,\r\n            this.eventTypes.flick\r\n        ]);\r\n    };\r\n    BScrollConstructor.prototype.refreshWithoutReset = function (content) {\r\n        this.scroller.refresh(content);\r\n        this.hooks.trigger(this.hooks.eventTypes.refresh, content);\r\n        this.trigger(this.eventTypes.refresh, content);\r\n    };\r\n    BScrollConstructor.prototype.proxy = function (propertiesConfig) {\r\n        var _this = this;\r\n        propertiesConfig.forEach(function (_a) {\r\n            var key = _a.key, sourceKey = _a.sourceKey;\r\n            propertiesProxy(_this, sourceKey, key);\r\n        });\r\n    };\r\n    BScrollConstructor.prototype.refresh = function () {\r\n        var _a = this.setContent(this.wrapper), contentChanged = _a.contentChanged, valid = _a.valid;\r\n        if (valid) {\r\n            var content = this.content;\r\n            this.refreshWithoutReset(content);\r\n            if (contentChanged) {\r\n                this.hooks.trigger(this.hooks.eventTypes.contentChanged, content);\r\n                this.trigger(this.eventTypes.contentChanged, content);\r\n            }\r\n            this.scroller.resetPosition();\r\n        }\r\n    };\r\n    BScrollConstructor.prototype.enable = function () {\r\n        this.scroller.enable();\r\n        this.hooks.trigger(this.hooks.eventTypes.enable);\r\n        this.trigger(this.eventTypes.enable);\r\n    };\r\n    BScrollConstructor.prototype.disable = function () {\r\n        this.scroller.disable();\r\n        this.hooks.trigger(this.hooks.eventTypes.disable);\r\n        this.trigger(this.eventTypes.disable);\r\n    };\r\n    BScrollConstructor.prototype.destroy = function () {\r\n        this.hooks.trigger(this.hooks.eventTypes.destroy);\r\n        this.trigger(this.eventTypes.destroy);\r\n        this.scroller.destroy();\r\n    };\r\n    BScrollConstructor.prototype.eventRegister = function (names) {\r\n        this.registerType(names);\r\n    };\r\n    BScrollConstructor.plugins = [];\r\n    BScrollConstructor.pluginsMap = {};\r\n    return BScrollConstructor;\r\n}(EventEmitter));\r\nfunction createBScroll(el, options) {\r\n    var bs = new BScrollConstructor(el, options);\r\n    return bs;\r\n}\r\ncreateBScroll.use = BScrollConstructor.use;\r\ncreateBScroll.plugins = BScrollConstructor.plugins;\r\ncreateBScroll.pluginsMap = BScrollConstructor.pluginsMap;\r\nvar BScroll = createBScroll;\n\nvar MouseWheel = /** @class */ (function () {\r\n    function MouseWheel(scroll) {\r\n        this.scroll = scroll;\r\n        this.wheelEndTimer = 0;\r\n        this.wheelMoveTimer = 0;\r\n        this.wheelStart = false;\r\n        this.init();\r\n    }\r\n    MouseWheel.prototype.init = function () {\r\n        this.handleBScroll();\r\n        this.handleOptions();\r\n        this.handleHooks();\r\n        this.registerEvent();\r\n    };\r\n    MouseWheel.prototype.handleBScroll = function () {\r\n        this.scroll.registerType([\r\n            'alterOptions',\r\n            'mousewheelStart',\r\n            'mousewheelMove',\r\n            'mousewheelEnd',\r\n        ]);\r\n    };\r\n    MouseWheel.prototype.handleOptions = function () {\r\n        var userOptions = (this.scroll.options.mouseWheel === true\r\n            ? {}\r\n            : this.scroll.options.mouseWheel);\r\n        var defaultOptions = {\r\n            speed: 20,\r\n            invert: false,\r\n            easeTime: 300,\r\n            discreteTime: 400,\r\n            throttleTime: 0,\r\n            dampingFactor: 0.1,\r\n        };\r\n        this.mouseWheelOpt = extend(defaultOptions, userOptions);\r\n    };\r\n    MouseWheel.prototype.handleHooks = function () {\r\n        this.hooksFn = [];\r\n        this.registerHooks(this.scroll.hooks, 'destroy', this.destroy);\r\n    };\r\n    MouseWheel.prototype.registerEvent = function () {\r\n        this.eventRegister = new EventRegister(this.scroll.scroller.wrapper, [\r\n            {\r\n                name: 'wheel',\r\n                handler: this.wheelHandler.bind(this),\r\n            },\r\n            {\r\n                name: 'mousewheel',\r\n                handler: this.wheelHandler.bind(this),\r\n            },\r\n            {\r\n                name: 'DOMMouseScroll',\r\n                handler: this.wheelHandler.bind(this),\r\n            },\r\n        ]);\r\n    };\r\n    MouseWheel.prototype.registerHooks = function (hooks, name, handler) {\r\n        hooks.on(name, handler, this);\r\n        this.hooksFn.push([hooks, name, handler]);\r\n    };\r\n    MouseWheel.prototype.wheelHandler = function (e) {\r\n        if (!this.scroll.enabled) {\r\n            return;\r\n        }\r\n        this.beforeHandler(e);\r\n        // start\r\n        if (!this.wheelStart) {\r\n            this.wheelStartHandler(e);\r\n            this.wheelStart = true;\r\n        }\r\n        // move\r\n        var delta = this.getWheelDelta(e);\r\n        this.wheelMoveHandler(delta);\r\n        // end\r\n        this.wheelEndDetector(delta);\r\n    };\r\n    MouseWheel.prototype.wheelStartHandler = function (e) {\r\n        this.cleanCache();\r\n        var _a = this.scroll.scroller, scrollBehaviorX = _a.scrollBehaviorX, scrollBehaviorY = _a.scrollBehaviorY;\r\n        scrollBehaviorX.setMovingDirection(0 /* Default */);\r\n        scrollBehaviorY.setMovingDirection(0 /* Default */);\r\n        scrollBehaviorX.setDirection(0 /* Default */);\r\n        scrollBehaviorY.setDirection(0 /* Default */);\r\n        this.scroll.trigger(this.scroll.eventTypes.alterOptions, this.mouseWheelOpt);\r\n        this.scroll.trigger(this.scroll.eventTypes.mousewheelStart);\r\n    };\r\n    MouseWheel.prototype.cleanCache = function () {\r\n        this.deltaCache = [];\r\n    };\r\n    MouseWheel.prototype.wheelMoveHandler = function (delta) {\r\n        var _this = this;\r\n        var _a = this.mouseWheelOpt, throttleTime = _a.throttleTime, dampingFactor = _a.dampingFactor;\r\n        if (throttleTime && this.wheelMoveTimer) {\r\n            this.deltaCache.push(delta);\r\n        }\r\n        else {\r\n            var cachedDelta = this.deltaCache.reduce(function (prev, current) {\r\n                return {\r\n                    x: prev.x + current.x,\r\n                    y: prev.y + current.y,\r\n                };\r\n            }, { x: 0, y: 0 });\r\n            this.cleanCache();\r\n            var _b = this.scroll.scroller, scrollBehaviorX = _b.scrollBehaviorX, scrollBehaviorY = _b.scrollBehaviorY;\r\n            scrollBehaviorX.setMovingDirection(-delta.directionX);\r\n            scrollBehaviorY.setMovingDirection(-delta.directionY);\r\n            scrollBehaviorX.setDirection(delta.x);\r\n            scrollBehaviorY.setDirection(delta.y);\r\n            // when out of boundary, perform a damping scroll\r\n            var newX = scrollBehaviorX.performDampingAlgorithm(Math.round(delta.x) + cachedDelta.x, dampingFactor);\r\n            var newY = scrollBehaviorY.performDampingAlgorithm(Math.round(delta.y) + cachedDelta.x, dampingFactor);\r\n            if (!this.scroll.trigger(this.scroll.eventTypes.mousewheelMove, {\r\n                x: newX,\r\n                y: newY,\r\n            })) {\r\n                var easeTime = this.getEaseTime();\r\n                if (newX !== this.scroll.x || newY !== this.scroll.y) {\r\n                    this.scroll.scrollTo(newX, newY, easeTime);\r\n                }\r\n            }\r\n            if (throttleTime) {\r\n                this.wheelMoveTimer = window.setTimeout(function () {\r\n                    _this.wheelMoveTimer = 0;\r\n                }, throttleTime);\r\n            }\r\n        }\r\n    };\r\n    MouseWheel.prototype.wheelEndDetector = function (delta) {\r\n        var _this = this;\r\n        window.clearTimeout(this.wheelEndTimer);\r\n        this.wheelEndTimer = window.setTimeout(function () {\r\n            _this.wheelStart = false;\r\n            window.clearTimeout(_this.wheelMoveTimer);\r\n            _this.wheelMoveTimer = 0;\r\n            _this.scroll.trigger(_this.scroll.eventTypes.mousewheelEnd, delta);\r\n        }, this.mouseWheelOpt.discreteTime);\r\n    };\r\n    MouseWheel.prototype.getWheelDelta = function (e) {\r\n        var _a = this.mouseWheelOpt, speed = _a.speed, invert = _a.invert;\r\n        var wheelDeltaX = 0;\r\n        var wheelDeltaY = 0;\r\n        var direction = invert ? -1 /* Negative */ : 1 /* Positive */;\r\n        switch (true) {\r\n            case 'deltaX' in e:\r\n                if (e.deltaMode === 1) {\r\n                    wheelDeltaX = -e.deltaX * speed;\r\n                    wheelDeltaY = -e.deltaY * speed;\r\n                }\r\n                else {\r\n                    wheelDeltaX = -e.deltaX;\r\n                    wheelDeltaY = -e.deltaY;\r\n                }\r\n                break;\r\n            case 'wheelDeltaX' in e:\r\n                wheelDeltaX = (e.wheelDeltaX / 120) * speed;\r\n                wheelDeltaY = (e.wheelDeltaY / 120) * speed;\r\n                break;\r\n            case 'wheelDelta' in e:\r\n                wheelDeltaX = wheelDeltaY = (e.wheelDelta / 120) * speed;\r\n                break;\r\n            case 'detail' in e:\r\n                wheelDeltaX = wheelDeltaY = (-e.detail / 3) * speed;\r\n                break;\r\n        }\r\n        wheelDeltaX *= direction;\r\n        wheelDeltaY *= direction;\r\n        if (!this.scroll.hasVerticalScroll) {\r\n            if (Math.abs(wheelDeltaY) > Math.abs(wheelDeltaX)) {\r\n                wheelDeltaX = wheelDeltaY;\r\n            }\r\n            wheelDeltaY = 0;\r\n        }\r\n        if (!this.scroll.hasHorizontalScroll) {\r\n            wheelDeltaX = 0;\r\n        }\r\n        var directionX = wheelDeltaX > 0\r\n            ? -1 /* Negative */\r\n            : wheelDeltaX < 0\r\n                ? 1 /* Positive */\r\n                : 0 /* Default */;\r\n        var directionY = wheelDeltaY > 0\r\n            ? -1 /* Negative */\r\n            : wheelDeltaY < 0\r\n                ? 1 /* Positive */\r\n                : 0 /* Default */;\r\n        return {\r\n            x: wheelDeltaX,\r\n            y: wheelDeltaY,\r\n            directionX: directionX,\r\n            directionY: directionY,\r\n        };\r\n    };\r\n    MouseWheel.prototype.beforeHandler = function (e) {\r\n        var _a = this.scroll.options, preventDefault = _a.preventDefault, stopPropagation = _a.stopPropagation, preventDefaultException = _a.preventDefaultException;\r\n        if (preventDefault &&\r\n            !preventDefaultExceptionFn(e.target, preventDefaultException)) {\r\n            e.preventDefault();\r\n        }\r\n        if (stopPropagation) {\r\n            e.stopPropagation();\r\n        }\r\n    };\r\n    MouseWheel.prototype.getEaseTime = function () {\r\n        var SAFE_EASETIME = 100;\r\n        var easeTime = this.mouseWheelOpt.easeTime;\r\n        // scrollEnd event will be triggered in every calling of scrollTo when easeTime is too small\r\n        // easeTime needs to be greater than 100\r\n        if (easeTime < SAFE_EASETIME) {\r\n            warn(\"easeTime should be greater than 100.\" +\r\n                \"If mouseWheel easeTime is too small,\" +\r\n                \"scrollEnd will be triggered many times.\");\r\n        }\r\n        return Math.max(easeTime, SAFE_EASETIME);\r\n    };\r\n    MouseWheel.prototype.destroy = function () {\r\n        this.eventRegister.destroy();\r\n        window.clearTimeout(this.wheelEndTimer);\r\n        window.clearTimeout(this.wheelMoveTimer);\r\n        this.hooksFn.forEach(function (item) {\r\n            var hooks = item[0];\r\n            var hooksName = item[1];\r\n            var handlerFn = item[2];\r\n            hooks.off(hooksName, handlerFn);\r\n        });\r\n    };\r\n    MouseWheel.pluginName = 'mouseWheel';\r\n    MouseWheel.applyOrder = \"pre\" /* Pre */;\r\n    return MouseWheel;\r\n}());\n\nvar ObserveDOM = /** @class */ (function () {\r\n    function ObserveDOM(scroll) {\r\n        this.scroll = scroll;\r\n        this.stopObserver = false;\r\n        this.init();\r\n    }\r\n    ObserveDOM.prototype.init = function () {\r\n        this.handleMutationObserver();\r\n        this.handleHooks();\r\n    };\r\n    ObserveDOM.prototype.handleMutationObserver = function () {\r\n        var _this = this;\r\n        if (typeof MutationObserver !== 'undefined') {\r\n            var timer_1 = 0;\r\n            this.observer = new MutationObserver(function (mutations) {\r\n                _this.mutationObserverHandler(mutations, timer_1);\r\n            });\r\n            this.startObserve(this.observer);\r\n        }\r\n        else {\r\n            this.checkDOMUpdate();\r\n        }\r\n    };\r\n    ObserveDOM.prototype.handleHooks = function () {\r\n        var _this = this;\r\n        this.hooksFn = [];\r\n        this.registerHooks(this.scroll.hooks, this.scroll.hooks.eventTypes.contentChanged, function () {\r\n            _this.stopObserve();\r\n            // launch a new mutationObserver\r\n            _this.handleMutationObserver();\r\n        });\r\n        this.registerHooks(this.scroll.hooks, this.scroll.hooks.eventTypes.enable, function () {\r\n            if (_this.stopObserver) {\r\n                _this.handleMutationObserver();\r\n            }\r\n        });\r\n        this.registerHooks(this.scroll.hooks, this.scroll.hooks.eventTypes.disable, function () {\r\n            _this.stopObserve();\r\n        });\r\n        this.registerHooks(this.scroll.hooks, this.scroll.hooks.eventTypes.destroy, function () {\r\n            _this.destroy();\r\n        });\r\n    };\r\n    ObserveDOM.prototype.mutationObserverHandler = function (mutations, timer) {\r\n        var _this = this;\r\n        if (this.shouldNotRefresh()) {\r\n            return;\r\n        }\r\n        var immediateRefresh = false;\r\n        var deferredRefresh = false;\r\n        for (var i = 0; i < mutations.length; i++) {\r\n            var mutation = mutations[i];\r\n            if (mutation.type !== 'attributes') {\r\n                immediateRefresh = true;\r\n                break;\r\n            }\r\n            else {\r\n                if (mutation.target !== this.scroll.scroller.content) {\r\n                    deferredRefresh = true;\r\n                    break;\r\n                }\r\n            }\r\n        }\r\n        if (immediateRefresh) {\r\n            this.scroll.refresh();\r\n        }\r\n        else if (deferredRefresh) {\r\n            // attributes changes too often\r\n            clearTimeout(timer);\r\n            timer = window.setTimeout(function () {\r\n                if (!_this.shouldNotRefresh()) {\r\n                    _this.scroll.refresh();\r\n                }\r\n            }, 60);\r\n        }\r\n    };\r\n    ObserveDOM.prototype.startObserve = function (observer) {\r\n        var config = {\r\n            attributes: true,\r\n            childList: true,\r\n            subtree: true,\r\n        };\r\n        observer.observe(this.scroll.scroller.content, config);\r\n    };\r\n    ObserveDOM.prototype.shouldNotRefresh = function () {\r\n        var scroller = this.scroll.scroller;\r\n        var scrollBehaviorX = scroller.scrollBehaviorX, scrollBehaviorY = scroller.scrollBehaviorY;\r\n        var outsideBoundaries = scrollBehaviorX.currentPos > scrollBehaviorX.minScrollPos ||\r\n            scrollBehaviorX.currentPos < scrollBehaviorX.maxScrollPos ||\r\n            scrollBehaviorY.currentPos > scrollBehaviorY.minScrollPos ||\r\n            scrollBehaviorY.currentPos < scrollBehaviorY.maxScrollPos;\r\n        return scroller.animater.pending || outsideBoundaries;\r\n    };\r\n    ObserveDOM.prototype.checkDOMUpdate = function () {\r\n        var _this = this;\r\n        var content = this.scroll.scroller.content;\r\n        var contentRect = getRect(content);\r\n        var oldWidth = contentRect.width;\r\n        var oldHeight = contentRect.height;\r\n        var check = function () {\r\n            if (_this.stopObserver) {\r\n                return;\r\n            }\r\n            contentRect = getRect(content);\r\n            var newWidth = contentRect.width;\r\n            var newHeight = contentRect.height;\r\n            if (oldWidth !== newWidth || oldHeight !== newHeight) {\r\n                _this.scroll.refresh();\r\n            }\r\n            oldWidth = newWidth;\r\n            oldHeight = newHeight;\r\n            next();\r\n        };\r\n        var next = function () {\r\n            setTimeout(function () {\r\n                check();\r\n            }, 1000);\r\n        };\r\n        next();\r\n    };\r\n    ObserveDOM.prototype.registerHooks = function (hooks, name, handler) {\r\n        hooks.on(name, handler, this);\r\n        this.hooksFn.push([hooks, name, handler]);\r\n    };\r\n    ObserveDOM.prototype.stopObserve = function () {\r\n        this.stopObserver = true;\r\n        if (this.observer) {\r\n            this.observer.disconnect();\r\n        }\r\n    };\r\n    ObserveDOM.prototype.destroy = function () {\r\n        this.stopObserve();\r\n        this.hooksFn.forEach(function (item) {\r\n            var hooks = item[0];\r\n            var hooksName = item[1];\r\n            var handlerFn = item[2];\r\n            hooks.off(hooksName, handlerFn);\r\n        });\r\n        this.hooksFn.length = 0;\r\n    };\r\n    ObserveDOM.pluginName = 'observeDOM';\r\n    return ObserveDOM;\r\n}());\n\nvar sourcePrefix$6 = 'plugins.pullDownRefresh';\r\nvar propertiesMap$6 = [\r\n    {\r\n        key: 'finishPullDown',\r\n        name: 'finishPullDown'\r\n    },\r\n    {\r\n        key: 'openPullDown',\r\n        name: 'openPullDown'\r\n    },\r\n    {\r\n        key: 'closePullDown',\r\n        name: 'closePullDown'\r\n    },\r\n    {\r\n        key: 'autoPullDownRefresh',\r\n        name: 'autoPullDownRefresh'\r\n    }\r\n];\r\nvar propertiesConfig$6 = propertiesMap$6.map(function (item) {\r\n    return {\r\n        key: item.key,\r\n        sourceKey: sourcePrefix$6 + \".\" + item.name\r\n    };\r\n});\n\nvar PULLING_DOWN_EVENT = 'pullingDown';\r\nvar ENTER_THRESHOLD_EVENT = 'enterThreshold';\r\nvar LEAVE_THRESHOLD_EVENT = 'leaveThreshold';\r\nvar PullDown = /** @class */ (function () {\r\n    function PullDown(scroll) {\r\n        this.scroll = scroll;\r\n        this.pulling = 0 /* DEFAULT */;\r\n        this.thresholdBoundary = 0 /* DEFAULT */;\r\n        this.init();\r\n    }\r\n    PullDown.prototype.setPulling = function (status) {\r\n        this.pulling = status;\r\n    };\r\n    PullDown.prototype.setThresholdBoundary = function (boundary) {\r\n        this.thresholdBoundary = boundary;\r\n    };\r\n    PullDown.prototype.init = function () {\r\n        this.handleBScroll();\r\n        this.handleOptions(this.scroll.options.pullDownRefresh);\r\n        this.handleHooks();\r\n        this.watch();\r\n    };\r\n    PullDown.prototype.handleBScroll = function () {\r\n        this.scroll.registerType([\r\n            PULLING_DOWN_EVENT,\r\n            ENTER_THRESHOLD_EVENT,\r\n            LEAVE_THRESHOLD_EVENT,\r\n        ]);\r\n        this.scroll.proxy(propertiesConfig$6);\r\n    };\r\n    PullDown.prototype.handleOptions = function (userOptions) {\r\n        if (userOptions === void 0) { userOptions = {}; }\r\n        userOptions = (userOptions === true ? {} : userOptions);\r\n        var defaultOptions = {\r\n            threshold: 90,\r\n            stop: 40,\r\n        };\r\n        this.options = extend(defaultOptions, userOptions);\r\n        this.scroll.options.probeType = 3 /* Realtime */;\r\n    };\r\n    PullDown.prototype.handleHooks = function () {\r\n        var _this = this;\r\n        this.hooksFn = [];\r\n        var scroller = this.scroll.scroller;\r\n        var scrollBehaviorY = scroller.scrollBehaviorY;\r\n        this.currentMinScrollY = this.cachedOriginanMinScrollY =\r\n            scrollBehaviorY.minScrollPos;\r\n        this.registerHooks(this.scroll.hooks, this.scroll.hooks.eventTypes.contentChanged, function () {\r\n            _this.finishPullDown();\r\n        });\r\n        this.registerHooks(scrollBehaviorY.hooks, scrollBehaviorY.hooks.eventTypes.computeBoundary, function (boundary) {\r\n            // content is smaller than wrapper\r\n            if (boundary.maxScrollPos > 0) {\r\n                // allow scrolling when content is not full of wrapper\r\n                boundary.maxScrollPos = -1;\r\n            }\r\n            boundary.minScrollPos = _this.currentMinScrollY;\r\n        });\r\n        // integrate with mousewheel\r\n        if (this.hasMouseWheelPlugin()) {\r\n            this.registerHooks(this.scroll, this.scroll.eventTypes.alterOptions, function (mouseWheelOptions) {\r\n                var SANE_DISCRETE_TIME = 300;\r\n                var SANE_EASE_TIME = 350;\r\n                mouseWheelOptions.discreteTime = SANE_DISCRETE_TIME;\r\n                // easeTime > discreteTime ensure goInto checkPullDown function\r\n                mouseWheelOptions.easeTime = SANE_EASE_TIME;\r\n            });\r\n            this.registerHooks(this.scroll, this.scroll.eventTypes.mousewheelEnd, function () {\r\n                // mouseWheel need trigger checkPullDown manually\r\n                scroller.hooks.trigger(scroller.hooks.eventTypes.end);\r\n            });\r\n        }\r\n    };\r\n    PullDown.prototype.registerHooks = function (hooks, name, handler) {\r\n        hooks.on(name, handler, this);\r\n        this.hooksFn.push([hooks, name, handler]);\r\n    };\r\n    PullDown.prototype.hasMouseWheelPlugin = function () {\r\n        return !!this.scroll.eventTypes.alterOptions;\r\n    };\r\n    PullDown.prototype.watch = function () {\r\n        var scroller = this.scroll.scroller;\r\n        this.watching = true;\r\n        this.registerHooks(scroller.hooks, scroller.hooks.eventTypes.end, this.checkPullDown);\r\n        this.registerHooks(this.scroll, this.scroll.eventTypes.scrollStart, this.resetStateBeforeScrollStart);\r\n        this.registerHooks(this.scroll, this.scroll.eventTypes.scroll, this.checkLocationOfThresholdBoundary);\r\n        if (this.hasMouseWheelPlugin()) {\r\n            this.registerHooks(this.scroll, this.scroll.eventTypes.mousewheelStart, this.resetStateBeforeScrollStart);\r\n        }\r\n    };\r\n    PullDown.prototype.resetStateBeforeScrollStart = function () {\r\n        // current fetching pulldownRefresh has ended\r\n        if (!this.isFetchingStatus()) {\r\n            this.setPulling(1 /* MOVING */);\r\n            this.setThresholdBoundary(0 /* DEFAULT */);\r\n        }\r\n    };\r\n    PullDown.prototype.checkLocationOfThresholdBoundary = function () {\r\n        // pulldownRefresh is in the phase of Moving\r\n        if (this.pulling === 1 /* MOVING */) {\r\n            var scroll_1 = this.scroll;\r\n            // enter threshold boundary\r\n            var enteredThresholdBoundary = this.thresholdBoundary !== 1 /* INSIDE */ &&\r\n                this.locateInsideThresholdBoundary();\r\n            // leave threshold boundary\r\n            var leftThresholdBoundary = this.thresholdBoundary !== 2 /* OUTSIDE */ &&\r\n                !this.locateInsideThresholdBoundary();\r\n            if (enteredThresholdBoundary) {\r\n                this.setThresholdBoundary(1 /* INSIDE */);\r\n                scroll_1.trigger(ENTER_THRESHOLD_EVENT);\r\n            }\r\n            if (leftThresholdBoundary) {\r\n                this.setThresholdBoundary(2 /* OUTSIDE */);\r\n                scroll_1.trigger(LEAVE_THRESHOLD_EVENT);\r\n            }\r\n        }\r\n    };\r\n    PullDown.prototype.locateInsideThresholdBoundary = function () {\r\n        return this.scroll.y <= this.options.threshold;\r\n    };\r\n    PullDown.prototype.unwatch = function () {\r\n        var scroll = this.scroll;\r\n        var scroller = scroll.scroller;\r\n        this.watching = false;\r\n        scroller.hooks.off(scroller.hooks.eventTypes.end, this.checkPullDown);\r\n        scroll.off(scroll.eventTypes.scrollStart, this.resetStateBeforeScrollStart);\r\n        scroll.off(scroll.eventTypes.scroll, this.checkLocationOfThresholdBoundary);\r\n        if (this.hasMouseWheelPlugin()) {\r\n            scroll.off(scroll.eventTypes.mousewheelStart, this.resetStateBeforeScrollStart);\r\n        }\r\n    };\r\n    PullDown.prototype.checkPullDown = function () {\r\n        var _a = this.options, threshold = _a.threshold, stop = _a.stop;\r\n        // check if a real pull down action\r\n        if (this.scroll.y < threshold) {\r\n            return false;\r\n        }\r\n        if (this.pulling === 1 /* MOVING */) {\r\n            this.modifyBehaviorYBoundary(stop);\r\n            this.setPulling(2 /* FETCHING */);\r\n            this.scroll.trigger(PULLING_DOWN_EVENT);\r\n        }\r\n        this.scroll.scrollTo(this.scroll.x, stop, this.scroll.options.bounceTime, ease.bounce);\r\n        return this.isFetchingStatus();\r\n    };\r\n    PullDown.prototype.isFetchingStatus = function () {\r\n        return this.pulling === 2 /* FETCHING */;\r\n    };\r\n    PullDown.prototype.modifyBehaviorYBoundary = function (stopDistance) {\r\n        var scrollBehaviorY = this.scroll.scroller.scrollBehaviorY;\r\n        // manually modify minScrollPos for a hang animation\r\n        // to prevent from resetPosition\r\n        this.cachedOriginanMinScrollY = scrollBehaviorY.minScrollPos;\r\n        this.currentMinScrollY = stopDistance;\r\n        scrollBehaviorY.computeBoundary();\r\n    };\r\n    PullDown.prototype.finishPullDown = function () {\r\n        if (this.isFetchingStatus()) {\r\n            var scrollBehaviorY = this.scroll.scroller.scrollBehaviorY;\r\n            // restore minScrollY since the hang animation has ended\r\n            this.currentMinScrollY = this.cachedOriginanMinScrollY;\r\n            scrollBehaviorY.computeBoundary();\r\n            this.setPulling(0 /* DEFAULT */);\r\n            this.scroll.resetPosition(this.scroll.options.bounceTime, ease.bounce);\r\n        }\r\n    };\r\n    // allow 'true' type is compat for beta version implements\r\n    PullDown.prototype.openPullDown = function (config) {\r\n        if (config === void 0) { config = {}; }\r\n        this.handleOptions(config);\r\n        if (!this.watching) {\r\n            this.watch();\r\n        }\r\n    };\r\n    PullDown.prototype.closePullDown = function () {\r\n        this.unwatch();\r\n    };\r\n    PullDown.prototype.autoPullDownRefresh = function () {\r\n        var _a = this.options, threshold = _a.threshold, stop = _a.stop;\r\n        if (this.isFetchingStatus() || !this.watching) {\r\n            return;\r\n        }\r\n        this.modifyBehaviorYBoundary(stop);\r\n        this.scroll.trigger(this.scroll.eventTypes.scrollStart);\r\n        this.scroll.scrollTo(this.scroll.x, threshold);\r\n        this.setPulling(2 /* FETCHING */);\r\n        this.scroll.trigger(PULLING_DOWN_EVENT);\r\n        this.scroll.scrollTo(this.scroll.x, stop, this.scroll.options.bounceTime, ease.bounce);\r\n    };\r\n    PullDown.pluginName = 'pullDownRefresh';\r\n    return PullDown;\r\n}());\n\nvar sourcePrefix$5 = 'plugins.pullUpLoad';\r\nvar propertiesMap$5 = [\r\n    {\r\n        key: 'finishPullUp',\r\n        name: 'finishPullUp'\r\n    },\r\n    {\r\n        key: 'openPullUp',\r\n        name: 'openPullUp'\r\n    },\r\n    {\r\n        key: 'closePullUp',\r\n        name: 'closePullUp'\r\n    },\r\n    {\r\n        key: 'autoPullUpLoad',\r\n        name: 'autoPullUpLoad'\r\n    }\r\n];\r\nvar propertiesConfig$5 = propertiesMap$5.map(function (item) {\r\n    return {\r\n        key: item.key,\r\n        sourceKey: sourcePrefix$5 + \".\" + item.name\r\n    };\r\n});\n\nvar PULL_UP_HOOKS_NAME = 'pullingUp';\r\nvar PullUp = /** @class */ (function () {\r\n    function PullUp(scroll) {\r\n        this.scroll = scroll;\r\n        this.pulling = false;\r\n        this.watching = false;\r\n        this.init();\r\n    }\r\n    PullUp.prototype.init = function () {\r\n        this.handleBScroll();\r\n        this.handleOptions(this.scroll.options.pullUpLoad);\r\n        this.handleHooks();\r\n        this.watch();\r\n    };\r\n    PullUp.prototype.handleBScroll = function () {\r\n        this.scroll.registerType([PULL_UP_HOOKS_NAME]);\r\n        this.scroll.proxy(propertiesConfig$5);\r\n    };\r\n    PullUp.prototype.handleOptions = function (userOptions) {\r\n        if (userOptions === void 0) { userOptions = {}; }\r\n        userOptions = (userOptions === true ? {} : userOptions);\r\n        var defaultOptions = {\r\n            threshold: 0,\r\n        };\r\n        this.options = extend(defaultOptions, userOptions);\r\n        this.scroll.options.probeType = 3 /* Realtime */;\r\n    };\r\n    PullUp.prototype.handleHooks = function () {\r\n        var _this = this;\r\n        this.hooksFn = [];\r\n        var scrollBehaviorY = this.scroll.scroller.scrollBehaviorY;\r\n        this.registerHooks(this.scroll.hooks, this.scroll.hooks.eventTypes.contentChanged, function () {\r\n            _this.finishPullUp();\r\n        });\r\n        this.registerHooks(scrollBehaviorY.hooks, scrollBehaviorY.hooks.eventTypes.computeBoundary, function (boundary) {\r\n            // content is smaller than wrapper\r\n            if (boundary.maxScrollPos > 0) {\r\n                // allow scrolling when content is not full of wrapper\r\n                boundary.maxScrollPos = -1;\r\n            }\r\n        });\r\n    };\r\n    PullUp.prototype.registerHooks = function (hooks, name, handler) {\r\n        hooks.on(name, handler, this);\r\n        this.hooksFn.push([hooks, name, handler]);\r\n    };\r\n    PullUp.prototype.watch = function () {\r\n        if (this.watching) {\r\n            return;\r\n        }\r\n        this.watching = true;\r\n        this.registerHooks(this.scroll, this.scroll.eventTypes.scroll, this.checkPullUp);\r\n    };\r\n    PullUp.prototype.unwatch = function () {\r\n        this.watching = false;\r\n        this.scroll.off(this.scroll.eventTypes.scroll, this.checkPullUp);\r\n    };\r\n    PullUp.prototype.checkPullUp = function (pos) {\r\n        var _this = this;\r\n        var threshold = this.options.threshold;\r\n        if (this.scroll.movingDirectionY === 1 /* Positive */ &&\r\n            pos.y <= this.scroll.maxScrollY + threshold) {\r\n            this.pulling = true;\r\n            // must reset pulling after scrollEnd\r\n            this.scroll.once(this.scroll.eventTypes.scrollEnd, function () {\r\n                _this.pulling = false;\r\n            });\r\n            this.unwatch();\r\n            this.scroll.trigger(PULL_UP_HOOKS_NAME);\r\n        }\r\n    };\r\n    PullUp.prototype.finishPullUp = function () {\r\n        var _this = this;\r\n        // reset Direction, fix #936\r\n        this.scroll.scroller.scrollBehaviorY.setMovingDirection(0 /* Default */);\r\n        if (this.pulling) {\r\n            this.scroll.once(this.scroll.eventTypes.scrollEnd, function () {\r\n                _this.watch();\r\n            });\r\n        }\r\n        else {\r\n            this.watch();\r\n        }\r\n    };\r\n    // allow 'true' type is compat for beta version implements\r\n    PullUp.prototype.openPullUp = function (config) {\r\n        if (config === void 0) { config = {}; }\r\n        this.handleOptions(config);\r\n        this.watch();\r\n    };\r\n    PullUp.prototype.closePullUp = function () {\r\n        this.unwatch();\r\n    };\r\n    PullUp.prototype.autoPullUpLoad = function () {\r\n        var threshold = this.options.threshold;\r\n        var scrollBehaviorY = this.scroll.scroller.scrollBehaviorY;\r\n        if (this.pulling || !this.watching) {\r\n            return;\r\n        }\r\n        // simulate a pullUp action\r\n        var NEGATIVE_VALUE = -1;\r\n        var outOfBoundaryPos = scrollBehaviorY.maxScrollPos + threshold + NEGATIVE_VALUE;\r\n        this.scroll.scroller.scrollBehaviorY.setMovingDirection(NEGATIVE_VALUE);\r\n        this.scroll.scrollTo(this.scroll.x, outOfBoundaryPos, this.scroll.options.bounceTime);\r\n    };\r\n    PullUp.pluginName = 'pullUpLoad';\r\n    return PullUp;\r\n}());\n\nvar EventHandler = /** @class */ (function () {\r\n    function EventHandler(indicator, options) {\r\n        this.indicator = indicator;\r\n        this.options = options;\r\n        this.hooks = new EventEmitter(['touchStart', 'touchMove', 'touchEnd']);\r\n        this.registerEvents();\r\n    }\r\n    EventHandler.prototype.registerEvents = function () {\r\n        var _a = this.options, disableMouse = _a.disableMouse, disableTouch = _a.disableTouch;\r\n        var startEvents = [];\r\n        var moveEvents = [];\r\n        var endEvents = [];\r\n        if (!disableMouse) {\r\n            startEvents.push({\r\n                name: 'mousedown',\r\n                handler: this.start.bind(this),\r\n            });\r\n            moveEvents.push({\r\n                name: 'mousemove',\r\n                handler: this.move.bind(this),\r\n            });\r\n            endEvents.push({\r\n                name: 'mouseup',\r\n                handler: this.end.bind(this),\r\n            });\r\n        }\r\n        if (!disableTouch) {\r\n            startEvents.push({\r\n                name: 'touchstart',\r\n                handler: this.start.bind(this),\r\n            });\r\n            moveEvents.push({\r\n                name: 'touchmove',\r\n                handler: this.move.bind(this),\r\n            });\r\n            endEvents.push({\r\n                name: 'touchend',\r\n                handler: this.end.bind(this),\r\n            }, {\r\n                name: 'touchcancel',\r\n                handler: this.end.bind(this),\r\n            });\r\n        }\r\n        this.startEventRegister = new EventRegister(this.indicator.indicatorEl, startEvents);\r\n        this.moveEventRegister = new EventRegister(window, moveEvents);\r\n        this.endEventRegister = new EventRegister(window, endEvents);\r\n    };\r\n    EventHandler.prototype.BScrollIsDisabled = function () {\r\n        return !this.indicator.scroll.enabled;\r\n    };\r\n    EventHandler.prototype.start = function (e) {\r\n        if (this.BScrollIsDisabled()) {\r\n            return;\r\n        }\r\n        var point = (e.touches ? e.touches[0] : e);\r\n        e.preventDefault();\r\n        e.stopPropagation();\r\n        this.initiated = true;\r\n        this.lastPoint = point[this.indicator.keysMap.point];\r\n        this.hooks.trigger(this.hooks.eventTypes.touchStart);\r\n    };\r\n    EventHandler.prototype.move = function (e) {\r\n        if (!this.initiated) {\r\n            return;\r\n        }\r\n        var point = (e.touches ? e.touches[0] : e);\r\n        var pointPos = point[this.indicator.keysMap.point];\r\n        e.preventDefault();\r\n        e.stopPropagation();\r\n        var delta = pointPos - this.lastPoint;\r\n        this.lastPoint = pointPos;\r\n        this.hooks.trigger(this.hooks.eventTypes.touchMove, delta);\r\n    };\r\n    EventHandler.prototype.end = function (e) {\r\n        if (!this.initiated) {\r\n            return;\r\n        }\r\n        this.initiated = false;\r\n        e.preventDefault();\r\n        e.stopPropagation();\r\n        this.hooks.trigger(this.hooks.eventTypes.touchEnd);\r\n    };\r\n    EventHandler.prototype.destroy = function () {\r\n        this.startEventRegister.destroy();\r\n        this.moveEventRegister.destroy();\r\n        this.endEventRegister.destroy();\r\n    };\r\n    return EventHandler;\r\n}());\n\nvar Indicator$1 = /** @class */ (function () {\r\n    function Indicator(scroll, options) {\r\n        this.scroll = scroll;\r\n        this.options = options;\r\n        this.hooksFn = [];\r\n        this.wrapper = options.wrapper;\r\n        this.direction = options.direction;\r\n        this.indicatorEl = this.wrapper.children[0];\r\n        this.keysMap = this.getKeysMap();\r\n        this.handleFade();\r\n        this.handleHooks();\r\n    }\r\n    Indicator.prototype.handleFade = function () {\r\n        if (this.options.fade) {\r\n            this.wrapper.style.opacity = '0';\r\n        }\r\n    };\r\n    Indicator.prototype.handleHooks = function () {\r\n        var _this = this;\r\n        var _a = this.options, fade = _a.fade, interactive = _a.interactive, scrollbarTrackClickable = _a.scrollbarTrackClickable;\r\n        var scroll = this.scroll;\r\n        var scrollHooks = scroll.hooks;\r\n        var translaterHooks = scroll.scroller.translater.hooks;\r\n        var animaterHooks = scroll.scroller.animater.hooks;\r\n        this.registerHooks(scrollHooks, scrollHooks.eventTypes.refresh, this.refresh);\r\n        this.registerHooks(translaterHooks, translaterHooks.eventTypes.translate, function (pos) {\r\n            var hasScrollKey = _this.keysMap.hasScroll;\r\n            if (_this.scroll[hasScrollKey]) {\r\n                _this.updatePosition(pos);\r\n            }\r\n        });\r\n        this.registerHooks(animaterHooks, animaterHooks.eventTypes.time, this.transitionTime);\r\n        this.registerHooks(animaterHooks, animaterHooks.eventTypes.timeFunction, this.transitionTimingFunction);\r\n        if (fade) {\r\n            this.registerHooks(scroll, scroll.eventTypes.scrollEnd, function () {\r\n                _this.fade();\r\n            });\r\n            this.registerHooks(scroll, scroll.eventTypes.scrollStart, function () {\r\n                _this.fade(true);\r\n            });\r\n            // for mousewheel event\r\n            if (scroll.eventTypes.mousewheelStart &&\r\n                scroll.eventTypes.mousewheelEnd) {\r\n                this.registerHooks(scroll, scroll.eventTypes.mousewheelStart, function () {\r\n                    _this.fade(true);\r\n                });\r\n                this.registerHooks(scroll, scroll.eventTypes.mousewheelMove, function () {\r\n                    _this.fade(true);\r\n                });\r\n                this.registerHooks(scroll, scroll.eventTypes.mousewheelEnd, function () {\r\n                    _this.fade();\r\n                });\r\n            }\r\n        }\r\n        if (interactive) {\r\n            var _b = this.scroll.options, disableMouse = _b.disableMouse, disableTouch = _b.disableTouch;\r\n            this.eventHandler = new EventHandler(this, {\r\n                disableMouse: disableMouse,\r\n                disableTouch: disableTouch,\r\n            });\r\n            var eventHandlerHooks = this.eventHandler.hooks;\r\n            this.registerHooks(eventHandlerHooks, eventHandlerHooks.eventTypes.touchStart, this.startHandler);\r\n            this.registerHooks(eventHandlerHooks, eventHandlerHooks.eventTypes.touchMove, this.moveHandler);\r\n            this.registerHooks(eventHandlerHooks, eventHandlerHooks.eventTypes.touchEnd, this.endHandler);\r\n        }\r\n        if (scrollbarTrackClickable) {\r\n            this.bindClick();\r\n        }\r\n    };\r\n    Indicator.prototype.registerHooks = function (hooks, name, handler) {\r\n        hooks.on(name, handler, this);\r\n        this.hooksFn.push([hooks, name, handler]);\r\n    };\r\n    Indicator.prototype.bindClick = function () {\r\n        var wrapper = this.wrapper;\r\n        this.clickEventRegister = new EventRegister(wrapper, [\r\n            {\r\n                name: 'click',\r\n                handler: this.handleClick.bind(this),\r\n            },\r\n        ]);\r\n    };\r\n    Indicator.prototype.handleClick = function (e) {\r\n        var newPos = this.calculateclickOffsetPos(e);\r\n        var _a = this.scroll, x = _a.x, y = _a.y;\r\n        x = this.direction === \"horizontal\" /* Horizontal */ ? newPos : x;\r\n        y = this.direction === \"vertical\" /* Vertical */ ? newPos : y;\r\n        this.scroll.scrollTo(x, y, this.options.scrollbarTrackOffsetTime);\r\n    };\r\n    Indicator.prototype.calculateclickOffsetPos = function (e) {\r\n        var _a = this.keysMap, poinKey = _a.point, domRectKey = _a.domRect;\r\n        var scrollbarTrackOffsetType = this.options.scrollbarTrackOffsetType;\r\n        var clickPointOffset = e[poinKey] - this.wrapperRect[domRectKey];\r\n        var scrollToWhere = clickPointOffset < this.currentPos ? -1 /* Up */ : 1 /* Down */;\r\n        var delta = 0;\r\n        var currentPos = this.currentPos;\r\n        if (scrollbarTrackOffsetType === \"step\" /* Step */) {\r\n            delta = this.scrollInfo.baseSize * scrollToWhere;\r\n        }\r\n        else {\r\n            delta = 0;\r\n            currentPos = clickPointOffset;\r\n        }\r\n        return this.newPos(currentPos, delta, this.scrollInfo);\r\n    };\r\n    Indicator.prototype.getKeysMap = function () {\r\n        if (this.direction === \"vertical\" /* Vertical */) {\r\n            return {\r\n                hasScroll: 'hasVerticalScroll',\r\n                size: 'height',\r\n                wrapperSize: 'clientHeight',\r\n                scrollerSize: 'scrollerHeight',\r\n                maxScrollPos: 'maxScrollY',\r\n                pos: 'y',\r\n                point: 'pageY',\r\n                translateProperty: 'translateY',\r\n                domRect: 'top',\r\n            };\r\n        }\r\n        return {\r\n            hasScroll: 'hasHorizontalScroll',\r\n            size: 'width',\r\n            wrapperSize: 'clientWidth',\r\n            scrollerSize: 'scrollerWidth',\r\n            maxScrollPos: 'maxScrollX',\r\n            pos: 'x',\r\n            point: 'pageX',\r\n            translateProperty: 'translateX',\r\n            domRect: 'left',\r\n        };\r\n    };\r\n    Indicator.prototype.fade = function (visible) {\r\n        var _a = this.options, fadeInTime = _a.fadeInTime, fadeOutTime = _a.fadeOutTime;\r\n        var time = visible ? fadeInTime : fadeOutTime;\r\n        var wrapper = this.wrapper;\r\n        wrapper.style[style.transitionDuration] = time + 'ms';\r\n        wrapper.style.opacity = visible ? '1' : '0';\r\n    };\r\n    Indicator.prototype.refresh = function () {\r\n        var hasScrollKey = this.keysMap.hasScroll;\r\n        var scroll = this.scroll;\r\n        var x = scroll.x, y = scroll.y;\r\n        this.wrapperRect = this.wrapper.getBoundingClientRect();\r\n        if (this.canScroll(scroll[hasScrollKey])) {\r\n            var _a = this.keysMap, wrapperSizeKey = _a.wrapperSize, scrollerSizeKey = _a.scrollerSize, maxScrollPosKey = _a.maxScrollPos;\r\n            this.scrollInfo = this.refreshScrollInfo(this.wrapper[wrapperSizeKey], scroll[scrollerSizeKey], scroll[maxScrollPosKey], this.indicatorEl[wrapperSizeKey]);\r\n            this.updatePosition({\r\n                x: x,\r\n                y: y,\r\n            });\r\n        }\r\n    };\r\n    Indicator.prototype.transitionTime = function (time) {\r\n        if (time === void 0) { time = 0; }\r\n        this.indicatorEl.style[style.transitionDuration] = time + 'ms';\r\n    };\r\n    Indicator.prototype.transitionTimingFunction = function (easing) {\r\n        this.indicatorEl.style[style.transitionTimingFunction] = easing;\r\n    };\r\n    Indicator.prototype.canScroll = function (hasScroll) {\r\n        this.wrapper.style.display = hasScroll ? 'block' : 'none';\r\n        return hasScroll;\r\n    };\r\n    Indicator.prototype.refreshScrollInfo = function (wrapperSize, scrollerSize, maxScrollPos, indicatorElSize) {\r\n        var baseSize = Math.max(Math.round((wrapperSize * wrapperSize) / (scrollerSize || wrapperSize || 1)), this.options.minSize);\r\n        if (this.options.isCustom) {\r\n            baseSize = indicatorElSize;\r\n        }\r\n        var maxIndicatorScrollPos = wrapperSize - baseSize;\r\n        // sizeRatio is negative\r\n        var sizeRatio = maxIndicatorScrollPos / maxScrollPos;\r\n        return {\r\n            baseSize: baseSize,\r\n            maxScrollPos: maxIndicatorScrollPos,\r\n            minScrollPos: 0,\r\n            sizeRatio: sizeRatio,\r\n        };\r\n    };\r\n    Indicator.prototype.updatePosition = function (point) {\r\n        var _a = this.caculatePosAndSize(point, this.scrollInfo), pos = _a.pos, size = _a.size;\r\n        this.refreshStyle(size, pos);\r\n        this.currentPos = pos;\r\n    };\r\n    Indicator.prototype.caculatePosAndSize = function (point, scrollInfo) {\r\n        var posKey = this.keysMap.pos;\r\n        var sizeRatio = scrollInfo.sizeRatio, baseSize = scrollInfo.baseSize, maxScrollPos = scrollInfo.maxScrollPos, minScrollPos = scrollInfo.minScrollPos;\r\n        var minSize = this.options.minSize;\r\n        var pos = Math.round(sizeRatio * point[posKey]);\r\n        var size;\r\n        // when out of boundary, slow down size reduction\r\n        if (pos < minScrollPos) {\r\n            size = Math.max(baseSize + pos * 3, minSize);\r\n            pos = minScrollPos;\r\n        }\r\n        else if (pos > maxScrollPos) {\r\n            size = Math.max(baseSize - (pos - maxScrollPos) * 3, minSize);\r\n            pos = maxScrollPos + baseSize - size;\r\n        }\r\n        else {\r\n            size = baseSize;\r\n        }\r\n        return {\r\n            pos: pos,\r\n            size: size,\r\n        };\r\n    };\r\n    Indicator.prototype.refreshStyle = function (size, pos) {\r\n        var _a = this.keysMap, translatePropertyKey = _a.translateProperty, sizeKey = _a.size;\r\n        var translateZ = this.scroll.options.translateZ;\r\n        this.indicatorEl.style[sizeKey] = size + \"px\";\r\n        this.indicatorEl.style[style.transform] = translatePropertyKey + \"(\" + pos + \"px)\" + translateZ;\r\n    };\r\n    Indicator.prototype.startHandler = function () {\r\n        this.moved = false;\r\n        this.startTime = getNow();\r\n        this.transitionTime();\r\n        this.scroll.scroller.hooks.trigger(this.scroll.scroller.hooks.eventTypes.beforeScrollStart);\r\n    };\r\n    Indicator.prototype.moveHandler = function (delta) {\r\n        if (!this.moved && !this.indicatorNotMoved(delta)) {\r\n            this.moved = true;\r\n            this.scroll.scroller.hooks.trigger(this.scroll.scroller.hooks.eventTypes.scrollStart);\r\n        }\r\n        if (this.moved) {\r\n            var newPos = this.newPos(this.currentPos, delta, this.scrollInfo);\r\n            this.syncBScroll(newPos);\r\n        }\r\n    };\r\n    Indicator.prototype.endHandler = function () {\r\n        if (this.moved) {\r\n            var _a = this.scroll, x = _a.x, y = _a.y;\r\n            this.scroll.scroller.hooks.trigger(this.scroll.scroller.hooks.eventTypes.scrollEnd, {\r\n                x: x,\r\n                y: y,\r\n            });\r\n        }\r\n    };\r\n    Indicator.prototype.indicatorNotMoved = function (delta) {\r\n        var currentPos = this.currentPos;\r\n        var _a = this.scrollInfo, maxScrollPos = _a.maxScrollPos, minScrollPos = _a.minScrollPos;\r\n        var notMoved = (currentPos === minScrollPos && delta <= 0) ||\r\n            (currentPos === maxScrollPos && delta >= 0);\r\n        return notMoved;\r\n    };\r\n    Indicator.prototype.syncBScroll = function (newPos) {\r\n        var timestamp = getNow();\r\n        var _a = this.scroll, x = _a.x, y = _a.y, options = _a.options, scroller = _a.scroller, maxScrollY = _a.maxScrollY, minScrollY = _a.minScrollY, maxScrollX = _a.maxScrollX, minScrollX = _a.minScrollX;\r\n        var probeType = options.probeType, momentumLimitTime = options.momentumLimitTime;\r\n        var position = { x: x, y: y };\r\n        if (this.direction === \"vertical\" /* Vertical */) {\r\n            position.y = between(newPos, maxScrollY, minScrollY);\r\n        }\r\n        else {\r\n            position.x = between(newPos, maxScrollX, minScrollX);\r\n        }\r\n        scroller.translater.translate(position);\r\n        // dispatch scroll in interval time\r\n        if (timestamp - this.startTime > momentumLimitTime) {\r\n            this.startTime = timestamp;\r\n            if (probeType === 1 /* Throttle */) {\r\n                scroller.hooks.trigger(scroller.hooks.eventTypes.scroll, position);\r\n            }\r\n        }\r\n        // dispatch scroll all the time\r\n        if (probeType > 1 /* Throttle */) {\r\n            scroller.hooks.trigger(scroller.hooks.eventTypes.scroll, position);\r\n        }\r\n    };\r\n    Indicator.prototype.newPos = function (currentPos, delta, scrollInfo) {\r\n        var maxScrollPos = scrollInfo.maxScrollPos, sizeRatio = scrollInfo.sizeRatio, minScrollPos = scrollInfo.minScrollPos;\r\n        var newPos = currentPos + delta;\r\n        newPos = between(newPos, minScrollPos, maxScrollPos);\r\n        return Math.round(newPos / sizeRatio);\r\n    };\r\n    Indicator.prototype.destroy = function () {\r\n        var _a = this.options, interactive = _a.interactive, scrollbarTrackClickable = _a.scrollbarTrackClickable, isCustom = _a.isCustom;\r\n        if (interactive) {\r\n            this.eventHandler.destroy();\r\n        }\r\n        if (scrollbarTrackClickable) {\r\n            this.clickEventRegister.destroy();\r\n        }\r\n        if (!isCustom) {\r\n            this.wrapper.parentNode.removeChild(this.wrapper);\r\n        }\r\n        this.hooksFn.forEach(function (item) {\r\n            var hooks = item[0];\r\n            var hooksName = item[1];\r\n            var handlerFn = item[2];\r\n            hooks.off(hooksName, handlerFn);\r\n        });\r\n        this.hooksFn.length = 0;\r\n    };\r\n    return Indicator;\r\n}());\n\nvar ScrollBar = /** @class */ (function () {\r\n    function ScrollBar(scroll) {\r\n        this.scroll = scroll;\r\n        this.handleOptions();\r\n        this.createIndicators();\r\n        this.handleHooks();\r\n    }\r\n    ScrollBar.prototype.handleHooks = function () {\r\n        var _this = this;\r\n        var scroll = this.scroll;\r\n        scroll.hooks.on(scroll.hooks.eventTypes.destroy, function () {\r\n            for (var _i = 0, _a = _this.indicators; _i < _a.length; _i++) {\r\n                var indicator = _a[_i];\r\n                indicator.destroy();\r\n            }\r\n        });\r\n    };\r\n    ScrollBar.prototype.handleOptions = function () {\r\n        var userOptions = (this.scroll.options.scrollbar === true\r\n            ? {}\r\n            : this.scroll.options.scrollbar);\r\n        var defaultOptions = {\r\n            fade: true,\r\n            fadeInTime: 250,\r\n            fadeOutTime: 500,\r\n            interactive: false,\r\n            customElements: [],\r\n            minSize: 8,\r\n            scrollbarTrackClickable: false,\r\n            scrollbarTrackOffsetType: \"step\" /* Step */,\r\n            scrollbarTrackOffsetTime: 300,\r\n        };\r\n        this.options = extend(defaultOptions, userOptions);\r\n    };\r\n    ScrollBar.prototype.createIndicators = function () {\r\n        var indicatorOptions;\r\n        var scroll = this.scroll;\r\n        var indicators = [];\r\n        var scrollDirectionConfigKeys = ['scrollX', 'scrollY'];\r\n        var indicatorDirections = [\r\n            \"horizontal\" /* Horizontal */,\r\n            \"vertical\" /* Vertical */,\r\n        ];\r\n        var customScrollbarEls = this.options.customElements;\r\n        for (var i = 0; i < scrollDirectionConfigKeys.length; i++) {\r\n            var key = scrollDirectionConfigKeys[i];\r\n            // wanna scroll in specified direction\r\n            if (scroll.options[key]) {\r\n                var customElement = customScrollbarEls.shift();\r\n                var direction = indicatorDirections[i];\r\n                var isCustom = false;\r\n                var scrollbarWrapper = customElement\r\n                    ? customElement\r\n                    : this.createScrollbarElement(direction);\r\n                // internal scrollbar\r\n                if (scrollbarWrapper !== customElement) {\r\n                    scroll.wrapper.appendChild(scrollbarWrapper);\r\n                }\r\n                else {\r\n                    // custom scrollbar passed by users\r\n                    isCustom = true;\r\n                }\r\n                indicatorOptions = __assign(__assign({ wrapper: scrollbarWrapper, direction: direction }, this.options), { isCustom: isCustom });\r\n                indicators.push(new Indicator$1(scroll, indicatorOptions));\r\n            }\r\n        }\r\n        this.indicators = indicators;\r\n    };\r\n    ScrollBar.prototype.createScrollbarElement = function (direction, scrollbarTrackClickable) {\r\n        if (scrollbarTrackClickable === void 0) { scrollbarTrackClickable = this.options.scrollbarTrackClickable; }\r\n        var scrollbarWrapperEl = document.createElement('div');\r\n        var scrollbarIndicatorEl = document.createElement('div');\r\n        scrollbarWrapperEl.style.cssText =\r\n            'position:absolute;z-index:9999;overflow:hidden;';\r\n        scrollbarIndicatorEl.style.cssText =\r\n            'box-sizing:border-box;position:absolute;background:rgba(0,0,0,0.5);border:1px solid rgba(255,255,255,0.9);border-radius:3px;';\r\n        scrollbarIndicatorEl.className = 'bscroll-indicator';\r\n        if (direction === \"horizontal\" /* Horizontal */) {\r\n            scrollbarWrapperEl.style.cssText +=\r\n                'height:7px;left:2px;right:2px;bottom:0;';\r\n            scrollbarIndicatorEl.style.height = '100%';\r\n            scrollbarWrapperEl.className = 'bscroll-horizontal-scrollbar';\r\n        }\r\n        else {\r\n            scrollbarWrapperEl.style.cssText +=\r\n                'width:7px;bottom:2px;top:2px;right:1px;';\r\n            scrollbarIndicatorEl.style.width = '100%';\r\n            scrollbarWrapperEl.className = 'bscroll-vertical-scrollbar';\r\n        }\r\n        if (!scrollbarTrackClickable) {\r\n            scrollbarWrapperEl.style.cssText += 'pointer-events:none;';\r\n        }\r\n        scrollbarWrapperEl.appendChild(scrollbarIndicatorEl);\r\n        return scrollbarWrapperEl;\r\n    };\r\n    ScrollBar.pluginName = 'scrollbar';\r\n    return ScrollBar;\r\n}());\n\nvar PagesMatrix = /** @class */ (function () {\r\n    function PagesMatrix(scroll) {\r\n        this.scroll = scroll;\r\n        this.init();\r\n    }\r\n    PagesMatrix.prototype.init = function () {\r\n        var scroller = this.scroll.scroller;\r\n        var scrollBehaviorX = scroller.scrollBehaviorX, scrollBehaviorY = scroller.scrollBehaviorY;\r\n        this.wrapperWidth = scrollBehaviorX.wrapperSize;\r\n        this.wrapperHeight = scrollBehaviorY.wrapperSize;\r\n        this.scrollerHeight = scrollBehaviorY.contentSize;\r\n        this.scrollerWidth = scrollBehaviorX.contentSize;\r\n        this.pages = this.buildPagesMatrix(this.wrapperWidth, this.wrapperHeight);\r\n        this.pageLengthOfX = this.pages ? this.pages.length : 0;\r\n        this.pageLengthOfY = this.pages && this.pages[0] ? this.pages[0].length : 0;\r\n    };\r\n    PagesMatrix.prototype.getPageStats = function (pageX, pageY) {\r\n        return this.pages[pageX][pageY];\r\n    };\r\n    PagesMatrix.prototype.getNearestPageIndex = function (x, y) {\r\n        var pageX = 0;\r\n        var pageY = 0;\r\n        var l = this.pages.length;\r\n        for (; pageX < l - 1; pageX++) {\r\n            if (x >= this.pages[pageX][0].cx) {\r\n                break;\r\n            }\r\n        }\r\n        l = this.pages[pageX].length;\r\n        for (; pageY < l - 1; pageY++) {\r\n            if (y >= this.pages[0][pageY].cy) {\r\n                break;\r\n            }\r\n        }\r\n        return {\r\n            pageX: pageX,\r\n            pageY: pageY,\r\n        };\r\n    };\r\n    // (n x 1) matrix for horizontal scroll or\r\n    // (1 * n) matrix for vertical scroll\r\n    PagesMatrix.prototype.buildPagesMatrix = function (stepX, stepY) {\r\n        var pages = [];\r\n        var x = 0;\r\n        var y;\r\n        var cx;\r\n        var cy;\r\n        var i = 0;\r\n        var l;\r\n        var maxScrollPosX = this.scroll.scroller.scrollBehaviorX.maxScrollPos;\r\n        var maxScrollPosY = this.scroll.scroller.scrollBehaviorY.maxScrollPos;\r\n        cx = Math.round(stepX / 2);\r\n        cy = Math.round(stepY / 2);\r\n        while (x > -this.scrollerWidth) {\r\n            pages[i] = [];\r\n            l = 0;\r\n            y = 0;\r\n            while (y > -this.scrollerHeight) {\r\n                pages[i][l] = {\r\n                    x: Math.max(x, maxScrollPosX),\r\n                    y: Math.max(y, maxScrollPosY),\r\n                    width: stepX,\r\n                    height: stepY,\r\n                    cx: x - cx,\r\n                    cy: y - cy,\r\n                };\r\n                y -= stepY;\r\n                l++;\r\n            }\r\n            x -= stepX;\r\n            i++;\r\n        }\r\n        return pages;\r\n    };\r\n    return PagesMatrix;\r\n}());\n\nvar BASE_PAGE = {\r\n    pageX: 0,\r\n    pageY: 0,\r\n    x: 0,\r\n    y: 0,\r\n};\n\nvar SlidePages = /** @class */ (function () {\r\n    function SlidePages(scroll, slideOptions) {\r\n        this.scroll = scroll;\r\n        this.slideOptions = slideOptions;\r\n        this.slideX = false;\r\n        this.slideY = false;\r\n        this.currentPage = extend({}, BASE_PAGE);\r\n    }\r\n    SlidePages.prototype.refresh = function () {\r\n        this.pagesMatrix = new PagesMatrix(this.scroll);\r\n        this.checkSlideLoop();\r\n        this.currentPage = this.getAdjustedCurrentPage();\r\n    };\r\n    SlidePages.prototype.getAdjustedCurrentPage = function () {\r\n        var _a = this.currentPage, pageX = _a.pageX, pageY = _a.pageY;\r\n        // page index should be handled\r\n        // because page counts may reduce\r\n        pageX = Math.min(pageX, this.pagesMatrix.pageLengthOfX - 1);\r\n        pageY = Math.min(pageY, this.pagesMatrix.pageLengthOfY - 1);\r\n        // loop scene should also be respected\r\n        // because clonedNode will cause pageLength increasing\r\n        if (this.loopX) {\r\n            pageX = Math.min(pageX, this.pagesMatrix.pageLengthOfX - 2);\r\n        }\r\n        if (this.loopY) {\r\n            pageY = Math.min(pageY, this.pagesMatrix.pageLengthOfY - 2);\r\n        }\r\n        var _b = this.pagesMatrix.getPageStats(pageX, pageY), x = _b.x, y = _b.y;\r\n        return { pageX: pageX, pageY: pageY, x: x, y: y };\r\n    };\r\n    SlidePages.prototype.setCurrentPage = function (newPage) {\r\n        this.currentPage = newPage;\r\n    };\r\n    SlidePages.prototype.getInternalPage = function (pageX, pageY) {\r\n        if (pageX >= this.pagesMatrix.pageLengthOfX) {\r\n            pageX = this.pagesMatrix.pageLengthOfX - 1;\r\n        }\r\n        else if (pageX < 0) {\r\n            pageX = 0;\r\n        }\r\n        if (pageY >= this.pagesMatrix.pageLengthOfY) {\r\n            pageY = this.pagesMatrix.pageLengthOfY - 1;\r\n        }\r\n        else if (pageY < 0) {\r\n            pageY = 0;\r\n        }\r\n        var _a = this.pagesMatrix.getPageStats(pageX, pageY), x = _a.x, y = _a.y;\r\n        return {\r\n            pageX: pageX,\r\n            pageY: pageY,\r\n            x: x,\r\n            y: y,\r\n        };\r\n    };\r\n    SlidePages.prototype.getInitialPage = function (showFirstPage, firstInitialised) {\r\n        if (showFirstPage === void 0) { showFirstPage = false; }\r\n        if (firstInitialised === void 0) { firstInitialised = false; }\r\n        var _a = this.slideOptions, startPageXIndex = _a.startPageXIndex, startPageYIndex = _a.startPageYIndex;\r\n        var firstPageX = this.loopX ? 1 : 0;\r\n        var firstPageY = this.loopY ? 1 : 0;\r\n        var pageX = showFirstPage ? firstPageX : this.currentPage.pageX;\r\n        var pageY = showFirstPage ? firstPageY : this.currentPage.pageY;\r\n        if (firstInitialised) {\r\n            pageX = this.loopX ? startPageXIndex + 1 : startPageXIndex;\r\n            pageY = this.loopY ? startPageYIndex + 1 : startPageYIndex;\r\n        }\r\n        else {\r\n            pageX = showFirstPage ? firstPageX : this.currentPage.pageX;\r\n            pageY = showFirstPage ? firstPageY : this.currentPage.pageY;\r\n        }\r\n        var _b = this.pagesMatrix.getPageStats(pageX, pageY), x = _b.x, y = _b.y;\r\n        return {\r\n            pageX: pageX,\r\n            pageY: pageY,\r\n            x: x,\r\n            y: y,\r\n        };\r\n    };\r\n    SlidePages.prototype.getExposedPage = function (page) {\r\n        var exposedPage = extend({}, page);\r\n        // only pageX or pageY need fix\r\n        if (this.loopX) {\r\n            exposedPage.pageX = this.fixedPage(exposedPage.pageX, this.pagesMatrix.pageLengthOfX - 2);\r\n        }\r\n        if (this.loopY) {\r\n            exposedPage.pageY = this.fixedPage(exposedPage.pageY, this.pagesMatrix.pageLengthOfY - 2);\r\n        }\r\n        return exposedPage;\r\n    };\r\n    SlidePages.prototype.getExposedPageByPageIndex = function (pageIndexX, pageIndexY) {\r\n        var page = {\r\n            pageX: pageIndexX,\r\n            pageY: pageIndexY,\r\n        };\r\n        if (this.loopX) {\r\n            page.pageX = pageIndexX + 1;\r\n        }\r\n        if (this.loopY) {\r\n            page.pageY = pageIndexY + 1;\r\n        }\r\n        var _a = this.pagesMatrix.getPageStats(page.pageX, page.pageY), x = _a.x, y = _a.y;\r\n        return {\r\n            x: x,\r\n            y: y,\r\n            pageX: pageIndexX,\r\n            pageY: pageIndexY,\r\n        };\r\n    };\r\n    SlidePages.prototype.getWillChangedPage = function (page) {\r\n        page = extend({}, page);\r\n        // Page need fix\r\n        if (this.loopX) {\r\n            page.pageX = this.fixedPage(page.pageX, this.pagesMatrix.pageLengthOfX - 2);\r\n            page.x = this.pagesMatrix.getPageStats(page.pageX + 1, 0).x;\r\n        }\r\n        if (this.loopY) {\r\n            page.pageY = this.fixedPage(page.pageY, this.pagesMatrix.pageLengthOfY - 2);\r\n            page.y = this.pagesMatrix.getPageStats(0, page.pageY + 1).y;\r\n        }\r\n        return page;\r\n    };\r\n    SlidePages.prototype.fixedPage = function (page, realPageLen) {\r\n        var pageIndex = [];\r\n        for (var i = 0; i < realPageLen; i++) {\r\n            pageIndex.push(i);\r\n        }\r\n        pageIndex.unshift(realPageLen - 1);\r\n        pageIndex.push(0);\r\n        return pageIndex[page];\r\n    };\r\n    SlidePages.prototype.getPageStats = function () {\r\n        return this.pagesMatrix.getPageStats(this.currentPage.pageX, this.currentPage.pageY);\r\n    };\r\n    SlidePages.prototype.getValidPageIndex = function (x, y) {\r\n        var lastX = this.pagesMatrix.pageLengthOfX - 1;\r\n        var lastY = this.pagesMatrix.pageLengthOfY - 1;\r\n        var firstX = 0;\r\n        var firstY = 0;\r\n        if (this.loopX) {\r\n            x += 1;\r\n            firstX = firstX + 1;\r\n            lastX = lastX - 1;\r\n        }\r\n        if (this.loopY) {\r\n            y += 1;\r\n            firstY = firstY + 1;\r\n            lastY = lastY - 1;\r\n        }\r\n        x = between(x, firstX, lastX);\r\n        y = between(y, firstY, lastY);\r\n        return {\r\n            pageX: x,\r\n            pageY: y,\r\n        };\r\n    };\r\n    SlidePages.prototype.nextPageIndex = function () {\r\n        return this.getPageIndexByDirection(\"positive\" /* Positive */);\r\n    };\r\n    SlidePages.prototype.prevPageIndex = function () {\r\n        return this.getPageIndexByDirection(\"negative\" /* Negative */);\r\n    };\r\n    SlidePages.prototype.getNearestPage = function (x, y) {\r\n        var pageIndex = this.pagesMatrix.getNearestPageIndex(x, y);\r\n        var pageX = pageIndex.pageX, pageY = pageIndex.pageY;\r\n        var newX = this.pagesMatrix.getPageStats(pageX, 0).x;\r\n        var newY = this.pagesMatrix.getPageStats(0, pageY).y;\r\n        return {\r\n            x: newX,\r\n            y: newY,\r\n            pageX: pageX,\r\n            pageY: pageY,\r\n        };\r\n    };\r\n    SlidePages.prototype.getPageByDirection = function (page, directionX, directionY) {\r\n        var pageX = page.pageX, pageY = page.pageY;\r\n        if (pageX === this.currentPage.pageX) {\r\n            pageX = between(pageX + directionX, 0, this.pagesMatrix.pageLengthOfX - 1);\r\n        }\r\n        if (pageY === this.currentPage.pageY) {\r\n            pageY = between(pageY + directionY, 0, this.pagesMatrix.pageLengthOfY - 1);\r\n        }\r\n        var x = this.pagesMatrix.getPageStats(pageX, 0).x;\r\n        var y = this.pagesMatrix.getPageStats(0, pageY).y;\r\n        return {\r\n            x: x,\r\n            y: y,\r\n            pageX: pageX,\r\n            pageY: pageY,\r\n        };\r\n    };\r\n    SlidePages.prototype.resetLoopPage = function () {\r\n        if (this.loopX) {\r\n            if (this.currentPage.pageX === 0) {\r\n                return {\r\n                    pageX: this.pagesMatrix.pageLengthOfX - 2,\r\n                    pageY: this.currentPage.pageY,\r\n                };\r\n            }\r\n            if (this.currentPage.pageX === this.pagesMatrix.pageLengthOfX - 1) {\r\n                return {\r\n                    pageX: 1,\r\n                    pageY: this.currentPage.pageY,\r\n                };\r\n            }\r\n        }\r\n        if (this.loopY) {\r\n            if (this.currentPage.pageY === 0) {\r\n                return {\r\n                    pageX: this.currentPage.pageX,\r\n                    pageY: this.pagesMatrix.pageLengthOfY - 2,\r\n                };\r\n            }\r\n            if (this.currentPage.pageY === this.pagesMatrix.pageLengthOfY - 1) {\r\n                return {\r\n                    pageX: this.currentPage.pageX,\r\n                    pageY: 1,\r\n                };\r\n            }\r\n        }\r\n    };\r\n    SlidePages.prototype.getPageIndexByDirection = function (direction) {\r\n        var x = this.currentPage.pageX;\r\n        var y = this.currentPage.pageY;\r\n        if (this.slideX) {\r\n            x = direction === \"negative\" /* Negative */ ? x - 1 : x + 1;\r\n        }\r\n        if (this.slideY) {\r\n            y = direction === \"negative\" /* Negative */ ? y - 1 : y + 1;\r\n        }\r\n        return {\r\n            pageX: x,\r\n            pageY: y,\r\n        };\r\n    };\r\n    SlidePages.prototype.checkSlideLoop = function () {\r\n        this.wannaLoop = this.slideOptions.loop;\r\n        if (this.pagesMatrix.pageLengthOfX > 1) {\r\n            this.slideX = true;\r\n        }\r\n        else {\r\n            this.slideX = false;\r\n        }\r\n        if (this.pagesMatrix.pages[0] && this.pagesMatrix.pageLengthOfY > 1) {\r\n            this.slideY = true;\r\n        }\r\n        else {\r\n            this.slideY = false;\r\n        }\r\n        this.loopX = this.wannaLoop && this.slideX;\r\n        this.loopY = this.wannaLoop && this.slideY;\r\n        if (this.slideX && this.slideY) {\r\n            warn('slide does not support two direction at the same time.');\r\n        }\r\n    };\r\n    return SlidePages;\r\n}());\n\nvar sourcePrefix$4 = 'plugins.slide';\r\nvar propertiesMap$4 = [\r\n    {\r\n        key: 'next',\r\n        name: 'next',\r\n    },\r\n    {\r\n        key: 'prev',\r\n        name: 'prev',\r\n    },\r\n    {\r\n        key: 'goToPage',\r\n        name: 'goToPage',\r\n    },\r\n    {\r\n        key: 'getCurrentPage',\r\n        name: 'getCurrentPage',\r\n    },\r\n    {\r\n        key: 'startPlay',\r\n        name: 'startPlay',\r\n    },\r\n    {\r\n        key: 'pausePlay',\r\n        name: 'pausePlay',\r\n    },\r\n];\r\nvar propertiesConfig$4 = propertiesMap$4.map(function (item) {\r\n    return {\r\n        key: item.key,\r\n        sourceKey: sourcePrefix$4 + \".\" + item.name,\r\n    };\r\n});\n\nvar samePage = function (p1, p2) {\r\n    return p1.pageX === p2.pageX && p1.pageY === p2.pageY;\r\n};\r\nvar Slide = /** @class */ (function () {\r\n    function Slide(scroll) {\r\n        this.scroll = scroll;\r\n        this.cachedClonedPageDOM = [];\r\n        this.resetLooping = false;\r\n        this.autoplayTimer = 0;\r\n        if (!this.satisfyInitialization()) {\r\n            return;\r\n        }\r\n        this.init();\r\n    }\r\n    Slide.prototype.satisfyInitialization = function () {\r\n        if (this.scroll.scroller.content.children.length <= 0) {\r\n            warn(\"slide need at least one slide page to be initialised.\" +\r\n                \"please check your DOM layout.\");\r\n            return false;\r\n        }\r\n        return true;\r\n    };\r\n    Slide.prototype.init = function () {\r\n        this.willChangeToPage = extend({}, BASE_PAGE);\r\n        this.handleBScroll();\r\n        this.handleOptions();\r\n        this.handleHooks();\r\n        this.createPages();\r\n    };\r\n    Slide.prototype.createPages = function () {\r\n        this.pages = new SlidePages(this.scroll, this.options);\r\n    };\r\n    Slide.prototype.handleBScroll = function () {\r\n        this.scroll.registerType(['slideWillChange', 'slidePageChanged']);\r\n        this.scroll.proxy(propertiesConfig$4);\r\n    };\r\n    Slide.prototype.handleOptions = function () {\r\n        var userOptions = (this.scroll.options.slide === true\r\n            ? {}\r\n            : this.scroll.options.slide);\r\n        var defaultOptions = {\r\n            loop: true,\r\n            threshold: 0.1,\r\n            speed: 400,\r\n            easing: ease.bounce,\r\n            listenFlick: true,\r\n            autoplay: true,\r\n            interval: 3000,\r\n            startPageXIndex: 0,\r\n            startPageYIndex: 0,\r\n        };\r\n        this.options = extend(defaultOptions, userOptions);\r\n    };\r\n    Slide.prototype.handleLoop = function (prevSlideContent) {\r\n        var loop = this.options.loop;\r\n        var slideContent = this.scroll.scroller.content;\r\n        var currentSlidePagesLength = slideContent.children.length;\r\n        // only should respect loop scene\r\n        if (loop) {\r\n            if (slideContent !== prevSlideContent) {\r\n                this.resetLoopChangedStatus();\r\n                this.removeClonedSlidePage(prevSlideContent);\r\n                currentSlidePagesLength > 1 &&\r\n                    this.cloneFirstAndLastSlidePage(slideContent);\r\n            }\r\n            else {\r\n                // many pages reduce to one page\r\n                if (currentSlidePagesLength === 3 && this.initialised) {\r\n                    this.removeClonedSlidePage(slideContent);\r\n                    this.moreToOnePageInLoop = true;\r\n                    this.oneToMorePagesInLoop = false;\r\n                }\r\n                else if (currentSlidePagesLength > 1) {\r\n                    // one page increases to many page\r\n                    if (this.initialised && this.cachedClonedPageDOM.length === 0) {\r\n                        this.oneToMorePagesInLoop = true;\r\n                        this.moreToOnePageInLoop = false;\r\n                    }\r\n                    else {\r\n                        this.removeClonedSlidePage(slideContent);\r\n                        this.resetLoopChangedStatus();\r\n                    }\r\n                    this.cloneFirstAndLastSlidePage(slideContent);\r\n                }\r\n                else {\r\n                    this.resetLoopChangedStatus();\r\n                }\r\n            }\r\n        }\r\n    };\r\n    Slide.prototype.resetLoopChangedStatus = function () {\r\n        this.moreToOnePageInLoop = false;\r\n        this.oneToMorePagesInLoop = false;\r\n    };\r\n    Slide.prototype.handleHooks = function () {\r\n        var _this = this;\r\n        var scrollHooks = this.scroll.hooks;\r\n        var scrollerHooks = this.scroll.scroller.hooks;\r\n        var listenFlick = this.options.listenFlick;\r\n        this.prevContent = this.scroll.scroller.content;\r\n        this.hooksFn = [];\r\n        // scroll\r\n        this.registerHooks(this.scroll, this.scroll.eventTypes.beforeScrollStart, this.pausePlay);\r\n        this.registerHooks(this.scroll, this.scroll.eventTypes.scrollEnd, this.modifyCurrentPage);\r\n        this.registerHooks(this.scroll, this.scroll.eventTypes.scrollEnd, this.startPlay);\r\n        // for mousewheel event\r\n        if (this.scroll.eventTypes.mousewheelMove) {\r\n            this.registerHooks(this.scroll, this.scroll.eventTypes.mousewheelMove, function () {\r\n                // prevent default action of mousewheelMove\r\n                return true;\r\n            });\r\n            this.registerHooks(this.scroll, this.scroll.eventTypes.mousewheelEnd, function (delta) {\r\n                if (delta.directionX === 1 /* Positive */ ||\r\n                    delta.directionY === 1 /* Positive */) {\r\n                    _this.next();\r\n                }\r\n                if (delta.directionX === -1 /* Negative */ ||\r\n                    delta.directionY === -1 /* Negative */) {\r\n                    _this.prev();\r\n                }\r\n            });\r\n        }\r\n        // scrollHooks\r\n        this.registerHooks(scrollHooks, scrollHooks.eventTypes.refresh, this.refreshHandler);\r\n        this.registerHooks(scrollHooks, scrollHooks.eventTypes.destroy, this.destroy);\r\n        // scroller\r\n        this.registerHooks(scrollerHooks, scrollerHooks.eventTypes.beforeRefresh, function () {\r\n            _this.handleLoop(_this.prevContent);\r\n            _this.setSlideInlineStyle();\r\n        });\r\n        this.registerHooks(scrollerHooks, scrollerHooks.eventTypes.momentum, this.modifyScrollMetaHandler);\r\n        this.registerHooks(scrollerHooks, scrollerHooks.eventTypes.scroll, this.scrollHandler);\r\n        // a click operation will clearTimer, so restart a new one\r\n        this.registerHooks(scrollerHooks, scrollerHooks.eventTypes.checkClick, this.startPlay);\r\n        if (listenFlick) {\r\n            this.registerHooks(scrollerHooks, scrollerHooks.eventTypes.flick, this.flickHandler);\r\n        }\r\n    };\r\n    Slide.prototype.startPlay = function () {\r\n        var _this = this;\r\n        var _a = this.options, interval = _a.interval, autoplay = _a.autoplay;\r\n        if (autoplay) {\r\n            clearTimeout(this.autoplayTimer);\r\n            this.autoplayTimer = window.setTimeout(function () {\r\n                _this.next();\r\n            }, interval);\r\n        }\r\n    };\r\n    Slide.prototype.pausePlay = function () {\r\n        if (this.options.autoplay) {\r\n            clearTimeout(this.autoplayTimer);\r\n        }\r\n    };\r\n    Slide.prototype.setSlideInlineStyle = function () {\r\n        var styleConfigurations = [\r\n            {\r\n                direction: 'scrollX',\r\n                sizeType: 'offsetWidth',\r\n                styleType: 'width',\r\n            },\r\n            {\r\n                direction: 'scrollY',\r\n                sizeType: 'offsetHeight',\r\n                styleType: 'height',\r\n            },\r\n        ];\r\n        var _a = this.scroll.scroller, slideContent = _a.content, slideWrapper = _a.wrapper;\r\n        var scrollOptions = this.scroll.options;\r\n        styleConfigurations.forEach(function (_a) {\r\n            var direction = _a.direction, sizeType = _a.sizeType, styleType = _a.styleType;\r\n            // wanna scroll in this direction\r\n            if (scrollOptions[direction]) {\r\n                var size = slideWrapper[sizeType];\r\n                var children = slideContent.children;\r\n                var length_1 = children.length;\r\n                for (var i = 0; i < length_1; i++) {\r\n                    var slidePageDOM = children[i];\r\n                    slidePageDOM.style[styleType] = size + 'px';\r\n                }\r\n                slideContent.style[styleType] = size * length_1 + 'px';\r\n            }\r\n        });\r\n    };\r\n    Slide.prototype.next = function (time, easing) {\r\n        var _a = this.pages.nextPageIndex(), pageX = _a.pageX, pageY = _a.pageY;\r\n        this.goTo(pageX, pageY, time, easing);\r\n    };\r\n    Slide.prototype.prev = function (time, easing) {\r\n        var _a = this.pages.prevPageIndex(), pageX = _a.pageX, pageY = _a.pageY;\r\n        this.goTo(pageX, pageY, time, easing);\r\n    };\r\n    Slide.prototype.goToPage = function (pageX, pageY, time, easing) {\r\n        var pageIndex = this.pages.getValidPageIndex(pageX, pageY);\r\n        this.goTo(pageIndex.pageX, pageIndex.pageY, time, easing);\r\n    };\r\n    Slide.prototype.getCurrentPage = function () {\r\n        return this.exposedPage || this.pages.getInitialPage(false, true);\r\n    };\r\n    Slide.prototype.setCurrentPage = function (page) {\r\n        this.pages.setCurrentPage(page);\r\n        this.exposedPage = this.pages.getExposedPage(page);\r\n    };\r\n    Slide.prototype.nearestPage = function (x, y) {\r\n        var _a = this.scroll.scroller, scrollBehaviorX = _a.scrollBehaviorX, scrollBehaviorY = _a.scrollBehaviorY;\r\n        var maxScrollPosX = scrollBehaviorX.maxScrollPos, minScrollPosX = scrollBehaviorX.minScrollPos;\r\n        var maxScrollPosY = scrollBehaviorY.maxScrollPos, minScrollPosY = scrollBehaviorY.minScrollPos;\r\n        return this.pages.getNearestPage(between(x, maxScrollPosX, minScrollPosX), between(y, maxScrollPosY, minScrollPosY));\r\n    };\r\n    Slide.prototype.satisfyThreshold = function (x, y) {\r\n        var _a = this.scroll.scroller, scrollBehaviorX = _a.scrollBehaviorX, scrollBehaviorY = _a.scrollBehaviorY;\r\n        var satisfied = true;\r\n        if (Math.abs(x - scrollBehaviorX.absStartPos) <= this.thresholdX &&\r\n            Math.abs(y - scrollBehaviorY.absStartPos) <= this.thresholdY) {\r\n            satisfied = false;\r\n        }\r\n        return satisfied;\r\n    };\r\n    Slide.prototype.refreshHandler = function (content) {\r\n        var _this = this;\r\n        if (!this.satisfyInitialization()) {\r\n            return;\r\n        }\r\n        this.pages.refresh();\r\n        this.computeThreshold();\r\n        var contentChanged = (this.contentChanged = this.prevContent !== content);\r\n        if (contentChanged) {\r\n            this.prevContent = content;\r\n        }\r\n        var initPage = this.pages.getInitialPage(this.oneToMorePagesInLoop || this.moreToOnePageInLoop, contentChanged || !this.initialised);\r\n        if (this.initialised) {\r\n            this.goTo(initPage.pageX, initPage.pageY, 0);\r\n        }\r\n        else {\r\n            this.registerHooks(this.scroll.hooks, this.scroll.hooks.eventTypes.beforeInitialScrollTo, function (position) {\r\n                _this.initialised = true;\r\n                position.x = initPage.x;\r\n                position.y = initPage.y;\r\n            });\r\n        }\r\n        this.startPlay();\r\n    };\r\n    Slide.prototype.computeThreshold = function () {\r\n        var threshold = this.options.threshold;\r\n        // Integer\r\n        if (threshold % 1 === 0) {\r\n            this.thresholdX = threshold;\r\n            this.thresholdY = threshold;\r\n        }\r\n        else {\r\n            // decimal\r\n            var _a = this.pages.getPageStats(), width = _a.width, height = _a.height;\r\n            this.thresholdX = Math.round(width * threshold);\r\n            this.thresholdY = Math.round(height * threshold);\r\n        }\r\n    };\r\n    Slide.prototype.cloneFirstAndLastSlidePage = function (slideContent) {\r\n        var children = slideContent.children;\r\n        var preprendDOM = children[children.length - 1].cloneNode(true);\r\n        var appendDOM = children[0].cloneNode(true);\r\n        prepend(preprendDOM, slideContent);\r\n        slideContent.appendChild(appendDOM);\r\n        this.cachedClonedPageDOM = [preprendDOM, appendDOM];\r\n    };\r\n    Slide.prototype.removeClonedSlidePage = function (slideContent) {\r\n        // maybe slideContent has removed from DOM Tree\r\n        var slidePages = (slideContent && slideContent.children) || [];\r\n        if (slidePages.length) {\r\n            this.cachedClonedPageDOM.forEach(function (el) {\r\n                removeChild(slideContent, el);\r\n            });\r\n        }\r\n        this.cachedClonedPageDOM = [];\r\n    };\r\n    Slide.prototype.modifyCurrentPage = function (point) {\r\n        var _a = this.getCurrentPage(), prevExposedPageX = _a.pageX, prevExposedPageY = _a.pageY;\r\n        var newPage = this.nearestPage(point.x, point.y);\r\n        this.setCurrentPage(newPage);\r\n        /* istanbul ignore if */\r\n        if (this.contentChanged) {\r\n            this.contentChanged = false;\r\n            return true;\r\n        }\r\n        var _b = this.getCurrentPage(), currentExposedPageX = _b.pageX, currentExposedPageY = _b.pageY;\r\n        this.pageWillChangeTo(newPage);\r\n        // loop is true, and one page becomes many pages when call bs.refresh\r\n        if (this.oneToMorePagesInLoop) {\r\n            this.oneToMorePagesInLoop = false;\r\n            return true;\r\n        }\r\n        // loop is true, and many page becomes one page when call bs.refresh\r\n        // if prevPage > 0, dispatch slidePageChanged and scrollEnd events\r\n        /* istanbul ignore if */\r\n        if (this.moreToOnePageInLoop &&\r\n            prevExposedPageX === 0 &&\r\n            prevExposedPageY === 0) {\r\n            this.moreToOnePageInLoop = false;\r\n            return true;\r\n        }\r\n        if (prevExposedPageX !== currentExposedPageX ||\r\n            prevExposedPageY !== currentExposedPageY) {\r\n            // only trust pageX & pageY when loop is true\r\n            var page = this.pages.getExposedPageByPageIndex(currentExposedPageX, currentExposedPageY);\r\n            this.scroll.trigger(this.scroll.eventTypes.slidePageChanged, page);\r\n        }\r\n        // triggered by resetLoop\r\n        if (this.resetLooping) {\r\n            this.resetLooping = false;\r\n            return;\r\n        }\r\n        var changePage = this.pages.resetLoopPage();\r\n        if (changePage) {\r\n            this.resetLooping = true;\r\n            this.goTo(changePage.pageX, changePage.pageY, 0);\r\n            // stop user's scrollEnd\r\n            // since it is a seamless scroll\r\n            return true;\r\n        }\r\n    };\r\n    Slide.prototype.goTo = function (pageX, pageY, time, easing) {\r\n        var newPage = this.pages.getInternalPage(pageX, pageY);\r\n        var scrollEasing = easing || this.options.easing || ease.bounce;\r\n        var x = newPage.x, y = newPage.y;\r\n        var deltaX = x - this.scroll.scroller.scrollBehaviorX.currentPos;\r\n        var deltaY = y - this.scroll.scroller.scrollBehaviorY.currentPos;\r\n        /* istanbul ignore if */\r\n        if (!deltaX && !deltaY) {\r\n            this.scroll.scroller.togglePointerEvents(true);\r\n            return;\r\n        }\r\n        time = time === undefined ? this.getEaseTime(deltaX, deltaY) : time;\r\n        this.scroll.scroller.scrollTo(x, y, time, scrollEasing);\r\n    };\r\n    Slide.prototype.flickHandler = function () {\r\n        var _a = this.scroll.scroller, scrollBehaviorX = _a.scrollBehaviorX, scrollBehaviorY = _a.scrollBehaviorY;\r\n        var currentPosX = scrollBehaviorX.currentPos, startPosX = scrollBehaviorX.startPos, directionX = scrollBehaviorX.direction;\r\n        var currentPosY = scrollBehaviorY.currentPos, startPosY = scrollBehaviorY.startPos, directionY = scrollBehaviorY.direction;\r\n        var _b = this.pages.currentPage, pageX = _b.pageX, pageY = _b.pageY;\r\n        var time = this.getEaseTime(currentPosX - startPosX, currentPosY - startPosY);\r\n        this.goTo(pageX + directionX, pageY + directionY, time);\r\n    };\r\n    Slide.prototype.getEaseTime = function (deltaX, deltaY) {\r\n        return (this.options.speed ||\r\n            Math.max(Math.max(Math.min(Math.abs(deltaX), 1000), Math.min(Math.abs(deltaY), 1000)), 300));\r\n    };\r\n    Slide.prototype.modifyScrollMetaHandler = function (scrollMeta) {\r\n        var _a = this.scroll.scroller, scrollBehaviorX = _a.scrollBehaviorX, scrollBehaviorY = _a.scrollBehaviorY, animater = _a.animater;\r\n        var newX = scrollMeta.newX;\r\n        var newY = scrollMeta.newY;\r\n        var newPage = this.satisfyThreshold(newX, newY) || animater.forceStopped\r\n            ? this.pages.getPageByDirection(this.nearestPage(newX, newY), scrollBehaviorX.direction, scrollBehaviorY.direction)\r\n            : this.pages.currentPage;\r\n        scrollMeta.time = this.getEaseTime(scrollMeta.newX - newPage.x, scrollMeta.newY - newPage.y);\r\n        scrollMeta.newX = newPage.x;\r\n        scrollMeta.newY = newPage.y;\r\n        scrollMeta.easing = this.options.easing || ease.bounce;\r\n    };\r\n    Slide.prototype.scrollHandler = function (_a) {\r\n        var x = _a.x, y = _a.y;\r\n        if (this.satisfyThreshold(x, y)) {\r\n            var newPage = this.nearestPage(x, y);\r\n            this.pageWillChangeTo(newPage);\r\n        }\r\n    };\r\n    Slide.prototype.pageWillChangeTo = function (newPage) {\r\n        var changeToPage = this.pages.getWillChangedPage(newPage);\r\n        if (!samePage(this.willChangeToPage, changeToPage)) {\r\n            this.willChangeToPage = changeToPage;\r\n            this.scroll.trigger(this.scroll.eventTypes.slideWillChange, this.willChangeToPage);\r\n        }\r\n    };\r\n    Slide.prototype.registerHooks = function (hooks, name, handler) {\r\n        hooks.on(name, handler, this);\r\n        this.hooksFn.push([hooks, name, handler]);\r\n    };\r\n    Slide.prototype.destroy = function () {\r\n        var slideContent = this.scroll.scroller.content;\r\n        var _a = this.options, loop = _a.loop, autoplay = _a.autoplay;\r\n        if (loop) {\r\n            this.removeClonedSlidePage(slideContent);\r\n        }\r\n        if (autoplay) {\r\n            clearTimeout(this.autoplayTimer);\r\n        }\r\n        this.hooksFn.forEach(function (item) {\r\n            var hooks = item[0];\r\n            var hooksName = item[1];\r\n            var handlerFn = item[2];\r\n            if (hooks.eventTypes[hooksName]) {\r\n                hooks.off(hooksName, handlerFn);\r\n            }\r\n        });\r\n        this.hooksFn.length = 0;\r\n    };\r\n    Slide.pluginName = 'slide';\r\n    return Slide;\r\n}());\n\nvar sourcePrefix$3 = 'plugins.wheel';\r\nvar propertiesMap$3 = [\r\n    {\r\n        key: 'wheelTo',\r\n        name: 'wheelTo',\r\n    },\r\n    {\r\n        key: 'getSelectedIndex',\r\n        name: 'getSelectedIndex',\r\n    },\r\n    {\r\n        key: 'restorePosition',\r\n        name: 'restorePosition',\r\n    },\r\n];\r\nvar propertiesConfig$3 = propertiesMap$3.map(function (item) {\r\n    return {\r\n        key: item.key,\r\n        sourceKey: sourcePrefix$3 + \".\" + item.name,\r\n    };\r\n});\n\nvar WHEEL_INDEX_CHANGED_EVENT_NAME = 'wheelIndexChanged';\r\nvar CONSTANTS = {\r\n    rate: 4\r\n};\r\nvar Wheel = /** @class */ (function () {\r\n    function Wheel(scroll) {\r\n        this.scroll = scroll;\r\n        this.init();\r\n    }\r\n    Wheel.prototype.init = function () {\r\n        this.handleBScroll();\r\n        this.handleOptions();\r\n        this.handleHooks();\r\n        // init boundary for Wheel\r\n        this.refreshBoundary();\r\n        this.setSelectedIndex(this.options.selectedIndex);\r\n    };\r\n    Wheel.prototype.handleBScroll = function () {\r\n        this.scroll.proxy(propertiesConfig$3);\r\n        this.scroll.registerType([WHEEL_INDEX_CHANGED_EVENT_NAME]);\r\n    };\r\n    Wheel.prototype.handleOptions = function () {\r\n        var userOptions = (this.scroll.options.wheel === true\r\n            ? {}\r\n            : this.scroll.options.wheel);\r\n        var defaultOptions = {\r\n            wheelWrapperClass: 'wheel-scroll',\r\n            wheelItemClass: 'wheel-item',\r\n            rotate: 25,\r\n            adjustTime: 400,\r\n            selectedIndex: 0,\r\n            wheelDisabledItemClass: 'wheel-disabled-item'\r\n        };\r\n        this.options = extend(defaultOptions, userOptions);\r\n    };\r\n    Wheel.prototype.handleHooks = function () {\r\n        var _this = this;\r\n        var scroll = this.scroll;\r\n        var scroller = this.scroll.scroller;\r\n        var actionsHandler = scroller.actionsHandler, scrollBehaviorX = scroller.scrollBehaviorX, scrollBehaviorY = scroller.scrollBehaviorY, animater = scroller.animater;\r\n        var prevContent = scroller.content;\r\n        // BScroll\r\n        scroll.on(scroll.eventTypes.scrollEnd, function (position) {\r\n            var index = _this.findNearestValidWheel(position.y).index;\r\n            if (scroller.animater.forceStopped && !_this.isAdjustingPosition) {\r\n                _this.target = _this.items[index];\r\n                // since stopped from an animation.\r\n                // prevent user's scrollEnd callback triggered twice\r\n                return true;\r\n            }\r\n            else {\r\n                _this.setSelectedIndex(index);\r\n                if (_this.isAdjustingPosition) {\r\n                    _this.isAdjustingPosition = false;\r\n                }\r\n            }\r\n        });\r\n        // BScroll.hooks\r\n        this.scroll.hooks.on(this.scroll.hooks.eventTypes.refresh, function (content) {\r\n            if (content !== prevContent) {\r\n                prevContent = content;\r\n                _this.setSelectedIndex(_this.options.selectedIndex, true);\r\n            }\r\n            // rotate all wheel-items\r\n            // because position may not change\r\n            _this.rotateX(_this.scroll.y);\r\n            // check we are stop at a disable item or not\r\n            _this.wheelTo(_this.selectedIndex, 0);\r\n        });\r\n        this.scroll.hooks.on(this.scroll.hooks.eventTypes.beforeInitialScrollTo, function (position) {\r\n            // selectedIndex has higher priority than bs.options.startY\r\n            position.x = 0;\r\n            position.y = -(_this.selectedIndex * _this.itemHeight);\r\n        });\r\n        // Scroller\r\n        scroller.hooks.on(scroller.hooks.eventTypes.checkClick, function () {\r\n            var index = HTMLCollectionToArray(_this.items).indexOf(_this.target);\r\n            if (index === -1)\r\n                return true;\r\n            _this.wheelTo(index, _this.options.adjustTime, ease.swipe);\r\n            return true;\r\n        });\r\n        scroller.hooks.on(scroller.hooks.eventTypes.scrollTo, function (endPoint) {\r\n            endPoint.y = _this.findNearestValidWheel(endPoint.y).y;\r\n        });\r\n        // when content is scrolling\r\n        // click wheel-item DOM repeatedly and crazily will cause scrollEnd not triggered\r\n        // so reset forceStopped\r\n        scroller.hooks.on(scroller.hooks.eventTypes.minDistanceScroll, function () {\r\n            var animater = scroller.animater;\r\n            if (animater.forceStopped === true) {\r\n                animater.forceStopped = false;\r\n            }\r\n        });\r\n        scroller.hooks.on(scroller.hooks.eventTypes.scrollToElement, function (el, pos) {\r\n            if (!hasClass(el, _this.options.wheelItemClass)) {\r\n                return true;\r\n            }\r\n            else {\r\n                pos.top = _this.findNearestValidWheel(pos.top).y;\r\n            }\r\n        });\r\n        // ActionsHandler\r\n        actionsHandler.hooks.on(actionsHandler.hooks.eventTypes.beforeStart, function (e) {\r\n            _this.target = e.target;\r\n        });\r\n        // ScrollBehaviorX\r\n        // Wheel has no x direction now\r\n        scrollBehaviorX.hooks.on(scrollBehaviorX.hooks.eventTypes.computeBoundary, function (boundary) {\r\n            boundary.maxScrollPos = 0;\r\n            boundary.minScrollPos = 0;\r\n        });\r\n        // ScrollBehaviorY\r\n        scrollBehaviorY.hooks.on(scrollBehaviorY.hooks.eventTypes.computeBoundary, function (boundary) {\r\n            _this.items = _this.scroll.scroller.content.children;\r\n            _this.checkWheelAllDisabled();\r\n            _this.itemHeight =\r\n                _this.items.length > 0\r\n                    ? scrollBehaviorY.contentSize / _this.items.length\r\n                    : 0;\r\n            boundary.maxScrollPos = -_this.itemHeight * (_this.items.length - 1);\r\n            boundary.minScrollPos = 0;\r\n        });\r\n        scrollBehaviorY.hooks.on(scrollBehaviorY.hooks.eventTypes.momentum, function (momentumInfo) {\r\n            momentumInfo.rate = CONSTANTS.rate;\r\n            momentumInfo.destination = _this.findNearestValidWheel(momentumInfo.destination).y;\r\n        });\r\n        scrollBehaviorY.hooks.on(scrollBehaviorY.hooks.eventTypes.end, function (momentumInfo) {\r\n            var validWheel = _this.findNearestValidWheel(scrollBehaviorY.currentPos);\r\n            momentumInfo.destination = validWheel.y;\r\n            momentumInfo.duration = _this.options.adjustTime;\r\n        });\r\n        // Animater\r\n        animater.hooks.on(animater.hooks.eventTypes.time, function (time) {\r\n            _this.transitionDuration(time);\r\n        });\r\n        animater.hooks.on(animater.hooks.eventTypes.timeFunction, function (easing) {\r\n            _this.timeFunction(easing);\r\n        });\r\n        // bs.stop() to make wheel stop at a correct position when pending\r\n        animater.hooks.on(animater.hooks.eventTypes.callStop, function () {\r\n            var index = _this.findNearestValidWheel(_this.scroll.y).index;\r\n            _this.isAdjustingPosition = true;\r\n            _this.wheelTo(index, 0);\r\n        });\r\n        // Translater\r\n        animater.translater.hooks.on(animater.translater.hooks.eventTypes.translate, function (endPoint) {\r\n            _this.rotateX(endPoint.y);\r\n        });\r\n    };\r\n    Wheel.prototype.refreshBoundary = function () {\r\n        var _a = this.scroll.scroller, scrollBehaviorX = _a.scrollBehaviorX, scrollBehaviorY = _a.scrollBehaviorY, content = _a.content;\r\n        scrollBehaviorX.refresh(content);\r\n        scrollBehaviorY.refresh(content);\r\n    };\r\n    Wheel.prototype.setSelectedIndex = function (index, contentChanged) {\r\n        if (contentChanged === void 0) { contentChanged = false; }\r\n        var prevSelectedIndex = this.selectedIndex;\r\n        this.selectedIndex = index;\r\n        // if content DOM changed, should not trigger event\r\n        if (prevSelectedIndex !== index && !contentChanged) {\r\n            this.scroll.trigger(WHEEL_INDEX_CHANGED_EVENT_NAME, index);\r\n        }\r\n    };\r\n    Wheel.prototype.getSelectedIndex = function () {\r\n        return this.selectedIndex;\r\n    };\r\n    Wheel.prototype.wheelTo = function (index, time, ease) {\r\n        if (index === void 0) { index = 0; }\r\n        if (time === void 0) { time = 0; }\r\n        var y = -index * this.itemHeight;\r\n        this.scroll.scrollTo(0, y, time, ease);\r\n    };\r\n    Wheel.prototype.restorePosition = function () {\r\n        // bs is scrolling\r\n        var isPending = this.scroll.pending;\r\n        if (isPending) {\r\n            var selectedIndex = this.getSelectedIndex();\r\n            this.scroll.scroller.animater.clearTimer();\r\n            this.wheelTo(selectedIndex, 0);\r\n        }\r\n    };\r\n    Wheel.prototype.transitionDuration = function (time) {\r\n        for (var i = 0; i < this.items.length; i++) {\r\n            this.items[i].style[style.transitionDuration] =\r\n                time + 'ms';\r\n        }\r\n    };\r\n    Wheel.prototype.timeFunction = function (easing) {\r\n        for (var i = 0; i < this.items.length; i++) {\r\n            this.items[i].style[style.transitionTimingFunction] = easing;\r\n        }\r\n    };\r\n    Wheel.prototype.rotateX = function (y) {\r\n        var _a = this.options.rotate, rotate = _a === void 0 ? 25 : _a;\r\n        for (var i = 0; i < this.items.length; i++) {\r\n            var deg = rotate * (y / this.itemHeight + i);\r\n            // Too small value is invalid in some phones, issue 1026\r\n            var SafeDeg = deg.toFixed(3);\r\n            this.items[i].style[style.transform] = \"rotateX(\" + SafeDeg + \"deg)\";\r\n        }\r\n    };\r\n    Wheel.prototype.findNearestValidWheel = function (y) {\r\n        y = y > 0 ? 0 : y < this.scroll.maxScrollY ? this.scroll.maxScrollY : y;\r\n        var currentIndex = Math.abs(Math.round(-y / this.itemHeight));\r\n        var cacheIndex = currentIndex;\r\n        var items = this.items;\r\n        var wheelDisabledItemClassName = this.options\r\n            .wheelDisabledItemClass;\r\n        // implement web native select element\r\n        // first, check whether there is a enable item whose index is smaller than currentIndex\r\n        // then, check whether there is a enable item whose index is bigger than currentIndex\r\n        // otherwise, there are all disabled items, just keep currentIndex unchange\r\n        while (currentIndex >= 0) {\r\n            if (!hasClass(items[currentIndex], wheelDisabledItemClassName)) {\r\n                break;\r\n            }\r\n            currentIndex--;\r\n        }\r\n        if (currentIndex < 0) {\r\n            currentIndex = cacheIndex;\r\n            while (currentIndex <= items.length - 1) {\r\n                if (!hasClass(items[currentIndex], wheelDisabledItemClassName)) {\r\n                    break;\r\n                }\r\n                currentIndex++;\r\n            }\r\n        }\r\n        // keep it unchange when all the items are disabled\r\n        if (currentIndex === items.length) {\r\n            currentIndex = cacheIndex;\r\n        }\r\n        // when all the items are disabled, selectedIndex should always be -1\r\n        return {\r\n            index: this.wheelItemsAllDisabled ? -1 : currentIndex,\r\n            y: -currentIndex * this.itemHeight\r\n        };\r\n    };\r\n    Wheel.prototype.checkWheelAllDisabled = function () {\r\n        var wheelDisabledItemClassName = this.options.wheelDisabledItemClass;\r\n        var items = this.items;\r\n        this.wheelItemsAllDisabled = true;\r\n        for (var i = 0; i < items.length; i++) {\r\n            if (!hasClass(items[i], wheelDisabledItemClassName)) {\r\n                this.wheelItemsAllDisabled = false;\r\n                break;\r\n            }\r\n        }\r\n    };\r\n    Wheel.pluginName = 'wheel';\r\n    return Wheel;\r\n}());\n\nvar sourcePrefix$2 = 'plugins.zoom';\r\nvar propertiesMap$2 = [\r\n    {\r\n        key: 'zoomTo',\r\n        name: 'zoomTo'\r\n    }\r\n];\r\nvar propertiesConfig$2 = propertiesMap$2.map(function (item) {\r\n    return {\r\n        key: item.key,\r\n        sourceKey: sourcePrefix$2 + \".\" + item.name\r\n    };\r\n});\n\nvar TWO_FINGERS = 2;\r\nvar RAW_SCALE = 1;\r\nvar Zoom = /** @class */ (function () {\r\n    function Zoom(scroll) {\r\n        this.scroll = scroll;\r\n        this.scale = RAW_SCALE;\r\n        this.prevScale = 1;\r\n        this.init();\r\n    }\r\n    Zoom.prototype.init = function () {\r\n        this.handleBScroll();\r\n        this.handleOptions();\r\n        this.handleHooks();\r\n        this.tryInitialZoomTo(this.zoomOpt);\r\n    };\r\n    Zoom.prototype.zoomTo = function (scale, x, y, bounceTime) {\r\n        var _a = this.resolveOrigin(x, y), originX = _a.originX, originY = _a.originY;\r\n        var origin = {\r\n            x: originX,\r\n            y: originY,\r\n            baseScale: this.scale,\r\n        };\r\n        this._doZoomTo(scale, origin, bounceTime, true);\r\n    };\r\n    Zoom.prototype.handleBScroll = function () {\r\n        this.scroll.proxy(propertiesConfig$2);\r\n        this.scroll.registerType([\r\n            'beforeZoomStart',\r\n            'zoomStart',\r\n            'zooming',\r\n            'zoomEnd',\r\n        ]);\r\n    };\r\n    Zoom.prototype.handleOptions = function () {\r\n        var userOptions = (this.scroll.options.zoom === true\r\n            ? {}\r\n            : this.scroll.options.zoom);\r\n        var defaultOptions = {\r\n            start: 1,\r\n            min: 1,\r\n            max: 4,\r\n            initialOrigin: [0, 0],\r\n            minimalZoomDistance: 5,\r\n            bounceTime: 800,\r\n        };\r\n        this.zoomOpt = extend(defaultOptions, userOptions);\r\n    };\r\n    Zoom.prototype.handleHooks = function () {\r\n        var _this = this;\r\n        var scroll = this.scroll;\r\n        var scroller = this.scroll.scroller;\r\n        this.wrapper = this.scroll.scroller.wrapper;\r\n        this.setTransformOrigin(this.scroll.scroller.content);\r\n        var scrollBehaviorX = scroller.scrollBehaviorX;\r\n        var scrollBehaviorY = scroller.scrollBehaviorY;\r\n        this.hooksFn = [];\r\n        // BScroll\r\n        this.registerHooks(scroll.hooks, scroll.hooks.eventTypes.contentChanged, function (content) {\r\n            _this.setTransformOrigin(content);\r\n            _this.scale = RAW_SCALE;\r\n            _this.tryInitialZoomTo(_this.zoomOpt);\r\n        });\r\n        this.registerHooks(scroll.hooks, scroll.hooks.eventTypes.beforeInitialScrollTo, function () {\r\n            // if perform a zoom action, we should prevent initial scroll when initialised\r\n            if (_this.zoomOpt.start !== RAW_SCALE) {\r\n                return true;\r\n            }\r\n        });\r\n        // enlarge boundary\r\n        this.registerHooks(scrollBehaviorX.hooks, scrollBehaviorX.hooks.eventTypes.beforeComputeBoundary, function () {\r\n            // content may change, don't cache it's size\r\n            var contentSize = getRect(_this.scroll.scroller.content);\r\n            scrollBehaviorX.contentSize = Math.floor(contentSize.width * _this.scale);\r\n        });\r\n        this.registerHooks(scrollBehaviorY.hooks, scrollBehaviorY.hooks.eventTypes.beforeComputeBoundary, function () {\r\n            // content may change, don't cache it's size\r\n            var contentSize = getRect(_this.scroll.scroller.content);\r\n            scrollBehaviorY.contentSize = Math.floor(contentSize.height * _this.scale);\r\n        });\r\n        // touch event\r\n        this.registerHooks(scroller.actions.hooks, scroller.actions.hooks.eventTypes.start, function (e) {\r\n            var numberOfFingers = (e.touches && e.touches.length) || 0;\r\n            _this.fingersOperation(numberOfFingers);\r\n            if (numberOfFingers === TWO_FINGERS) {\r\n                _this.zoomStart(e);\r\n            }\r\n        });\r\n        this.registerHooks(scroller.actions.hooks, scroller.actions.hooks.eventTypes.beforeMove, function (e) {\r\n            var numberOfFingers = (e.touches && e.touches.length) || 0;\r\n            _this.fingersOperation(numberOfFingers);\r\n            if (numberOfFingers === TWO_FINGERS) {\r\n                _this.zoom(e);\r\n                return true;\r\n            }\r\n        });\r\n        this.registerHooks(scroller.actions.hooks, scroller.actions.hooks.eventTypes.beforeEnd, function (e) {\r\n            var numberOfFingers = _this.fingersOperation();\r\n            if (numberOfFingers === TWO_FINGERS) {\r\n                _this.zoomEnd();\r\n                return true;\r\n            }\r\n        });\r\n        this.registerHooks(scroller.translater.hooks, scroller.translater.hooks.eventTypes.beforeTranslate, function (transformStyle, point) {\r\n            var scale = point.scale ? point.scale : _this.prevScale;\r\n            _this.prevScale = scale;\r\n            transformStyle.push(\"scale(\" + scale + \")\");\r\n        });\r\n        this.registerHooks(scroller.hooks, scroller.hooks.eventTypes.scrollEnd, function () {\r\n            if (_this.fingersOperation() === TWO_FINGERS) {\r\n                _this.scroll.trigger(_this.scroll.eventTypes.zoomEnd, {\r\n                    scale: _this.scale,\r\n                });\r\n            }\r\n        });\r\n        this.registerHooks(this.scroll.hooks, 'destroy', this.destroy);\r\n    };\r\n    Zoom.prototype.setTransformOrigin = function (content) {\r\n        content.style[style.transformOrigin] = '0 0';\r\n    };\r\n    Zoom.prototype.tryInitialZoomTo = function (options) {\r\n        var start = options.start, initialOrigin = options.initialOrigin;\r\n        var _a = this.scroll.scroller, scrollBehaviorX = _a.scrollBehaviorX, scrollBehaviorY = _a.scrollBehaviorY;\r\n        if (start !== RAW_SCALE) {\r\n            // Movable plugin may wanna modify minScrollPos or maxScrollPos\r\n            // so we force Movable to caculate them\r\n            this.resetBoundaries([scrollBehaviorX, scrollBehaviorY]);\r\n            this.zoomTo(start, initialOrigin[0], initialOrigin[1], 0);\r\n        }\r\n    };\r\n    // getter or setter operation\r\n    Zoom.prototype.fingersOperation = function (amounts) {\r\n        if (typeof amounts === 'number') {\r\n            this.numberOfFingers = amounts;\r\n        }\r\n        else {\r\n            return this.numberOfFingers;\r\n        }\r\n    };\r\n    Zoom.prototype._doZoomTo = function (scale, origin, time, useCurrentPos) {\r\n        var _this = this;\r\n        if (time === void 0) { time = this.zoomOpt.bounceTime; }\r\n        if (useCurrentPos === void 0) { useCurrentPos = false; }\r\n        var _a = this.zoomOpt, min = _a.min, max = _a.max;\r\n        var fromScale = this.scale;\r\n        var toScale = between(scale, min, max);\r\n        (function () {\r\n            if (time === 0) {\r\n                _this.scroll.trigger(_this.scroll.eventTypes.zooming, {\r\n                    scale: toScale,\r\n                });\r\n                return;\r\n            }\r\n            if (time > 0) {\r\n                var timer_1;\r\n                var startTime_1 = getNow();\r\n                var endTime_1 = startTime_1 + time;\r\n                var scheduler_1 = function () {\r\n                    var now = getNow();\r\n                    if (now >= endTime_1) {\r\n                        _this.scroll.trigger(_this.scroll.eventTypes.zooming, {\r\n                            scale: toScale,\r\n                        });\r\n                        cancelAnimationFrame(timer_1);\r\n                        return;\r\n                    }\r\n                    var ratio = ease.bounce.fn((now - startTime_1) / time);\r\n                    var currentScale = ratio * (toScale - fromScale) + fromScale;\r\n                    _this.scroll.trigger(_this.scroll.eventTypes.zooming, {\r\n                        scale: currentScale,\r\n                    });\r\n                    timer_1 = requestAnimationFrame(scheduler_1);\r\n                };\r\n                // start scheduler job\r\n                scheduler_1();\r\n            }\r\n        })();\r\n        // suppose you are zooming by two fingers\r\n        this.fingersOperation(2);\r\n        this._zoomTo(toScale, fromScale, origin, time, useCurrentPos);\r\n    };\r\n    Zoom.prototype._zoomTo = function (toScale, fromScale, origin, time, useCurrentPos) {\r\n        if (useCurrentPos === void 0) { useCurrentPos = false; }\r\n        var ratio = toScale / origin.baseScale;\r\n        this.setScale(toScale);\r\n        var scroller = this.scroll.scroller;\r\n        var scrollBehaviorX = scroller.scrollBehaviorX, scrollBehaviorY = scroller.scrollBehaviorY;\r\n        this.resetBoundaries([scrollBehaviorX, scrollBehaviorY]);\r\n        // position is restrained in boundary\r\n        var newX = this.getNewPos(origin.x, ratio, scrollBehaviorX, true, useCurrentPos);\r\n        var newY = this.getNewPos(origin.y, ratio, scrollBehaviorY, true, useCurrentPos);\r\n        if (scrollBehaviorX.currentPos !== Math.round(newX) ||\r\n            scrollBehaviorY.currentPos !== Math.round(newY) ||\r\n            toScale !== fromScale) {\r\n            scroller.scrollTo(newX, newY, time, ease.bounce, {\r\n                start: {\r\n                    scale: fromScale,\r\n                },\r\n                end: {\r\n                    scale: toScale,\r\n                },\r\n            });\r\n        }\r\n    };\r\n    Zoom.prototype.resolveOrigin = function (x, y) {\r\n        var _a = this.scroll.scroller, scrollBehaviorX = _a.scrollBehaviorX, scrollBehaviorY = _a.scrollBehaviorY;\r\n        var resolveFormula = {\r\n            left: function () {\r\n                return 0;\r\n            },\r\n            top: function () {\r\n                return 0;\r\n            },\r\n            right: function () {\r\n                return scrollBehaviorX.contentSize;\r\n            },\r\n            bottom: function () {\r\n                return scrollBehaviorY.contentSize;\r\n            },\r\n            center: function (index) {\r\n                var baseSize = index === 0\r\n                    ? scrollBehaviorX.contentSize\r\n                    : scrollBehaviorY.contentSize;\r\n                return baseSize / 2;\r\n            },\r\n        };\r\n        return {\r\n            originX: typeof x === 'number' ? x : resolveFormula[x](0),\r\n            originY: typeof y === 'number' ? y : resolveFormula[y](1),\r\n        };\r\n    };\r\n    Zoom.prototype.zoomStart = function (e) {\r\n        var firstFinger = e.touches[0];\r\n        var secondFinger = e.touches[1];\r\n        this.startDistance = this.getFingerDistance(e);\r\n        this.startScale = this.scale;\r\n        var _a = offsetToBody(this.wrapper), left = _a.left, top = _a.top;\r\n        this.origin = {\r\n            x: Math.abs(firstFinger.pageX + secondFinger.pageX) / 2 +\r\n                left -\r\n                this.scroll.x,\r\n            y: Math.abs(firstFinger.pageY + secondFinger.pageY) / 2 +\r\n                top -\r\n                this.scroll.y,\r\n            baseScale: this.startScale,\r\n        };\r\n        this.scroll.trigger(this.scroll.eventTypes.beforeZoomStart);\r\n    };\r\n    Zoom.prototype.zoom = function (e) {\r\n        var currentDistance = this.getFingerDistance(e);\r\n        // at least minimalZoomDistance pixels for the zoom to initiate\r\n        if (!this.zoomed &&\r\n            Math.abs(currentDistance - this.startDistance) <\r\n                this.zoomOpt.minimalZoomDistance) {\r\n            return;\r\n        }\r\n        // when out of boundary , perform a damping algorithm\r\n        var endScale = this.dampingScale((currentDistance / this.startDistance) * this.startScale);\r\n        var ratio = endScale / this.startScale;\r\n        this.setScale(endScale);\r\n        if (!this.zoomed) {\r\n            this.zoomed = true;\r\n            this.scroll.trigger(this.scroll.eventTypes.zoomStart);\r\n        }\r\n        var scroller = this.scroll.scroller;\r\n        var scrollBehaviorX = scroller.scrollBehaviorX, scrollBehaviorY = scroller.scrollBehaviorY;\r\n        var x = this.getNewPos(this.origin.x, ratio, scrollBehaviorX, false, false);\r\n        var y = this.getNewPos(this.origin.y, ratio, scrollBehaviorY, false, false);\r\n        this.scroll.trigger(this.scroll.eventTypes.zooming, {\r\n            scale: this.scale,\r\n        });\r\n        scroller.translater.translate({ x: x, y: y, scale: endScale });\r\n    };\r\n    Zoom.prototype.zoomEnd = function () {\r\n        if (!this.zoomed)\r\n            return;\r\n        // if out of boundary, do rebound!\r\n        if (this.shouldRebound()) {\r\n            this._doZoomTo(this.scale, this.origin, this.zoomOpt.bounceTime);\r\n            return;\r\n        }\r\n        this.scroll.trigger(this.scroll.eventTypes.zoomEnd, { scale: this.scale });\r\n    };\r\n    Zoom.prototype.getFingerDistance = function (e) {\r\n        var firstFinger = e.touches[0];\r\n        var secondFinger = e.touches[1];\r\n        var deltaX = Math.abs(firstFinger.pageX - secondFinger.pageX);\r\n        var deltaY = Math.abs(firstFinger.pageY - secondFinger.pageY);\r\n        return getDistance(deltaX, deltaY);\r\n    };\r\n    Zoom.prototype.shouldRebound = function () {\r\n        var _a = this.zoomOpt, min = _a.min, max = _a.max;\r\n        var currentScale = this.scale;\r\n        // scale exceeded!\r\n        if (currentScale !== between(currentScale, min, max)) {\r\n            return true;\r\n        }\r\n        var _b = this.scroll.scroller, scrollBehaviorX = _b.scrollBehaviorX, scrollBehaviorY = _b.scrollBehaviorY;\r\n        // enlarge boundaries manually when zoom is end\r\n        this.resetBoundaries([scrollBehaviorX, scrollBehaviorY]);\r\n        var xInBoundary = scrollBehaviorX.checkInBoundary().inBoundary;\r\n        var yInBoundary = scrollBehaviorX.checkInBoundary().inBoundary;\r\n        return !(xInBoundary && yInBoundary);\r\n    };\r\n    Zoom.prototype.dampingScale = function (scale) {\r\n        var _a = this.zoomOpt, min = _a.min, max = _a.max;\r\n        if (scale < min) {\r\n            scale = 0.5 * min * Math.pow(2.0, scale / min);\r\n        }\r\n        else if (scale > max) {\r\n            scale = 2.0 * max * Math.pow(0.5, max / scale);\r\n        }\r\n        return scale;\r\n    };\r\n    Zoom.prototype.setScale = function (scale) {\r\n        this.scale = scale;\r\n    };\r\n    Zoom.prototype.resetBoundaries = function (scrollBehaviorPairs) {\r\n        scrollBehaviorPairs.forEach(function (behavior) { return behavior.computeBoundary(); });\r\n    };\r\n    Zoom.prototype.getNewPos = function (origin, lastScale, scrollBehavior, shouldInBoundary, useCurrentPos) {\r\n        if (useCurrentPos === void 0) { useCurrentPos = false; }\r\n        var newPos = origin -\r\n            origin * lastScale +\r\n            (useCurrentPos ? scrollBehavior.currentPos : scrollBehavior.startPos);\r\n        if (shouldInBoundary) {\r\n            newPos = between(newPos, scrollBehavior.maxScrollPos, scrollBehavior.minScrollPos);\r\n        }\r\n        // maxScrollPos or minScrollPos maybe a negative or positive digital\r\n        return newPos > 0 ? Math.floor(newPos) : Math.ceil(newPos);\r\n    };\r\n    Zoom.prototype.registerHooks = function (hooks, name, handler) {\r\n        hooks.on(name, handler, this);\r\n        this.hooksFn.push([hooks, name, handler]);\r\n    };\r\n    Zoom.prototype.destroy = function () {\r\n        this.hooksFn.forEach(function (item) {\r\n            var hooks = item[0];\r\n            var hooksName = item[1];\r\n            var handlerFn = item[2];\r\n            hooks.off(hooksName, handlerFn);\r\n        });\r\n        this.hooksFn.length = 0;\r\n    };\r\n    Zoom.pluginName = 'zoom';\r\n    return Zoom;\r\n}());\n\nvar BScrollFamily = /** @class */ (function () {\r\n    function BScrollFamily(scroll) {\r\n        this.ancestors = [];\r\n        this.descendants = [];\r\n        this.hooksManager = [];\r\n        this.analyzed = false;\r\n        this.selfScroll = scroll;\r\n    }\r\n    BScrollFamily.create = function (scroll) {\r\n        return new BScrollFamily(scroll);\r\n    };\r\n    BScrollFamily.prototype.hasAncestors = function (bscrollFamily) {\r\n        var index = findIndex(this.ancestors, function (_a) {\r\n            var item = _a[0];\r\n            return item === bscrollFamily;\r\n        });\r\n        return index > -1;\r\n    };\r\n    BScrollFamily.prototype.hasDescendants = function (bscrollFamily) {\r\n        var index = findIndex(this.descendants, function (_a) {\r\n            var item = _a[0];\r\n            return item === bscrollFamily;\r\n        });\r\n        return index > -1;\r\n    };\r\n    BScrollFamily.prototype.addAncestor = function (bscrollFamily, distance) {\r\n        var ancestors = this.ancestors;\r\n        ancestors.push([bscrollFamily, distance]);\r\n        // by ascend\r\n        ancestors.sort(function (a, b) {\r\n            return a[1] - b[1];\r\n        });\r\n    };\r\n    BScrollFamily.prototype.addDescendant = function (bscrollFamily, distance) {\r\n        var descendants = this.descendants;\r\n        descendants.push([bscrollFamily, distance]);\r\n        // by ascend\r\n        descendants.sort(function (a, b) {\r\n            return a[1] - b[1];\r\n        });\r\n    };\r\n    BScrollFamily.prototype.removeAncestor = function (bscrollFamily) {\r\n        var ancestors = this.ancestors;\r\n        if (ancestors.length) {\r\n            var index = findIndex(this.ancestors, function (_a) {\r\n                var item = _a[0];\r\n                return item === bscrollFamily;\r\n            });\r\n            if (index > -1) {\r\n                return ancestors.splice(index, 1);\r\n            }\r\n        }\r\n    };\r\n    BScrollFamily.prototype.removeDescendant = function (bscrollFamily) {\r\n        var descendants = this.descendants;\r\n        if (descendants.length) {\r\n            var index = findIndex(this.descendants, function (_a) {\r\n                var item = _a[0];\r\n                return item === bscrollFamily;\r\n            });\r\n            if (index > -1) {\r\n                return descendants.splice(index, 1);\r\n            }\r\n        }\r\n    };\r\n    BScrollFamily.prototype.registerHooks = function (hook, eventType, handler) {\r\n        hook.on(eventType, handler);\r\n        this.hooksManager.push([hook, eventType, handler]);\r\n    };\r\n    BScrollFamily.prototype.setAnalyzed = function (flag) {\r\n        if (flag === void 0) { flag = false; }\r\n        this.analyzed = flag;\r\n    };\r\n    BScrollFamily.prototype.purge = function () {\r\n        var _this = this;\r\n        // remove self from graph\r\n        this.ancestors.forEach(function (_a) {\r\n            var bscrollFamily = _a[0];\r\n            bscrollFamily.removeDescendant(_this);\r\n        });\r\n        this.descendants.forEach(function (_a) {\r\n            var bscrollFamily = _a[0];\r\n            bscrollFamily.removeAncestor(_this);\r\n        });\r\n        // remove all hook handlers\r\n        this.hooksManager.forEach(function (_a) {\r\n            var hooks = _a[0], eventType = _a[1], handler = _a[2];\r\n            hooks.off(eventType, handler);\r\n        });\r\n        this.hooksManager = [];\r\n    };\r\n    return BScrollFamily;\r\n}());\n\nvar sourcePrefix$1 = 'plugins.nestedScroll';\r\nvar propertiesMap$1 = [\r\n    {\r\n        key: 'purgeNestedScroll',\r\n        name: 'purgeNestedScroll',\r\n    },\r\n];\r\nvar propertiesConfig$1 = propertiesMap$1.map(function (item) {\r\n    return {\r\n        key: item.key,\r\n        sourceKey: sourcePrefix$1 + \".\" + item.name,\r\n    };\r\n});\n\nvar DEFAUL_GROUP_ID = 'INTERNAL_NESTED_SCROLL';\r\nvar forceScrollStopHandler = function (scrolls) {\r\n    scrolls.forEach(function (scroll) {\r\n        if (scroll.pending) {\r\n            scroll.stop();\r\n            scroll.resetPosition();\r\n        }\r\n    });\r\n};\r\nvar enableScrollHander = function (scrolls) {\r\n    scrolls.forEach(function (scroll) {\r\n        scroll.enable();\r\n    });\r\n};\r\nvar disableScrollHander = function (scrolls, currentScroll) {\r\n    scrolls.forEach(function (scroll) {\r\n        if (scroll.hasHorizontalScroll === currentScroll.hasHorizontalScroll ||\r\n            scroll.hasVerticalScroll === currentScroll.hasVerticalScroll) {\r\n            scroll.disable();\r\n        }\r\n    });\r\n};\r\nvar syncTouchstartData = function (scrolls) {\r\n    scrolls.forEach(function (scroll) {\r\n        var _a = scroll.scroller, actions = _a.actions, scrollBehaviorX = _a.scrollBehaviorX, scrollBehaviorY = _a.scrollBehaviorY;\r\n        // prevent click triggering many times\r\n        actions.fingerMoved = true;\r\n        actions.contentMoved = false;\r\n        actions.directionLockAction.reset();\r\n        scrollBehaviorX.start();\r\n        scrollBehaviorY.start();\r\n        scrollBehaviorX.resetStartPos();\r\n        scrollBehaviorY.resetStartPos();\r\n        actions.startTime = +new Date();\r\n    });\r\n};\r\nvar isOutOfBoundary = function (scroll) {\r\n    var hasHorizontalScroll = scroll.hasHorizontalScroll, hasVerticalScroll = scroll.hasVerticalScroll, x = scroll.x, y = scroll.y, minScrollX = scroll.minScrollX, maxScrollX = scroll.maxScrollX, minScrollY = scroll.minScrollY, maxScrollY = scroll.maxScrollY, movingDirectionX = scroll.movingDirectionX, movingDirectionY = scroll.movingDirectionY;\r\n    var ret = false;\r\n    var outOfLeftBoundary = x >= minScrollX && movingDirectionX === -1 /* Negative */;\r\n    var outOfRightBoundary = x <= maxScrollX && movingDirectionX === 1 /* Positive */;\r\n    var outOfTopBoundary = y >= minScrollY && movingDirectionY === -1 /* Negative */;\r\n    var outOfBottomBoundary = y <= maxScrollY && movingDirectionY === 1 /* Positive */;\r\n    if (hasVerticalScroll) {\r\n        ret = outOfTopBoundary || outOfBottomBoundary;\r\n    }\r\n    else if (hasHorizontalScroll) {\r\n        ret = outOfLeftBoundary || outOfRightBoundary;\r\n    }\r\n    return ret;\r\n};\r\nvar isResettingPosition = function (scroll) {\r\n    var hasHorizontalScroll = scroll.hasHorizontalScroll, hasVerticalScroll = scroll.hasVerticalScroll, x = scroll.x, y = scroll.y, minScrollX = scroll.minScrollX, maxScrollX = scroll.maxScrollX, minScrollY = scroll.minScrollY, maxScrollY = scroll.maxScrollY;\r\n    var ret = false;\r\n    var outOfLeftBoundary = x > minScrollX;\r\n    var outOfRightBoundary = x < maxScrollX;\r\n    var outOfTopBoundary = y > minScrollY;\r\n    var outOfBottomBoundary = y < maxScrollY;\r\n    if (hasVerticalScroll) {\r\n        ret = outOfTopBoundary || outOfBottomBoundary;\r\n    }\r\n    else if (hasHorizontalScroll) {\r\n        ret = outOfLeftBoundary || outOfRightBoundary;\r\n    }\r\n    return ret;\r\n};\r\nvar resetPositionHandler = function (scroll) {\r\n    scroll.scroller.reflow();\r\n    scroll.resetPosition(0 /* Immediately */);\r\n};\r\nvar calculateDistance = function (childNode, parentNode) {\r\n    var distance = 0;\r\n    var parent = childNode.parentNode;\r\n    while (parent && parent !== parentNode) {\r\n        distance++;\r\n        parent = parent.parentNode;\r\n    }\r\n    return distance;\r\n};\r\nvar NestedScroll = /** @class */ (function () {\r\n    function NestedScroll(scroll) {\r\n        var groupId = this.handleOptions(scroll);\r\n        var instance = NestedScroll.instancesMap[groupId];\r\n        if (!instance) {\r\n            instance = NestedScroll.instancesMap[groupId] = this;\r\n            instance.store = [];\r\n            instance.hooksFn = [];\r\n        }\r\n        instance.init(scroll);\r\n        return instance;\r\n    }\r\n    NestedScroll.getAllNestedScrolls = function () {\r\n        var instancesMap = NestedScroll.instancesMap;\r\n        return Object.keys(instancesMap).map(function (key) { return instancesMap[key]; });\r\n    };\r\n    NestedScroll.purgeAllNestedScrolls = function () {\r\n        var nestedScrolls = NestedScroll.getAllNestedScrolls();\r\n        nestedScrolls.forEach(function (ns) { return ns.purgeNestedScroll(); });\r\n    };\r\n    NestedScroll.prototype.handleOptions = function (scroll) {\r\n        var userOptions = (scroll.options.nestedScroll === true\r\n            ? {}\r\n            : scroll.options.nestedScroll);\r\n        var defaultOptions = {\r\n            groupId: DEFAUL_GROUP_ID,\r\n        };\r\n        this.options = extend(defaultOptions, userOptions);\r\n        var groupIdType = typeof this.options.groupId;\r\n        if (groupIdType !== 'string' && groupIdType !== 'number') {\r\n            warn('groupId must be string or number for NestedScroll plugin');\r\n        }\r\n        return this.options.groupId;\r\n    };\r\n    NestedScroll.prototype.init = function (scroll) {\r\n        scroll.proxy(propertiesConfig$1);\r\n        this.addBScroll(scroll);\r\n        this.buildBScrollGraph();\r\n        this.analyzeBScrollGraph();\r\n        this.ensureEventInvokeSequence();\r\n        this.handleHooks(scroll);\r\n    };\r\n    NestedScroll.prototype.handleHooks = function (scroll) {\r\n        var _this = this;\r\n        this.registerHooks(scroll.hooks, scroll.hooks.eventTypes.destroy, function () {\r\n            _this.deleteScroll(scroll);\r\n        });\r\n    };\r\n    NestedScroll.prototype.deleteScroll = function (scroll) {\r\n        var wrapper = scroll.wrapper;\r\n        wrapper.isBScrollContainer = undefined;\r\n        var store = this.store;\r\n        var hooksFn = this.hooksFn;\r\n        var i = findIndex(store, function (bscrollFamily) {\r\n            return bscrollFamily.selfScroll === scroll;\r\n        });\r\n        if (i > -1) {\r\n            var bscrollFamily = store[i];\r\n            bscrollFamily.purge();\r\n            store.splice(i, 1);\r\n        }\r\n        var k = findIndex(hooksFn, function (_a) {\r\n            var hooks = _a[0];\r\n            return hooks === scroll.hooks;\r\n        });\r\n        if (k > -1) {\r\n            var _a = hooksFn[k], hooks = _a[0], eventType = _a[1], handler = _a[2];\r\n            hooks.off(eventType, handler);\r\n            hooksFn.splice(k, 1);\r\n        }\r\n    };\r\n    NestedScroll.prototype.addBScroll = function (scroll) {\r\n        this.store.push(BScrollFamily.create(scroll));\r\n    };\r\n    NestedScroll.prototype.buildBScrollGraph = function () {\r\n        var store = this.store;\r\n        var bf1;\r\n        var bf2;\r\n        var wrapper1;\r\n        var wrapper2;\r\n        var len = this.store.length;\r\n        // build graph\r\n        for (var i = 0; i < len; i++) {\r\n            bf1 = store[i];\r\n            wrapper1 = bf1.selfScroll.wrapper;\r\n            for (var j = 0; j < len; j++) {\r\n                bf2 = store[j];\r\n                wrapper2 = bf2.selfScroll.wrapper;\r\n                // same bs\r\n                if (bf1 === bf2)\r\n                    continue;\r\n                if (!wrapper1.contains(wrapper2))\r\n                    continue;\r\n                // bs1 contains bs2\r\n                var distance = calculateDistance(wrapper2, wrapper1);\r\n                if (!bf1.hasDescendants(bf2)) {\r\n                    bf1.addDescendant(bf2, distance);\r\n                }\r\n                if (!bf2.hasAncestors(bf1)) {\r\n                    bf2.addAncestor(bf1, distance);\r\n                }\r\n            }\r\n        }\r\n    };\r\n    NestedScroll.prototype.analyzeBScrollGraph = function () {\r\n        this.store.forEach(function (bscrollFamily) {\r\n            if (bscrollFamily.analyzed) {\r\n                return;\r\n            }\r\n            var ancestors = bscrollFamily.ancestors, descendants = bscrollFamily.descendants, currentScroll = bscrollFamily.selfScroll;\r\n            var beforeScrollStartHandler = function () {\r\n                // always get the latest scroll\r\n                var ancestorScrolls = ancestors.map(function (_a) {\r\n                    var bscrollFamily = _a[0];\r\n                    return bscrollFamily.selfScroll;\r\n                });\r\n                var descendantScrolls = descendants.map(function (_a) {\r\n                    var bscrollFamily = _a[0];\r\n                    return bscrollFamily.selfScroll;\r\n                });\r\n                forceScrollStopHandler(__spreadArrays(ancestorScrolls, descendantScrolls));\r\n                if (isResettingPosition(currentScroll)) {\r\n                    resetPositionHandler(currentScroll);\r\n                }\r\n                syncTouchstartData(ancestorScrolls);\r\n                disableScrollHander(ancestorScrolls, currentScroll);\r\n            };\r\n            var touchEndHandler = function () {\r\n                var ancestorScrolls = ancestors.map(function (_a) {\r\n                    var bscrollFamily = _a[0];\r\n                    return bscrollFamily.selfScroll;\r\n                });\r\n                var descendantScrolls = descendants.map(function (_a) {\r\n                    var bscrollFamily = _a[0];\r\n                    return bscrollFamily.selfScroll;\r\n                });\r\n                enableScrollHander(__spreadArrays(ancestorScrolls, descendantScrolls));\r\n            };\r\n            bscrollFamily.registerHooks(currentScroll, currentScroll.eventTypes.beforeScrollStart, beforeScrollStartHandler);\r\n            bscrollFamily.registerHooks(currentScroll, currentScroll.eventTypes.touchEnd, touchEndHandler);\r\n            var selfActionsHooks = currentScroll.scroller.actions.hooks;\r\n            bscrollFamily.registerHooks(selfActionsHooks, selfActionsHooks.eventTypes.detectMovingDirection, function () {\r\n                var ancestorScrolls = ancestors.map(function (_a) {\r\n                    var bscrollFamily = _a[0];\r\n                    return bscrollFamily.selfScroll;\r\n                });\r\n                var parentScroll = ancestorScrolls[0];\r\n                var otherAncestorScrolls = ancestorScrolls.slice(1);\r\n                var contentMoved = currentScroll.scroller.actions.contentMoved;\r\n                var isTopScroll = ancestorScrolls.length === 0;\r\n                if (contentMoved) {\r\n                    disableScrollHander(ancestorScrolls, currentScroll);\r\n                }\r\n                else if (!isTopScroll) {\r\n                    if (isOutOfBoundary(currentScroll)) {\r\n                        disableScrollHander([currentScroll], currentScroll);\r\n                        if (parentScroll) {\r\n                            enableScrollHander([parentScroll]);\r\n                        }\r\n                        disableScrollHander(otherAncestorScrolls, currentScroll);\r\n                        return true;\r\n                    }\r\n                }\r\n            });\r\n            bscrollFamily.setAnalyzed(true);\r\n        });\r\n    };\r\n    // make sure touchmove|touchend invoke from child to parent\r\n    NestedScroll.prototype.ensureEventInvokeSequence = function () {\r\n        var copied = this.store.slice();\r\n        var sequencedScroll = copied.sort(function (a, b) {\r\n            return a.descendants.length - b.descendants.length;\r\n        });\r\n        sequencedScroll.forEach(function (bscrollFamily) {\r\n            var scroll = bscrollFamily.selfScroll;\r\n            scroll.scroller.actionsHandler.rebindDOMEvents();\r\n        });\r\n    };\r\n    NestedScroll.prototype.registerHooks = function (hooks, name, handler) {\r\n        hooks.on(name, handler, this);\r\n        this.hooksFn.push([hooks, name, handler]);\r\n    };\r\n    NestedScroll.prototype.purgeNestedScroll = function () {\r\n        var groupId = this.options.groupId;\r\n        this.store.forEach(function (bscrollFamily) {\r\n            bscrollFamily.purge();\r\n        });\r\n        this.store = [];\r\n        this.hooksFn.forEach(function (_a) {\r\n            var hooks = _a[0], eventType = _a[1], handler = _a[2];\r\n            hooks.off(eventType, handler);\r\n        });\r\n        this.hooksFn = [];\r\n        delete NestedScroll.instancesMap[groupId];\r\n    };\r\n    NestedScroll.pluginName = 'nestedScroll';\r\n    NestedScroll.instancesMap = {};\r\n    return NestedScroll;\r\n}());\n\nvar PRE_NUM = 10;\r\nvar POST_NUM = 30;\r\nvar IndexCalculator = /** @class */ (function () {\r\n    function IndexCalculator(wrapperHeight, tombstoneHeight) {\r\n        this.wrapperHeight = wrapperHeight;\r\n        this.tombstoneHeight = tombstoneHeight;\r\n        this.lastDirection = 1 /* DOWN */;\r\n        this.lastPos = 0;\r\n    }\r\n    IndexCalculator.prototype.calculate = function (pos, list) {\r\n        var offset = pos - this.lastPos;\r\n        this.lastPos = pos;\r\n        var direction = this.getDirection(offset);\r\n        // important! start index is much more important than end index.\r\n        var start = this.calculateIndex(0, pos, list);\r\n        var end = this.calculateIndex(start, pos + this.wrapperHeight, list);\r\n        if (direction === 1 /* DOWN */) {\r\n            start -= PRE_NUM;\r\n            end += POST_NUM;\r\n        }\r\n        else {\r\n            start -= POST_NUM;\r\n            end += PRE_NUM;\r\n        }\r\n        if (start < 0) {\r\n            start = 0;\r\n        }\r\n        return {\r\n            start: start,\r\n            end: end,\r\n        };\r\n    };\r\n    IndexCalculator.prototype.getDirection = function (offset) {\r\n        var direction;\r\n        if (offset > 0) {\r\n            direction = 1 /* DOWN */;\r\n        }\r\n        else if (offset < 0) {\r\n            direction = 0 /* UP */;\r\n        }\r\n        else {\r\n            return this.lastDirection;\r\n        }\r\n        this.lastDirection = direction;\r\n        return direction;\r\n    };\r\n    IndexCalculator.prototype.calculateIndex = function (start, offset, list) {\r\n        if (offset <= 0) {\r\n            return start;\r\n        }\r\n        var i = start;\r\n        var startPos = list[i] && list[i].pos !== -1 ? list[i].pos : 0;\r\n        var lastPos = startPos;\r\n        var tombstone = 0;\r\n        while (i < list.length && list[i].pos < offset) {\r\n            lastPos = list[i].pos;\r\n            i++;\r\n        }\r\n        if (i === list.length) {\r\n            tombstone = Math.floor((offset - lastPos) / this.tombstoneHeight);\r\n        }\r\n        i += tombstone;\r\n        return i;\r\n    };\r\n    IndexCalculator.prototype.resetState = function () {\r\n        this.lastDirection = 1 /* DOWN */;\r\n        this.lastPos = 0;\r\n    };\r\n    return IndexCalculator;\r\n}());\n\nvar ListItem = /** @class */ (function () {\r\n    function ListItem() {\r\n        this.data = null;\r\n        this.dom = null;\r\n        this.tombstone = null;\r\n        this.width = 0;\r\n        this.height = 0;\r\n        this.pos = 0;\r\n    }\r\n    return ListItem;\r\n}());\r\nvar DataManager = /** @class */ (function () {\r\n    function DataManager(list, fetchFn, onFetchFinish) {\r\n        this.fetchFn = fetchFn;\r\n        this.onFetchFinish = onFetchFinish;\r\n        this.loadedNum = 0;\r\n        this.fetching = false;\r\n        this.hasMore = true;\r\n        this.list = list || [];\r\n    }\r\n    DataManager.prototype.update = function (end) {\r\n        return __awaiter(this, void 0, void 0, function () {\r\n            var len;\r\n            return __generator(this, function (_a) {\r\n                if (!this.hasMore) {\r\n                    end = Math.min(end, this.list.length);\r\n                }\r\n                // add data placeholder\r\n                if (end > this.list.length) {\r\n                    len = end - this.list.length;\r\n                    this.addEmptyData(len);\r\n                }\r\n                // tslint:disable-next-line: no-floating-promises\r\n                return [2 /*return*/, this.checkToFetch(end)];\r\n            });\r\n        });\r\n    };\r\n    DataManager.prototype.add = function (data) {\r\n        for (var i = 0; i < data.length; i++) {\r\n            if (!this.list[this.loadedNum]) {\r\n                this.list[this.loadedNum] = { data: data[i] };\r\n            }\r\n            else {\r\n                this.list[this.loadedNum] = __assign(__assign({}, this.list[this.loadedNum]), { data: data[i] });\r\n            }\r\n            this.loadedNum++;\r\n        }\r\n        return this.list;\r\n    };\r\n    DataManager.prototype.addEmptyData = function (len) {\r\n        for (var i = 0; i < len; i++) {\r\n            this.list.push(new ListItem());\r\n        }\r\n        return this.list;\r\n    };\r\n    DataManager.prototype.fetch = function (len) {\r\n        return __awaiter(this, void 0, void 0, function () {\r\n            var data;\r\n            return __generator(this, function (_a) {\r\n                switch (_a.label) {\r\n                    case 0:\r\n                        if (this.fetching) {\r\n                            return [2 /*return*/, []];\r\n                        }\r\n                        this.fetching = true;\r\n                        return [4 /*yield*/, this.fetchFn(len)];\r\n                    case 1:\r\n                        data = _a.sent();\r\n                        this.fetching = false;\r\n                        return [2 /*return*/, data];\r\n                }\r\n            });\r\n        });\r\n    };\r\n    DataManager.prototype.checkToFetch = function (end) {\r\n        return __awaiter(this, void 0, void 0, function () {\r\n            var min, newData, currentEnd;\r\n            return __generator(this, function (_a) {\r\n                switch (_a.label) {\r\n                    case 0:\r\n                        if (!this.hasMore) {\r\n                            return [2 /*return*/];\r\n                        }\r\n                        if (end <= this.loadedNum) {\r\n                            return [2 /*return*/];\r\n                        }\r\n                        min = end - this.loadedNum;\r\n                        return [4 /*yield*/, this.fetch(min)];\r\n                    case 1:\r\n                        newData = _a.sent();\r\n                        if (newData instanceof Array && newData.length) {\r\n                            this.add(newData);\r\n                            currentEnd = this.onFetchFinish(this.list, true);\r\n                            return [2 /*return*/, this.checkToFetch(currentEnd)];\r\n                        }\r\n                        else if (typeof newData === 'boolean' && newData === false) {\r\n                            this.hasMore = false;\r\n                            this.list.splice(this.loadedNum);\r\n                            this.onFetchFinish(this.list, false);\r\n                        }\r\n                        return [2 /*return*/];\r\n                }\r\n            });\r\n        });\r\n    };\r\n    DataManager.prototype.getList = function () {\r\n        return this.list;\r\n    };\r\n    DataManager.prototype.resetState = function () {\r\n        this.loadedNum = 0;\r\n        this.fetching = false;\r\n        this.hasMore = true;\r\n        this.list = [];\r\n    };\r\n    return DataManager;\r\n}());\n\nvar Tombstone = /** @class */ (function () {\r\n    function Tombstone(create) {\r\n        this.create = create;\r\n        this.cached = [];\r\n        this.width = 0;\r\n        this.height = 0;\r\n        this.initialed = false;\r\n        this.getSize();\r\n    }\r\n    Tombstone.isTombstone = function (el) {\r\n        if (el && el.classList) {\r\n            return el.classList.contains('tombstone');\r\n        }\r\n        return false;\r\n    };\r\n    Tombstone.prototype.getSize = function () {\r\n        if (!this.initialed) {\r\n            var tombstone = this.create();\r\n            tombstone.style.position = 'absolute';\r\n            document.body.appendChild(tombstone);\r\n            tombstone.style.display = '';\r\n            this.height = tombstone.offsetHeight;\r\n            this.width = tombstone.offsetWidth;\r\n            document.body.removeChild(tombstone);\r\n            this.cached.push(tombstone);\r\n        }\r\n    };\r\n    Tombstone.prototype.getOne = function () {\r\n        var tombstone = this.cached.pop();\r\n        if (tombstone) {\r\n            var tombstoneStyle = tombstone.style;\r\n            tombstoneStyle.display = '';\r\n            tombstoneStyle.opacity = '1';\r\n            tombstoneStyle[style.transform] = '';\r\n            tombstoneStyle[style.transition] = '';\r\n            return tombstone;\r\n        }\r\n        return this.create();\r\n    };\r\n    Tombstone.prototype.recycle = function (tombstones) {\r\n        for (var _i = 0, tombstones_1 = tombstones; _i < tombstones_1.length; _i++) {\r\n            var tombstone = tombstones_1[_i];\r\n            tombstone.style.display = 'none';\r\n            this.cached.push(tombstone);\r\n        }\r\n        return this.cached;\r\n    };\r\n    Tombstone.prototype.recycleOne = function (tombstone) {\r\n        this.cached.push(tombstone);\r\n        return this.cached;\r\n    };\r\n    return Tombstone;\r\n}());\n\nvar ANIMATION_DURATION_MS = 200;\r\nvar DomManager = /** @class */ (function () {\r\n    function DomManager(content, renderFn, tombstone) {\r\n        this.renderFn = renderFn;\r\n        this.tombstone = tombstone;\r\n        this.unusedDom = [];\r\n        this.timers = [];\r\n        this.setContent(content);\r\n    }\r\n    DomManager.prototype.update = function (list, start, end) {\r\n        if (start >= list.length) {\r\n            start = list.length - 1;\r\n        }\r\n        if (end > list.length) {\r\n            end = list.length;\r\n        }\r\n        this.collectUnusedDom(list, start, end);\r\n        this.createDom(list, start, end);\r\n        this.cacheHeight(list, start, end);\r\n        var _a = this.positionDom(list, start, end), startPos = _a.startPos, startDelta = _a.startDelta, endPos = _a.endPos;\r\n        return {\r\n            start: start,\r\n            startPos: startPos,\r\n            startDelta: startDelta,\r\n            end: end,\r\n            endPos: endPos,\r\n        };\r\n    };\r\n    DomManager.prototype.collectUnusedDom = function (list, start, end) {\r\n        // TODO optimise\r\n        for (var i = 0; i < list.length; i++) {\r\n            if (i === start) {\r\n                i = end - 1;\r\n                continue;\r\n            }\r\n            if (list[i].dom) {\r\n                var dom = list[i].dom;\r\n                if (Tombstone.isTombstone(dom)) {\r\n                    this.tombstone.recycleOne(dom);\r\n                    dom.style.display = 'none';\r\n                }\r\n                else {\r\n                    this.unusedDom.push(dom);\r\n                }\r\n                list[i].dom = null;\r\n            }\r\n        }\r\n        return list;\r\n    };\r\n    DomManager.prototype.createDom = function (list, start, end) {\r\n        for (var i = start; i < end; i++) {\r\n            var dom = list[i].dom;\r\n            var data = list[i].data;\r\n            if (dom) {\r\n                if (Tombstone.isTombstone(dom) && data) {\r\n                    list[i].tombstone = dom;\r\n                    list[i].dom = null;\r\n                }\r\n                else {\r\n                    continue;\r\n                }\r\n            }\r\n            dom = data\r\n                ? this.renderFn(data, this.unusedDom.pop())\r\n                : this.tombstone.getOne();\r\n            dom.style.position = 'absolute';\r\n            list[i].dom = dom;\r\n            list[i].pos = -1;\r\n            this.content.appendChild(dom);\r\n        }\r\n    };\r\n    DomManager.prototype.cacheHeight = function (list, start, end) {\r\n        for (var i = start; i < end; i++) {\r\n            if (list[i].data && !list[i].height) {\r\n                list[i].height = list[i].dom.offsetHeight;\r\n            }\r\n        }\r\n    };\r\n    DomManager.prototype.positionDom = function (list, start, end) {\r\n        var _this = this;\r\n        var tombstoneEles = [];\r\n        var _a = this.getStartPos(list, start, end), startPos = _a.start, startDelta = _a.delta;\r\n        var pos = startPos;\r\n        for (var i = start; i < end; i++) {\r\n            var tombstone = list[i].tombstone;\r\n            if (tombstone) {\r\n                var tombstoneStyle = tombstone.style;\r\n                tombstoneStyle[style.transition] = cssVendor + \"transform \" + ANIMATION_DURATION_MS + \"ms, opacity \" + ANIMATION_DURATION_MS + \"ms\";\r\n                tombstoneStyle[style.transform] = \"translateY(\" + pos + \"px)\";\r\n                tombstoneStyle.opacity = '0';\r\n                list[i].tombstone = null;\r\n                tombstoneEles.push(tombstone);\r\n            }\r\n            if (list[i].dom && list[i].pos !== pos) {\r\n                list[i].dom.style[style.transform] = \"translateY(\" + pos + \"px)\";\r\n                list[i].pos = pos;\r\n            }\r\n            pos += list[i].height || this.tombstone.height;\r\n        }\r\n        var timerId = window.setTimeout(function () {\r\n            _this.tombstone.recycle(tombstoneEles);\r\n        }, ANIMATION_DURATION_MS);\r\n        this.timers.push(timerId);\r\n        return {\r\n            startPos: startPos,\r\n            startDelta: startDelta,\r\n            endPos: pos,\r\n        };\r\n    };\r\n    DomManager.prototype.getStartPos = function (list, start, end) {\r\n        if (list[start] && list[start].pos !== -1) {\r\n            return {\r\n                start: list[start].pos,\r\n                delta: 0,\r\n            };\r\n        }\r\n        // TODO optimise\r\n        var pos = list[0].pos === -1 ? 0 : list[0].pos;\r\n        for (var i_1 = 0; i_1 < start; i_1++) {\r\n            pos += list[i_1].height || this.tombstone.height;\r\n        }\r\n        var originPos = pos;\r\n        var i;\r\n        for (i = start; i < end; i++) {\r\n            if (!Tombstone.isTombstone(list[i].dom) && list[i].pos !== -1) {\r\n                pos = list[i].pos;\r\n                break;\r\n            }\r\n        }\r\n        var x = i;\r\n        if (x < end) {\r\n            while (x > start) {\r\n                pos -= list[x - 1].height;\r\n                x--;\r\n            }\r\n        }\r\n        var delta = originPos - pos;\r\n        return {\r\n            start: pos,\r\n            delta: delta,\r\n        };\r\n    };\r\n    DomManager.prototype.removeTombstone = function () {\r\n        var tombstones = this.content.querySelectorAll('.tombstone');\r\n        for (var i = tombstones.length - 1; i >= 0; i--) {\r\n            this.content.removeChild(tombstones[i]);\r\n        }\r\n    };\r\n    DomManager.prototype.setContent = function (content) {\r\n        if (content !== this.content) {\r\n            this.content = content;\r\n        }\r\n    };\r\n    DomManager.prototype.destroy = function () {\r\n        this.removeTombstone();\r\n        this.timers.forEach(function (id) {\r\n            clearTimeout(id);\r\n        });\r\n    };\r\n    DomManager.prototype.resetState = function () {\r\n        this.destroy();\r\n        this.timers = [];\r\n        this.unusedDom = [];\r\n    };\r\n    return DomManager;\r\n}());\n\nvar EXTRA_SCROLL_Y = -2000;\r\nvar InfinityScroll = /** @class */ (function () {\r\n    function InfinityScroll(scroll) {\r\n        this.scroll = scroll;\r\n        this.start = 0;\r\n        this.end = 0;\r\n        this.init();\r\n    }\r\n    InfinityScroll.prototype.init = function () {\r\n        var _this = this;\r\n        this.handleOptions();\r\n        var _a = this.options, fetchFn = _a.fetch, renderFn = _a.render, createTombstoneFn = _a.createTombstone;\r\n        this.tombstone = new Tombstone(createTombstoneFn);\r\n        this.indexCalculator = new IndexCalculator(this.scroll.scroller.scrollBehaviorY.wrapperSize, this.tombstone.height);\r\n        this.domManager = new DomManager(this.scroll.scroller.content, renderFn, this.tombstone);\r\n        this.dataManager = new DataManager([], fetchFn, this.onFetchFinish.bind(this));\r\n        this.scroll.on(this.scroll.eventTypes.destroy, this.destroy, this);\r\n        this.scroll.on(this.scroll.eventTypes.scroll, this.update, this);\r\n        this.scroll.on(this.scroll.eventTypes.contentChanged, function (content) {\r\n            _this.domManager.setContent(content);\r\n            _this.indexCalculator.resetState();\r\n            _this.domManager.resetState();\r\n            _this.dataManager.resetState();\r\n            _this.update({ y: 0 });\r\n        });\r\n        var scrollBehaviorY = this.scroll.scroller.scrollBehaviorY;\r\n        scrollBehaviorY.hooks.on(scrollBehaviorY.hooks.eventTypes.computeBoundary, this.modifyBoundary, this);\r\n        this.update({ y: 0 });\r\n    };\r\n    InfinityScroll.prototype.modifyBoundary = function (boundary) {\r\n        // manually set position to allow scroll\r\n        boundary.maxScrollPos = EXTRA_SCROLL_Y;\r\n    };\r\n    InfinityScroll.prototype.handleOptions = function () {\r\n        // narrow down type to an object\r\n        var infinityOptions = this.scroll.options.infinity;\r\n        if (infinityOptions) {\r\n            if (typeof infinityOptions.fetch !== 'function') {\r\n                warn('Infinity plugin need fetch Function to new data.');\r\n            }\r\n            if (typeof infinityOptions.render !== 'function') {\r\n                warn('Infinity plugin need render Function to render each item.');\r\n            }\r\n            if (typeof infinityOptions.render !== 'function') {\r\n                warn('Infinity plugin need createTombstone Function to create tombstone.');\r\n            }\r\n            this.options = infinityOptions;\r\n        }\r\n        this.scroll.options.probeType = 3 /* Realtime */;\r\n    };\r\n    InfinityScroll.prototype.update = function (pos) {\r\n        var position = Math.round(-pos.y);\r\n        // important! calculate start/end index to render\r\n        var _a = this.indexCalculator.calculate(position, this.dataManager.getList()), start = _a.start, end = _a.end;\r\n        this.start = start;\r\n        this.end = end;\r\n        // tslint:disable-next-line: no-floating-promises\r\n        this.dataManager.update(end);\r\n        this.updateDom(this.dataManager.getList());\r\n    };\r\n    InfinityScroll.prototype.onFetchFinish = function (list, hasMore) {\r\n        var end = this.updateDom(list).end;\r\n        if (!hasMore) {\r\n            this.domManager.removeTombstone();\r\n            this.scroll.scroller.animater.stop();\r\n            this.scroll.resetPosition();\r\n        }\r\n        // tslint:disable-next-line: no-floating-promises\r\n        return end;\r\n    };\r\n    InfinityScroll.prototype.updateDom = function (list) {\r\n        var _a = this.domManager.update(list, this.start, this.end), end = _a.end, startPos = _a.startPos, endPos = _a.endPos, startDelta = _a.startDelta;\r\n        if (startDelta) {\r\n            this.scroll.minScrollY = startDelta;\r\n        }\r\n        if (endPos > this.scroll.maxScrollY) {\r\n            this.scroll.maxScrollY = -(endPos - this.scroll.scroller.scrollBehaviorY.wrapperSize);\r\n        }\r\n        return {\r\n            end: end,\r\n            startPos: startPos,\r\n            endPos: endPos,\r\n        };\r\n    };\r\n    InfinityScroll.prototype.destroy = function () {\r\n        var _a = this.scroll.scroller, content = _a.content, scrollBehaviorY = _a.scrollBehaviorY;\r\n        while (content.firstChild) {\r\n            content.removeChild(content.firstChild);\r\n        }\r\n        this.domManager.destroy();\r\n        this.scroll.off('scroll', this.update);\r\n        this.scroll.off('destroy', this.destroy);\r\n        scrollBehaviorY.hooks.off(scrollBehaviorY.hooks.eventTypes.computeBoundary);\r\n    };\r\n    InfinityScroll.pluginName = 'infinity';\r\n    return InfinityScroll;\r\n}());\n\nvar sourcePrefix = 'plugins.movable';\r\nvar propertiesMap = [\r\n    {\r\n        key: 'putAt',\r\n        name: 'putAt',\r\n    },\r\n];\r\nvar propertiesConfig = propertiesMap.map(function (item) {\r\n    return {\r\n        key: item.key,\r\n        sourceKey: sourcePrefix + \".\" + item.name,\r\n    };\r\n});\n\nvar Movable = /** @class */ (function () {\r\n    function Movable(scroll) {\r\n        this.scroll = scroll;\r\n        this.handleBScroll();\r\n        this.handleHooks();\r\n    }\r\n    Movable.prototype.handleBScroll = function () {\r\n        this.scroll.proxy(propertiesConfig);\r\n    };\r\n    Movable.prototype.handleHooks = function () {\r\n        var _this = this;\r\n        this.hooksFn = [];\r\n        var _a = this.scroll.scroller, scrollBehaviorX = _a.scrollBehaviorX, scrollBehaviorY = _a.scrollBehaviorY;\r\n        var computeBoundary = function (boundary, behavior) {\r\n            if (boundary.maxScrollPos > 0) {\r\n                // content is smaller than wrapper\r\n                boundary.minScrollPos = behavior.wrapperSize - behavior.contentSize;\r\n                boundary.maxScrollPos = 0;\r\n            }\r\n        };\r\n        this.registerHooks(scrollBehaviorX.hooks, scrollBehaviorX.hooks.eventTypes.ignoreHasScroll, function () { return true; });\r\n        this.registerHooks(scrollBehaviorX.hooks, scrollBehaviorX.hooks.eventTypes.computeBoundary, function (boundary) {\r\n            computeBoundary(boundary, scrollBehaviorX);\r\n        });\r\n        this.registerHooks(scrollBehaviorY.hooks, scrollBehaviorY.hooks.eventTypes.ignoreHasScroll, function () { return true; });\r\n        this.registerHooks(scrollBehaviorY.hooks, scrollBehaviorY.hooks.eventTypes.computeBoundary, function (boundary) {\r\n            computeBoundary(boundary, scrollBehaviorY);\r\n        });\r\n        this.registerHooks(this.scroll.hooks, this.scroll.hooks.eventTypes.destroy, function () {\r\n            _this.destroy();\r\n        });\r\n    };\r\n    Movable.prototype.putAt = function (x, y, time, easing) {\r\n        if (time === void 0) { time = this.scroll.options.bounceTime; }\r\n        if (easing === void 0) { easing = ease.bounce; }\r\n        var position = this.resolvePostion(x, y);\r\n        this.scroll.scrollTo(position.x, position.y, time, easing);\r\n    };\r\n    Movable.prototype.resolvePostion = function (x, y) {\r\n        var _a = this.scroll.scroller, scrollBehaviorX = _a.scrollBehaviorX, scrollBehaviorY = _a.scrollBehaviorY;\r\n        var resolveFormula = {\r\n            left: function () {\r\n                return 0;\r\n            },\r\n            top: function () {\r\n                return 0;\r\n            },\r\n            right: function () {\r\n                return scrollBehaviorX.minScrollPos;\r\n            },\r\n            bottom: function () {\r\n                return scrollBehaviorY.minScrollPos;\r\n            },\r\n            center: function (index) {\r\n                var baseSize = index === 0\r\n                    ? scrollBehaviorX.minScrollPos\r\n                    : scrollBehaviorY.minScrollPos;\r\n                return baseSize / 2;\r\n            },\r\n        };\r\n        return {\r\n            x: typeof x === 'number' ? x : resolveFormula[x](0),\r\n            y: typeof y === 'number' ? y : resolveFormula[y](1),\r\n        };\r\n    };\r\n    Movable.prototype.destroy = function () {\r\n        this.hooksFn.forEach(function (item) {\r\n            var hooks = item[0];\r\n            var hooksName = item[1];\r\n            var handlerFn = item[2];\r\n            hooks.off(hooksName, handlerFn);\r\n        });\r\n        this.hooksFn.length = 0;\r\n    };\r\n    Movable.prototype.registerHooks = function (hooks, name, handler) {\r\n        hooks.on(name, handler, this);\r\n        this.hooksFn.push([hooks, name, handler]);\r\n    };\r\n    Movable.pluginName = 'movable';\r\n    Movable.applyOrder = \"pre\" /* Pre */;\r\n    return Movable;\r\n}());\n\nvar isImageTag = function (el) {\r\n    return el.tagName.toLowerCase() === 'img';\r\n};\r\nvar ObserveImage = /** @class */ (function () {\r\n    function ObserveImage(scroll) {\r\n        this.scroll = scroll;\r\n        this.refreshTimer = 0;\r\n        this.init();\r\n    }\r\n    ObserveImage.prototype.init = function () {\r\n        this.handleOptions(this.scroll.options.observeImage);\r\n        this.bindEventsToWrapper();\r\n    };\r\n    ObserveImage.prototype.handleOptions = function (userOptions) {\r\n        if (userOptions === void 0) { userOptions = {}; }\r\n        userOptions = (userOptions === true ? {} : userOptions);\r\n        var defaultOptions = {\r\n            debounceTime: 100,\r\n        };\r\n        this.options = extend(defaultOptions, userOptions);\r\n    };\r\n    ObserveImage.prototype.bindEventsToWrapper = function () {\r\n        var wrapper = this.scroll.scroller.wrapper;\r\n        this.imageLoadEventRegister = new EventRegister(wrapper, [\r\n            {\r\n                name: 'load',\r\n                handler: this.load.bind(this),\r\n                capture: true,\r\n            },\r\n        ]);\r\n        this.imageErrorEventRegister = new EventRegister(wrapper, [\r\n            {\r\n                name: 'error',\r\n                handler: this.load.bind(this),\r\n                capture: true,\r\n            },\r\n        ]);\r\n    };\r\n    ObserveImage.prototype.load = function (e) {\r\n        var _this = this;\r\n        var target = e.target;\r\n        var debounceTime = this.options.debounceTime;\r\n        if (target && isImageTag(target)) {\r\n            if (debounceTime === 0) {\r\n                this.scroll.refresh();\r\n            }\r\n            else {\r\n                clearTimeout(this.refreshTimer);\r\n                this.refreshTimer = window.setTimeout(function () {\r\n                    _this.scroll.refresh();\r\n                }, this.options.debounceTime);\r\n            }\r\n        }\r\n    };\r\n    ObserveImage.pluginName = 'observeImage';\r\n    return ObserveImage;\r\n}());\n\nvar resolveRatioOption = function (ratioConfig) {\r\n    var ret = {\r\n        ratioX: 0,\r\n        ratioY: 0,\r\n    };\r\n    /* istanbul ignore if  */\r\n    if (!ratioConfig) {\r\n        return ret;\r\n    }\r\n    if (typeof ratioConfig === 'number') {\r\n        ret.ratioX = ret.ratioY = ratioConfig;\r\n    }\r\n    else if (typeof ratioConfig === 'object' && ratioConfig) {\r\n        ret.ratioX = ratioConfig.x || 0;\r\n        ret.ratioY = ratioConfig.y || 0;\r\n    }\r\n    return ret;\r\n};\r\nvar handleBubbleAndCancelable = function (e) {\r\n    e.preventDefault();\r\n    e.stopPropagation();\r\n};\r\nvar Indicator = /** @class */ (function () {\r\n    function Indicator(scroll, options) {\r\n        this.scroll = scroll;\r\n        this.options = options;\r\n        this.currentPos = {\r\n            x: 0,\r\n            y: 0,\r\n        };\r\n        this.hooksFn = [];\r\n        this.handleDOM();\r\n        this.handleHooks();\r\n        this.handleInteractive();\r\n    }\r\n    Indicator.prototype.handleDOM = function () {\r\n        var _a = this.options, relationElement = _a.relationElement, _b = _a.relationElementHandleElementIndex, relationElementHandleElementIndex = _b === void 0 ? 0 : _b;\r\n        this.wrapper = relationElement;\r\n        this.indicatorEl = this.wrapper.children[relationElementHandleElementIndex];\r\n    };\r\n    Indicator.prototype.handleHooks = function () {\r\n        var _this = this;\r\n        var scroll = this.scroll;\r\n        var scrollHooks = scroll.hooks;\r\n        var translaterHooks = scroll.scroller.translater.hooks;\r\n        var animaterHooks = scroll.scroller.animater.hooks;\r\n        this.registerHooks(scrollHooks, scrollHooks.eventTypes.refresh, this.refresh);\r\n        this.registerHooks(translaterHooks, translaterHooks.eventTypes.translate, function (pos) {\r\n            _this.updatePosition(pos);\r\n        });\r\n        this.registerHooks(animaterHooks, animaterHooks.eventTypes.time, this.transitionTime);\r\n        this.registerHooks(animaterHooks, animaterHooks.eventTypes.timeFunction, this.transitionTimingFunction);\r\n    };\r\n    Indicator.prototype.transitionTime = function (time) {\r\n        if (time === void 0) { time = 0; }\r\n        this.indicatorEl.style[style.transitionDuration] = time + 'ms';\r\n    };\r\n    Indicator.prototype.transitionTimingFunction = function (easing) {\r\n        this.indicatorEl.style[style.transitionTimingFunction] = easing;\r\n    };\r\n    Indicator.prototype.handleInteractive = function () {\r\n        if (this.options.interactive !== false) {\r\n            this.registerEvents();\r\n        }\r\n    };\r\n    Indicator.prototype.registerHooks = function (hooks, name, handler) {\r\n        hooks.on(name, handler, this);\r\n        this.hooksFn.push([hooks, name, handler]);\r\n    };\r\n    Indicator.prototype.registerEvents = function () {\r\n        var _a = this.scroll.options, disableMouse = _a.disableMouse, disableTouch = _a.disableTouch;\r\n        var startEvents = [];\r\n        var moveEvents = [];\r\n        var endEvents = [];\r\n        if (!disableMouse) {\r\n            startEvents.push({\r\n                name: 'mousedown',\r\n                handler: this.start.bind(this),\r\n            });\r\n            moveEvents.push({\r\n                name: 'mousemove',\r\n                handler: this.move.bind(this),\r\n            });\r\n            endEvents.push({\r\n                name: 'mouseup',\r\n                handler: this.end.bind(this),\r\n            });\r\n        }\r\n        if (!disableTouch) {\r\n            startEvents.push({\r\n                name: 'touchstart',\r\n                handler: this.start.bind(this),\r\n            });\r\n            moveEvents.push({\r\n                name: 'touchmove',\r\n                handler: this.move.bind(this),\r\n            });\r\n            endEvents.push({\r\n                name: 'touchend',\r\n                handler: this.end.bind(this),\r\n            }, {\r\n                name: 'touchcancel',\r\n                handler: this.end.bind(this),\r\n            });\r\n        }\r\n        this.startEventRegister = new EventRegister(this.indicatorEl, startEvents);\r\n        this.moveEventRegister = new EventRegister(window, moveEvents);\r\n        this.endEventRegister = new EventRegister(window, endEvents);\r\n    };\r\n    Indicator.prototype.refresh = function () {\r\n        var _a = this.scroll, x = _a.x, y = _a.y, hasHorizontalScroll = _a.hasHorizontalScroll, hasVerticalScroll = _a.hasVerticalScroll, maxBScrollX = _a.maxScrollX, maxBScrollY = _a.maxScrollY;\r\n        var _b = resolveRatioOption(this.options.ratio), ratioX = _b.ratioX, ratioY = _b.ratioY;\r\n        var _c = getClientSize(this.wrapper), wrapperWidth = _c.width, wrapperHeight = _c.height;\r\n        var _d = getRect(this.indicatorEl), indicatorWidth = _d.width, indicatorHeight = _d.height;\r\n        if (hasHorizontalScroll) {\r\n            this.maxScrollX = wrapperWidth - indicatorWidth;\r\n            this.translateXSign =\r\n                this.maxScrollX > 0 ? -1 /* Positive */ : 1 /* NotPositive */;\r\n            this.minScrollX = 0;\r\n            // ensure positive\r\n            this.ratioX = ratioX ? ratioX : Math.abs(this.maxScrollX / maxBScrollX);\r\n        }\r\n        if (hasVerticalScroll) {\r\n            this.maxScrollY = wrapperHeight - indicatorHeight;\r\n            this.translateYSign =\r\n                this.maxScrollY > 0 ? -1 /* Positive */ : 1 /* NotPositive */;\r\n            this.minScrollY = 0;\r\n            this.ratioY = ratioY ? ratioY : Math.abs(this.maxScrollY / maxBScrollY);\r\n        }\r\n        this.updatePosition({\r\n            x: x,\r\n            y: y,\r\n        });\r\n    };\r\n    Indicator.prototype.start = function (e) {\r\n        if (this.BScrollIsDisabled()) {\r\n            return;\r\n        }\r\n        var point = (e.touches ? e.touches[0] : e);\r\n        handleBubbleAndCancelable(e);\r\n        this.initiated = true;\r\n        this.moved = false;\r\n        this.lastPointX = point.pageX;\r\n        this.lastPointY = point.pageY;\r\n        this.startTime = getNow();\r\n        this.scroll.scroller.hooks.trigger(this.scroll.scroller.hooks.eventTypes.beforeScrollStart);\r\n    };\r\n    Indicator.prototype.BScrollIsDisabled = function () {\r\n        return !this.scroll.enabled;\r\n    };\r\n    Indicator.prototype.move = function (e) {\r\n        if (!this.initiated) {\r\n            return;\r\n        }\r\n        var point = (e.touches ? e.touches[0] : e);\r\n        var pointX = point.pageX;\r\n        var pointY = point.pageY;\r\n        handleBubbleAndCancelable(e);\r\n        var deltaX = pointX - this.lastPointX;\r\n        var deltaY = pointY - this.lastPointY;\r\n        this.lastPointX = pointX;\r\n        this.lastPointY = pointY;\r\n        if (!this.moved && !this.indicatorNotMoved(deltaX, deltaY)) {\r\n            this.moved = true;\r\n            this.scroll.scroller.hooks.trigger(this.scroll.scroller.hooks.eventTypes.scrollStart);\r\n        }\r\n        if (this.moved) {\r\n            var newPos = this.getBScrollPosByRatio(this.currentPos, deltaX, deltaY);\r\n            this.syncBScroll(newPos);\r\n        }\r\n    };\r\n    Indicator.prototype.end = function (e) {\r\n        if (!this.initiated) {\r\n            return;\r\n        }\r\n        this.initiated = false;\r\n        handleBubbleAndCancelable(e);\r\n        if (this.moved) {\r\n            var _a = this.scroll, x = _a.x, y = _a.y;\r\n            this.scroll.scroller.hooks.trigger(this.scroll.scroller.hooks.eventTypes.scrollEnd, {\r\n                x: x,\r\n                y: y,\r\n            });\r\n        }\r\n    };\r\n    Indicator.prototype.getBScrollPosByRatio = function (currentPos, deltaX, deltaY) {\r\n        var currentX = currentPos.x, currentY = currentPos.y;\r\n        var _a = this.scroll, hasHorizontalScroll = _a.hasHorizontalScroll, hasVerticalScroll = _a.hasVerticalScroll, BScrollMinScrollX = _a.minScrollX, BScrollMaxScrollX = _a.maxScrollX, BScrollMinScrollY = _a.minScrollY, BScrollMaxScrollY = _a.maxScrollY;\r\n        var _b = this.scroll, x = _b.x, y = _b.y;\r\n        if (hasHorizontalScroll) {\r\n            var newPosX = between(currentX + deltaX, Math.min(this.minScrollX, this.maxScrollX), Math.max(this.minScrollX, this.maxScrollX));\r\n            var roundX = Math.round((newPosX / this.ratioX) * this.translateXSign);\r\n            x = between(roundX, BScrollMaxScrollX, BScrollMinScrollX);\r\n        }\r\n        if (hasVerticalScroll) {\r\n            var newPosY = between(currentY + deltaY, Math.min(this.minScrollY, this.maxScrollY), Math.max(this.minScrollY, this.maxScrollY));\r\n            var roundY = Math.round((newPosY / this.ratioY) * this.translateYSign);\r\n            y = between(roundY, BScrollMaxScrollY, BScrollMinScrollY);\r\n        }\r\n        return { x: x, y: y };\r\n    };\r\n    Indicator.prototype.indicatorNotMoved = function (deltaX, deltaY) {\r\n        var _a = this.currentPos, x = _a.x, y = _a.y;\r\n        var xNotMoved = (x === this.minScrollX && deltaX <= 0) ||\r\n            (x === this.maxScrollX && deltaX >= 0);\r\n        var yNotMoved = (y === this.minScrollY && deltaY <= 0) ||\r\n            (y === this.maxScrollY && deltaY >= 0);\r\n        return xNotMoved && yNotMoved;\r\n    };\r\n    Indicator.prototype.syncBScroll = function (newPos) {\r\n        var timestamp = getNow();\r\n        var _a = this.scroll, options = _a.options, scroller = _a.scroller;\r\n        var probeType = options.probeType, momentumLimitTime = options.momentumLimitTime;\r\n        scroller.translater.translate(newPos);\r\n        // dispatch scroll in interval time\r\n        if (timestamp - this.startTime > momentumLimitTime) {\r\n            this.startTime = timestamp;\r\n            if (probeType === 1 /* Throttle */) {\r\n                scroller.hooks.trigger(scroller.hooks.eventTypes.scroll, newPos);\r\n            }\r\n        }\r\n        // dispatch scroll all the time\r\n        if (probeType > 1 /* Throttle */) {\r\n            scroller.hooks.trigger(scroller.hooks.eventTypes.scroll, newPos);\r\n        }\r\n    };\r\n    Indicator.prototype.updatePosition = function (BScrollPos) {\r\n        var newIndicatorPos = this.getIndicatorPosByRatio(BScrollPos);\r\n        this.applyTransformProperty(newIndicatorPos);\r\n        this.currentPos = __assign({}, newIndicatorPos);\r\n    };\r\n    Indicator.prototype.applyTransformProperty = function (pos) {\r\n        var translateZ = this.scroll.options.translateZ;\r\n        var transformProperties = [\r\n            \"translateX(\" + pos.x + \"px)\",\r\n            \"translateY(\" + pos.y + \"px)\",\r\n            \"\" + translateZ,\r\n        ];\r\n        this.indicatorEl.style[style.transform] = transformProperties.join(' ');\r\n    };\r\n    Indicator.prototype.getIndicatorPosByRatio = function (BScrollPos) {\r\n        var x = BScrollPos.x, y = BScrollPos.y;\r\n        var _a = this.scroll, hasHorizontalScroll = _a.hasHorizontalScroll, hasVerticalScroll = _a.hasVerticalScroll;\r\n        var position = __assign({}, this.currentPos);\r\n        if (hasHorizontalScroll) {\r\n            var roundX = Math.round(this.ratioX * x * this.translateXSign);\r\n            // maybe maxScrollX is negative\r\n            position.x = between(roundX, Math.min(this.minScrollX, this.maxScrollX), Math.max(this.minScrollX, this.maxScrollX));\r\n        }\r\n        if (hasVerticalScroll) {\r\n            var roundY = Math.round(this.ratioY * y * this.translateYSign);\r\n            // maybe maxScrollY is negative\r\n            position.y = between(roundY, Math.min(this.minScrollY, this.maxScrollY), Math.max(this.minScrollY, this.maxScrollY));\r\n        }\r\n        return position;\r\n    };\r\n    Indicator.prototype.destroy = function () {\r\n        if (this.options.interactive !== false) {\r\n            this.startEventRegister.destroy();\r\n            this.moveEventRegister.destroy();\r\n            this.endEventRegister.destroy();\r\n        }\r\n        this.hooksFn.forEach(function (item) {\r\n            var hooks = item[0];\r\n            var hooksName = item[1];\r\n            var handlerFn = item[2];\r\n            hooks.off(hooksName, handlerFn);\r\n        });\r\n        this.hooksFn.length = 0;\r\n    };\r\n    return Indicator;\r\n}());\n\nvar Indicators = /** @class */ (function () {\r\n    function Indicators(scroll) {\r\n        this.scroll = scroll;\r\n        this.options = [];\r\n        this.indicators = [];\r\n        this.handleOptions();\r\n        this.handleHooks();\r\n    }\r\n    Indicators.prototype.handleOptions = function () {\r\n        var UserIndicatorsOptions = this.scroll.options.indicators;\r\n        assert(Array.isArray(UserIndicatorsOptions), \"'indicators' must be an array.\");\r\n        for (var _i = 0, UserIndicatorsOptions_1 = UserIndicatorsOptions; _i < UserIndicatorsOptions_1.length; _i++) {\r\n            var indicatorOptions = UserIndicatorsOptions_1[_i];\r\n            assert(!!indicatorOptions.relationElement, \"'relationElement' must be a HTMLElement.\");\r\n            this.createIndicators(indicatorOptions);\r\n        }\r\n    };\r\n    Indicators.prototype.createIndicators = function (options) {\r\n        this.indicators.push(new Indicator(this.scroll, options));\r\n    };\r\n    Indicators.prototype.handleHooks = function () {\r\n        var _this = this;\r\n        var scrollHooks = this.scroll.hooks;\r\n        scrollHooks.on(scrollHooks.eventTypes.destroy, function () {\r\n            for (var _i = 0, _a = _this.indicators; _i < _a.length; _i++) {\r\n                var indicator = _a[_i];\r\n                indicator.destroy();\r\n            }\r\n            _this.indicators = [];\r\n        });\r\n    };\r\n    Indicators.pluginName = 'indicators';\r\n    return Indicators;\r\n}());\n\nBScroll.use(MouseWheel)\r\n    .use(ObserveDOM)\r\n    .use(PullDown)\r\n    .use(PullUp)\r\n    .use(ScrollBar)\r\n    .use(Slide)\r\n    .use(Wheel)\r\n    .use(Zoom)\r\n    .use(NestedScroll)\r\n    .use(InfinityScroll)\r\n    .use(Movable)\r\n    .use(ObserveImage)\r\n    .use(Indicators);\n\nexport default BScroll;\nexport { Behavior, CustomOptions, Indicators, InfinityScroll, MouseWheel, Movable, NestedScroll, ObserveDOM as ObserveDom, ObserveImage, PullDown as PullDownRefresh, PullUp as PullUpLoad, ScrollBar, Slide, Wheel, Zoom, createBScroll };\n","import { View, ViewStyle } from './View'\nimport BScroll from 'better-scroll'\nimport { ScrollEvent, ScrollState } from '../event/ScrollEvent'\nimport { EventListener } from '../event/Event'\nimport { nodeObserver } from '../../common/utils'\nexport class HorizontalScroller extends View {\n  _bounces: boolean = true // 滑动到 边缘时是否有回弹效果\n  _showScrollBar: boolean = false // 滑动时是否显示滚动条\n  protected _style: ViewStyle\n  // @ts-ignore\n  private bscroll: BScroll\n  private wrapper: HTMLElement\n  constructor() {\n    super()\n    this.wrapper = document.createElement('span');\n    this.wrapper.classList.add('hm-scroller-content')\n    this.node.appendChild(this.wrapper)\n    this._style = new Proxy(\n      {},\n      {\n        get: (target, key) => {\n          return target[key] || this.node.style[key]\n        },\n        set: (target, key, value) => {\n          switch (key) {\n            case 'justifyContent':\n              this.node.style[key] = value\n              this.wrapper.style[key] = value\n              break;\n            case 'alignItems':\n              this.node.style[key] = value\n              this.wrapper.style[key] = value\n              break;\n            default:\n              this.node.style[key] = value\n              break;\n          }\n          return true\n        }\n      }\n    )\n    nodeObserver(this.node, () => {\n      this.bscroll && this.bscroll.refresh();\n    })\n  }\n  get showScrollBar() {\n    return this._showScrollBar\n  }\n\n  set showScrollBar(value: boolean) {\n    this._showScrollBar = value\n    if (this.bscroll) {\n      this.bscroll.destroy()\n      this.bscroll = null\n      this.refresh()\n    }\n  }\n\n  get bounces() {\n    return this._bounces\n  }\n\n  set bounces(value: boolean) {\n    this._bounces = value\n    if (this.bscroll) {\n      this.bscroll.destroy()\n      this.bscroll = null\n      this.refresh()\n    }\n  }\n\n  protected defaultStyle() {\n    this.node.classList.add('hm-default-horizontal')\n  }\n\n  onMounted() {\n    this.refresh()\n  }\n  onDestoryed() {\n    this.bscroll.destroy()\n  }\n  appendChild(subview: any) {\n    this.wrapper.appendChild(subview.node)\n    subview._onMounted();\n    this.bscroll && this.bscroll.refresh()\n  }\n\n  removeChild(subview: any) {\n    this.wrapper.removeChild(subview.node)\n    this.bscroll && this.bscroll.refresh()\n  }\n\n  insertBefore(subview: any, existingView: View) {\n    this.wrapper.insertBefore(subview.node, existingView.node)\n    subview._onMounted();\n  }\n\n  refresh() {\n    this.refreshListView()\n  }\n\n  /**\n   *  init hm-list-row\n   */\n  private refreshListView() {\n    if (!this.bscroll) {\n      this.bscroll = new BScroll(this.node, {\n        bounce: this._bounces,\n        stopPropagation: true,\n        disableMouse: false,\n        disableTouch: false,\n        scrollX: true,\n        scrollY: false,\n        pullUpLoad: false,\n        pullDownRefresh: false,\n        click: true,\n        dblclick: true,\n        scrollbar: this._showScrollBar,\n        tap: 'tap',\n        probeType: 3,\n        eventPassthrough: 'vertical',\n        observeImage: true,\n        observeDOM: true,\n      })\n      if (\n        this.listeners['scroll'] &&\n        this.listeners['scroll'].length > 0 &&\n        !this.eventListeners['scroll']\n      ) {\n        this.registerBsScrollEvent()\n      }\n\n      if ((this.listeners['scrollToTop'] && this.listeners['scrollToTop'].length > 0) ||\n        (this.listeners['scrollToBottom'] && this.listeners['scrollToBottom'].length > 0)) {\n        let direction = 'none'\n        this.bscroll.on('scroll', (e: any) => {\n          if (e.x >= 0) {\n            if (direction === 'none') {\n              this.listeners['scrollToTop'].forEach(listener => listener())\n            }\n            direction = 'center'\n          } else if (e.x <= this.bscroll.maxScrollX) {\n            if (direction === 'none') {\n              this.listeners['scrollToBottom'].forEach(listener => listener())\n            }\n            direction = 'center'\n          } else if (e.x > this.bscroll.maxScrollX && e.x < 0) {\n            direction = 'none'\n          }\n        })\n      }\n    } else {\n      this.bscroll.refresh();\n    }\n  }\n\n  private registerBsScrollEvent() {\n    if (this.bscroll) {\n      // 如果存在better-scroll对象\n      const scrollStart = () => {\n        const ev = new ScrollEvent()\n        ev.target = this\n        ev.state = ScrollState.BEGAN\n        ev.timestamp = `${Date.now()}`\n        this.listeners['scroll'].forEach(listener => listener(ev))\n      }\n      let oldOffsetY = 0, oldOffsetX = 0;\n      const scroll = (e: any) => {\n        const ev = new ScrollEvent()\n        ev.target = this\n        ev.state = ScrollState.SCROLL\n        ev.timestamp = `${Date.now()}`\n        ev.offsetY = 0\n        ev.offsetX = -e.x\n        ev.dx = ev.offsetX - oldOffsetX\n        ev.dy = ev.offsetY - oldOffsetY\n        oldOffsetY = 0\n        oldOffsetX = -e.x\n        this.listeners['scroll'].forEach(listener => listener(ev))\n      }\n      const scrollEnd = (e: any) => {\n        const ev = new ScrollEvent()\n        ev.target = this\n        ev.state = ScrollState.ENDED\n        ev.timestamp = `${Date.now()}`\n        ev.offsetY = 0\n        ev.offsetX = -e.x\n        ev.dx = ev.offsetX - oldOffsetX\n        ev.dy = ev.offsetY - oldOffsetY\n        oldOffsetY = 0\n        oldOffsetX = -e.x\n        this.listeners['scroll'].forEach(listener => listener(ev))\n      }\n      const touchEnd = (e: any) => {\n        const ev = new ScrollEvent()\n        ev.target = this\n        ev.state = ScrollState.SCROLL_UP\n        ev.timestamp = `${Date.now()}`\n        ev.offsetY = 0\n        ev.offsetX = -e.x\n        ev.dx = ev.offsetX - oldOffsetX\n        ev.dy = ev.offsetY - oldOffsetY\n        oldOffsetY = 0\n        oldOffsetX = -e.x\n        this.listeners['scroll'].forEach(listener => listener(ev))\n      }\n\n      this.bscroll.on('touchEnd', touchEnd)\n      this.bscroll.on('scrollStart', scrollStart)\n      this.bscroll.on('scroll', scroll)\n      this.bscroll.on('scrollEnd', scrollEnd)\n      this.eventListeners['scroll'] = { scrollStart, scroll, scrollEnd, touchEnd }\n    }\n  }\n\n  addEventListener(key: 'scroll', listener: EventListener) {\n    if (!this.listeners[key]) {\n      this.listeners[key] = []\n    }\n    // 将事件callback加入到事件队列\n    this.listeners[key].push(listener)\n    // 注册better-scroll事件监听\n    if (!this.eventListeners[key]) {\n      // 如果没有监听scroll事件\n      this.registerBsScrollEvent()\n    }\n  }\n\n  removeEventListener(key: 'scroll', listener: EventListener) {\n    if (this.listeners[key]) {\n      // 将事件从事件队列中删除\n      this.listeners[key] = this.listeners[key].filter(\n        _listener => _listener !== listener\n      )\n      // 如果事件队列为空，取消事件监听\n      if (this.listeners[key].length === 0) {\n        if (this.eventListeners[key]) {\n          const { scrollStart, scroll, scrollEnd } = this.eventListeners[key]\n          this.bscroll.off('scrollStart', scrollStart)\n          this.bscroll.off('scroll', scroll)\n          this.bscroll.off('scrollEnd', scrollEnd)\n          // @ts-ignore\n          this.eventListeners[key] = null\n        }\n      }\n    }\n  }\n\n  /**\n   * 滚动到坐标\n   */\n  scrollTo(x: number, y: number) {\n    if (this.bscroll) {\n      this.bscroll.scrollTo(-x, -y, 300)\n    }\n  }\n\n  /**\n   * 滚动一定距离\n   */\n  scrollBy(dx: number, dy: number) {\n    if (this.bscroll) {\n      this.bscroll.scrollBy(dx, dy, 300)\n    }\n  }\n\n  /**\n   * 滚动到顶部\n   */\n  scrollToTop() {\n    if (this.bscroll) {\n      this.bscroll.scrollTo(0, 0, 300)\n    }\n  }\n\n  /**\n   * 滚动到底部\n   */\n  scrollToBottom() {\n    if (this.bscroll) {\n      this.bscroll.scrollTo(this.bscroll.maxScrollX, 0, 300)\n    }\n  }\n\n  /**\n   * 滚动到顶部事件监听\n   */\n  setOnScrollToTopListener(callback: EventListener) {\n    if (!this.listeners['scrollToTop']) {\n      this.listeners['scrollToTop'] = []\n    }\n    this.listeners['scrollToTop'].push(callback)\n  }\n\n  /**\n   * 滚动到底部事件监听\n   */\n  setOnScrollToBottomListener(callback: EventListener) {\n    if (!this.listeners['scrollToBottom']) {\n      this.listeners['scrollToBottom'] = []\n    }\n    this.listeners['scrollToBottom'].push(callback)\n  }\n\n  /**\n   * 更新滚动视图大小（iOS独有方法）\n   */\n  updateContentSize() {\n    if (this.bscroll) {\n      this.bscroll.refresh()\n    }\n  }\n}\n","import { View, ViewStyle, SIZE_STYLE } from './View'\nimport { styleTransformer } from '../../common/style'\nexport const INPUT_SIZE_STYLE: Array<any> = ['fontSize'].concat(SIZE_STYLE)\nexport interface InputStyle extends ViewStyle {\n  type?: 'default' | 'number' | 'tel' | 'email' | 'password'\n  color?: string\n  placeholderColor?: string\n  cursorColor?: string\n  textAlign?: 'left' | 'center' | 'right'\n  fontFamily?: string\n  // placeholderFontSize?: string\n  maxLength?: number\n  fontSize?: string | number\n  returnKeyType?: 'done' | 'go' | 'next' | 'search' | 'send'\n}\n\nexport class Input extends View {\n  protected _style: InputStyle\n\n  protected _randomPlaceholderClass!: string\n  protected _placeholderCssIndex: number = 0\n\n  constructor() {\n    super()\n    this._style = new Proxy(this._style,{\n        get: (target, key) => {\n          switch (key) {\n            case 'type':\n              // @ts-ignore\n              return target[key] || this.node.type\n            case 'maxLength':\n              // @ts-ignore\n              return target[key] || this.node.maxLength\n            case 'placeholderColor':\n            case 'placeholderFontSize':\n            case 'returnKeyType':\n              // @ts-ignore\n              return target[key]\n            case 'cursorColor':\n              // @ts-ignore\n              return target[key] || this.node.style['caretColor']\n            case 'color':\n            case 'fontSize':\n            default:\n              // @ts-ignore\n              return target[key] || this.node.style[key]\n          }\n          // 获取style\n        },\n        set: (target, key, value) => {\n          // 设置style\n          target[key] = value\n          switch (key) {\n            case 'type':\n              this.node.type!=='textarea'&&(this.node.type = value)\n              break\n            case 'placeholderColor':\n              this.changePlaceholder({\n                color: value,\n                fontSize: this.style.fontSize\n              })\n              break\n            case 'placeholderFontSize':\n              this.changePlaceholder({\n                color: this.style.placeholderColor,\n                fontSize: value\n              })\n              break\n            case 'cursorColor':\n              this.node.style.caretColor = value\n              break\n            case 'maxLength':\n              this.node.maxLength = value\n              break\n            case 'returnKeyType':\n              break\n            case 'color':\n            case 'fontSize':\n            default:\n              this.node.style[key] = value\n          }\n          return true\n        }\n      }\n    )\n  }\n  protected defaultStyle() {\n    this.node.classList.add('hm-default-inline')\n  }\n  /**\n   * 通过添加伪类::placeholder来修改placeholder\n   */\n  // @ts-ignore\n  protected changePlaceholder({ fontSize, color }) {\n    this.node.classList.remove(this._randomPlaceholderClass)\n    this._randomPlaceholderClass = `hm-placeholder-${++this\n      ._placeholderCssIndex}`\n    this.node.classList.add(this._randomPlaceholderClass)\n    if (document.styleSheets.item(0)) {\n      const item: any = document.styleSheets.item(0)\n      if (item.insertRule) {\n        item.insertRule(\n          `.${this._randomPlaceholderClass}::placeholder {font-size: ${fontSize}; color: ${color};}`,\n          item.cssRules.length\n        )\n      }\n    }\n  }\n\n  protected createNode() {\n    this.node = document.createElement('input')\n  }\n\n  get text() {\n    return this.node.value\n  }\n\n  set text(value) {\n    this.node.value = value\n  }\n\n  get focused() {\n    return document.activeElement === this.node\n  }\n\n  set focused(focused: boolean) {\n    if (focused) {\n      this.node.focus()\n    } else {\n      this.node.blur()\n    }\n  }\n\n  get placeholder() {\n    return this.node.placeholder\n  }\n\n  set placeholder(value) {\n    this.node.placeholder = value\n  }\n\n  get style() {\n    return this._style\n  }\n\n  set style(_style: InputStyle) {\n    let deepStyle = JSON.parse(JSON.stringify(_style))\n    let standardStyle = styleTransformer.transformStyle(deepStyle);\n    this._style = Object.assign(this._style, standardStyle)\n  }\n\n  clear() {\n    this.text = ''\n  }\n}\n","import BScroll from 'better-scroll'\nimport { View, ViewStyle } from './View'\nimport { ScrollEvent, ScrollState } from '../event/ScrollEvent'\nimport { EventListener } from '../event/Event'\n// import { Hummer } from '../../base/Global'\nimport { formatUnit } from '../../common/utils'\nimport { nodeObserver } from '../../common/utils'\nimport { styleTransformer } from '../../common/style'\nexport interface ListStyle extends ViewStyle {\n  mode?: 'list' | 'grid' | 'waterfall'\n  scrollDirection?: 'vertical' | 'horizontal'\n  column?: number\n  lineSpacing?: number | string\n  itemSpacing?: number | string\n  leftSpacing?: number | string\n  rightSpacing?: number | string\n  topSpacing?: number | string\n  bottomSpacing?: number | string\n  bounces?: boolean,\n}\n\nexport class List extends View {\n  refreshView!: View\n  loadMoreView!: View\n  showScrollBar: boolean = false // 滑动时是否显示滚动条\n  bounces: boolean = true // 滑动到 边缘时是否有回弹效果\n  isMoreData: boolean = true\n  protected _style: ListStyle\n  protected mode: 'list' | 'grid' | 'waterfall' = 'list'\n  private rowCount: number = 0\n  private _listRows: View[] = []\n  private _gridRows: View[] = []\n  private _waterfalls: View[] = []\n\n  private wrapper: View\n  private recyclerView: View\n  // @ts-ignore\n  private bscroll: BScroll\n\n  constructor() {\n    super()\n    this.wrapper = new View()\n    this.wrapper.node.classList.add('hm-list-content')\n    this.appendChild(this.wrapper)\n    this.recyclerView = new View()\n    this.wrapper.appendChild(this.recyclerView)\n    this.node.classList.add('hm-list')\n    this.node.classList.add('vertical')\n    this.node.classList.add('hm-list-wrapper')\n    // @ts-ignore\n    this._style = new Proxy(this._style, {\n      get: (target, key) => {\n        // 获取style\n        // @ts-ignore\n        return target[key] || this.node.style[key]\n      },\n      set: (target, key, value) => {\n        // 设置style\n        // @ts-ignore\n        target[key] = value\n        switch (key) {\n          case 'mode':\n            this.mode = value\n            this.bscroll && this.refresh(this.rowCount)\n            break\n          case 'scrollDirection':\n            if (value === 'vertical') {\n              this.node.classList.remove('horizontal')\n              this.node.classList.add(value)\n            } else if (value === 'horizontal') {\n              this.node.classList.remove('horizontal')\n              this.node.classList.remove('vertical')\n            }\n            break\n          case 'column':\n            this.bscroll && this.refresh(this.rowCount)\n            break\n          case 'lineSpacing':\n            this.recyclerView?.node?.childNodes?.forEach((element: Element, index: Number) => {\n              if (this.style.scrollDirection === 'horizontal') {\n                if (value && index > 0) {\n                  // @ts-ignore\n                  element.style.marginLeft = formatUnit(value)\n                }\n              } else {\n                // 竖向滚动\n                if (value && index > 0) {\n                  // @ts-ignore\n                  element.style.marginTop = formatUnit(value)\n                }\n              }\n            });\n            break\n          case 'itemSpacing':\n            this.bscroll && this.refresh(this.rowCount)\n            break\n          case 'bounces':\n            if (this.bscroll) {\n              this.bscroll.destroy()\n              this.bscroll = null\n              this.refresh(this.rowCount)\n            }\n            break\n          case 'leftSpacing':\n            this.recyclerView.style['paddingLeft'] = formatUnit(value)\n            break\n          case 'rightSpacing':\n            this.recyclerView.style['paddingRight'] = formatUnit(value)\n            break\n          case 'topSpacing':\n            this.recyclerView.style['paddingTop'] = formatUnit(value)\n            break\n          case 'bottomSpacing':\n            this.recyclerView.style['paddingBottom'] = formatUnit(value)\n            break\n          default:\n            this.node.style[key] = styleTransformer.transformStyle(value)\n            break\n        }\n        return true\n      }\n    })\n    nodeObserver(this.wrapper.node, () => {\n      this.refreshView && (this.refreshView.style = {\n        position: 'absolute',\n        top: '0',\n        left: '0',\n        transform: 'translateY(-100%) translateZ(0)',\n        width: '100%',\n      })\n      if (this.bscroll) {\n        this.refreshView && this.bscroll.openPullDown({\n          stop: this.refreshView.node.offsetHeight\n        });\n        if (this.mode === 'waterfall' && this.recyclerView.node.offsetHeight) {\n          this.computeElement()\n        }\n        this.bscroll.refresh()\n      }\n    })\n  }\n\n  onDestoryed() {\n    this.bscroll.destroy()\n  }\n\n  protected defaultStyle() {\n    this.node.classList.add('hm-list')\n  }\n\n  /**\n   * @not support\n   */\n  onRegister!: (position: number) => number\n  /**\n   * @ignore\n   */\n  onCreate!: (type: number) => View\n  /**\n   * @not support\n   */\n  onUpdate!: (position: number, cell: View) => void\n\n  /**\n   * 下拉刷新时触发的回调\n   * 0(正常状态) 1(即将刷新) 2(正在刷新)\n   */\n  onRefresh!: (state: 0 | 1 | 2 | 3) => void\n  /**\n   * 下拉刷新时触发的回调\n   * 0(正常状态) 1(正在刷新) 2(无数据)\n   */\n  onLoadMore!: (state: 0 | 1 | 2) => void\n\n  get style() {\n    return this._style\n  }\n\n  set style(_style: ListStyle) {\n    let deepStyle = JSON.parse(JSON.stringify(_style))\n    this._style = Object.assign(this._style, deepStyle)\n  }\n\n  refresh(count: number) {\n    switch (this.mode) {\n      case 'grid':\n        this.refreshGridView(count)\n        break\n      case 'waterfall':\n        this.refreshWaterfallView(count)\n        break\n      case 'list':\n      default:\n        this.refreshListView(count)\n        break\n    }\n    this.rowCount = count\n  }\n\n  /**\n   * 滚动到指定位置\n   * @param position 要滚动到的位置\n   */\n  scrollToPosition(position: number) {\n    if (this.bscroll) {\n      if (this.mode == 'list') {\n        const view = this._listRows[position]\n        view && this.bscroll.scrollToElement(view.node)\n      } else if (this.mode == 'grid') {\n        // 计算行\n        const row = Math.floor(position / (this.style.column as any))\n        const view = this._gridRows[row]\n        view && this.bscroll.scrollToElement(view.node)\n      } else if (this.mode == 'waterfall') {\n        const view = this._waterfalls[position]\n        view && this.bscroll.scrollToElement(view.node)\n      }\n    }\n  }\n\n  /**\n   * 滚动到坐标\n   */\n  scrollTo(x: number, y: number) {\n    if (this.bscroll) {\n      this.bscroll.scrollTo(-x, -y, 300)\n    }\n  }\n\n  /**\n   * 滚动一定位置\n   */\n  scrollBy(dx: number, dy: number) {\n    if (this.bscroll) {\n      this.bscroll.scrollBy(dx, dy, 300)\n    }\n  }\n\n  /**\n   * 结束下拉刷新\n   */\n  stopPullRefresh() {\n    this.isMoreData = true\n    this.bscroll.finishPullUp()\n    this.bscroll && this.bscroll.finishPullDown()\n    this.onRefresh && this.onRefresh(0)\n    this.bscroll && this.bscroll.refresh()\n  }\n\n  /**\n   * 设置上拉加载控件\n   * @param enable 下次能否继续触发加载更多\n   */\n  stopLoadMore(enable?: boolean) {\n    if (this.bscroll) {\n      if (!enable) {\n        this.isMoreData = false\n        this.bscroll.finishPullUp()\n      } else {\n        this.bscroll.finishPullUp()\n      }\n      this.onLoadMore && this.onLoadMore(enable ? 0 : 2)\n      this.bscroll.refresh()\n    }\n  }\n\n  addEventListener(key: 'scroll', listener: EventListener) {\n    if (!this.listeners[key]) {\n      this.listeners[key] = []\n    }\n    // 将事件callback加入到事件队列\n    this.listeners[key].push(listener)\n    // 注册better-scroll事件监听\n    if (!this.eventListeners[key]) {\n      // 如果没有监听scroll事件\n      this.registerBsScrollEvent()\n    }\n  }\n\n  removeEventListener(key: 'scroll', listener: EventListener) {\n    if (this.listeners[key]) {\n      // 将事件从事件队列中删除\n      this.listeners[key] = this.listeners[key].filter(\n        _listener => _listener !== listener\n      )\n      // 如果事件队列为空，取消事件监听\n      if (this.listeners[key].length === 0) {\n        if (this.eventListeners[key]) {\n          const { scrollStart, scroll, scrollEnd } = this.eventListeners[key]\n          this.bscroll.off('scrollStart', scrollStart)\n          this.bscroll.off('scroll', scroll)\n          this.bscroll.off('scrollEnd', scrollEnd)\n          // @ts-ignore\n          this.eventListeners[key] = null\n        }\n      }\n    }\n  }\n\n  /**\n   * hm-list\n   *   hm-list-row\n   */\n  private refreshListView(count: number) {\n    // 添加data row\n    let types = []\n    if ((count - this.rowCount) >= 0) {\n      types = Array.from(new Array(Math.abs(count - this.rowCount))).map((value, index) => {\n        if (this.onRegister) {\n          return this.onRegister(index)\n        } else {\n          return 1;\n        }\n      })\n    } else {\n      this._listRows = []\n      this.wrapper.removeChild(this.recyclerView)\n      this.recyclerView.removeAll()\n      this.loadMoreView ? this.wrapper.insertBefore(this.recyclerView, this.loadMoreView) : this.wrapper.appendChild(this.recyclerView);\n      types = Array.from(new Array(count)).map((value, index) => {\n        if (this.onRegister) {\n          return this.onRegister(index)\n        } else {\n          return 1;\n        }\n      })\n    }\n    types.forEach((type, index) => {\n      const cell: View = this.onCreate(type)\n      this.onUpdate((count - this.rowCount) >= 0 ? (index + this.rowCount) : index, cell)\n      const row = new View()\n      if (this.style.lineSpacing) {\n        if (index > 0) {\n          if (this.style.scrollDirection === 'horizontal') {\n            row.node.style.marginLeft = formatUnit(this.style.lineSpacing)\n          } else {\n            row.node.style.marginTop = formatUnit(this.style.lineSpacing)\n          }\n        }\n      }\n      //如果是水平滚动\n      if (this.style.scrollDirection === 'horizontal') {\n        row.style.flexDirection = 'row'\n        this.recyclerView.node.classList.add('horizontal')\n        this.wrapper.node.classList.add('hm-list-content-horizontal')\n        this.node.style.width = '100%'\n      }\n      row.appendChild(cell)\n      this.recyclerView.appendChild(row)\n      this._listRows.push(row)\n    })\n    this.bscrollInit()\n  }\n\n  /**\n   * hm-list\n   *   hm-list-row\n   *     hm-list-cell\n   * @param {number} count\n   */\n  private refreshGridView(count: number) {\n    this.wrapper.removeAll()\n    this.recyclerView.removeAll()\n    this.wrapper.appendChild(this.recyclerView)\n    let types = Array.from(new Array(count)).map((value, index) => {\n      if (this.onRegister) {\n        return this.onRegister(index)\n      } else {\n        return 1;\n      }\n    })\n    this._gridRows = [];\n    const column = this.style.column || 2\n    // 添加data row\n    types.forEach((type, index) => {\n      const cell: View = this.onCreate(type)\n      this.onUpdate(index, cell)\n      const col = new View()\n      col.node.classList.add('hm-list-column')\n      col.node.classList.add('hm-list-column-grid')\n      col.style.width = `calc(${100 / column}% - ${parseFloat(formatUnit(this.style.itemSpacing || 0)) * (column - 1) / column}px)`;\n      col.appendChild(cell)\n      // @ts-ignore\n      let row: View = null\n      if (index % column === 0) {\n        row = new View()\n        row.node.classList.add('hm-list-row')\n        if (this.style.lineSpacing && index > 0) {\n          row.style.marginTop = formatUnit(`${this.style.lineSpacing}`)\n        }\n        this._gridRows.push(row)\n        row.appendChild(col)\n        this.recyclerView.appendChild(row)\n      } else {\n        row = this._gridRows[Math.floor(index / column)]\n        if (this.style.itemSpacing) {\n          col.style.marginLeft = formatUnit(this.style.itemSpacing)\n        }\n        row.appendChild(col)\n      }\n    })\n    this.bscrollInit()\n  }\n\n  /**\n   * 瀑布流布局\n   */\n  private refreshWaterfallView(count: number) {\n    this.wrapper.removeAll()\n    this.recyclerView.removeAll()\n    this.wrapper.appendChild(this.recyclerView)\n    this._waterfalls = []\n    this._gridRows = []\n    let types = Array.from(new Array(count)).map((value, index) => {\n      if (this.onRegister) {\n        return this.onRegister(index)\n      } else {\n        return 1;\n      }\n    })\n    const column = this.style.column || 2\n    // 添加data row\n    types.forEach((type, index) => {\n      const cell: View = this.onCreate(type)\n      this.onUpdate(index, cell)\n\n      const col = new View()\n      col.node.classList.add('hm-list-column')\n      col.node.classList.add('hm-list-column-waterfall')\n      col.appendChild(cell)\n\n      this._waterfalls.push(cell)\n\n      cell.node.classList.add('cell')\n\n      // @ts-ignore\n      let row: View = null\n      if (index % column === 0) {\n        row = new View()\n        row.node.classList.add('hm-list-row')\n        this._gridRows.push(row)\n        row.appendChild(col)\n        this.recyclerView.appendChild(row)\n      } else {\n        row = this._gridRows[Math.floor(index / column)]\n        if (this.style.itemSpacing) {\n          col.style.marginLeft = formatUnit(this.style.itemSpacing)\n        }\n        row.appendChild(col)\n      }\n    })\n    this.bscrollInit()\n  }\n  // 计算绘制瀑布流\n  computeElement() {\n    const cols = document.getElementsByClassName('hm-list-column-waterfall')\n    // @ts-ignore\n    const parentOffsetTop = cols[0].parentElement.getBoundingClientRect().top\n    // @ts-ignore\n    const parentOffsetLeft = cols[0].parentElement.getBoundingClientRect()\n      .left\n\n    const column = this.style.column || 2\n    let colsArr = new Array(column)\n    const posArr = []\n    for (let index = 0; index < cols.length; index++) {\n      let top = 0\n      const offset = cols[index].getBoundingClientRect()\n      let marginTop = this.style.lineSpacing\n        ? +formatUnit(this.style.lineSpacing).replace('px', '')\n        : 0\n      const height = cols[index].children[0].clientHeight + marginTop\n      let minIndex = 0\n      if (index < column) {\n        colsArr[index] = height\n        top = offset.top - parentOffsetTop\n        minIndex = index % column\n      } else {\n        const min = Math.min.apply(null, colsArr)\n        top = min\n        minIndex = colsArr.indexOf(min)\n        colsArr[minIndex] += height\n      }\n      const width = cols[minIndex].getBoundingClientRect().width\n      posArr.push({\n        left: cols[minIndex].getBoundingClientRect().left - parentOffsetLeft,\n        top: top,\n        width: width\n      })\n    }\n    for (let index = 0; index < cols.length; index++) {\n      // @ts-ignore\n      cols[index]['style'].position = 'absolute'\n      // @ts-ignore\n      cols[index]['style'].top = posArr[index]['top'] + 'px'\n      // @ts-ignore\n      cols[index]['style'].left = posArr[index]['left'] + 'px'\n      // @ts-ignore\n      cols[index]['style'].width = posArr[index]['width'] + 'px'\n      // @ts-ignore\n      cols[index]['style'].marginLeft = '0px'\n      // @ts-ignore\n      // cols[index].parentNode['style'].position = 'static'\n      index > column && (cols[index].parentNode['style'].marginTop = (-Math.max.apply(null, colsArr)) + 'px')\n      // @ts-ignore\n      cols[index].parentNode['style'].height =\n        Math.max.apply(null, colsArr) + 'px'\n    }\n    // @ts-ignore\n    // cols[0].parentElement.parentElement.style.height =\n    //   Math.max.apply(null, colsArr) + 'px'\n    // @ts-ignore\n    cols[0].parentElement.parentElement.style.width = '100%'\n    // this.bscroll.refresh()\n  }\n  private bscrollInit() {\n    // 添加refresh view\n    if (this.refreshView) {\n      this.wrapper.node.insertBefore(this.refreshView.node, this.wrapper.node.children[0])\n    }\n    // 添加 loadmore view\n    if (this.loadMoreView) {\n      this.loadMoreView.style = {\n        position: 'absolute',\n        bottom: 0,\n        transform: 'translateY(100%) translateZ(0)',\n        width: '100%',\n      }\n      this.wrapper.node.appendChild(this.loadMoreView.node)\n    }\n    if (!this.bscroll) {\n      this.bscroll = new BScroll(this.node, {\n        bounce: this.bounces,\n        stopPropagation: true,\n        disableMouse: false,\n        disableTouch: false,\n        scrollX: this.style.scrollDirection === 'horizontal',\n        scrollY: this.style.scrollDirection !== 'horizontal',\n        pullUpLoad: this.loadMoreView ? true : false,\n        pullDownRefresh: this.refreshView ? true : false,\n        click: true,\n        dblclick: true,\n        tap: 'tap',\n        probeType: 3,\n        eventPassthrough: this.style.scrollDirection === 'horizontal' ? 'vertical' : 'horizontal',\n      })\n      // 上拉加载更多\n      if (this.loadMoreView) {\n        this.bscroll.on('pullingUp', () => {\n          if (!this.isMoreData) {\n            return;\n          }\n          this.onLoadMore(1)\n        })\n      }\n      // 下拉刷新\n      if (this.refreshView) {\n        let pullflag = 'none'\n        this.bscroll.on('pullingDown', () => {\n          this.onRefresh && this.onRefresh(2)\n        })\n        this.bscroll.on('leaveThreshold', () => {\n          this.onRefresh && this.onRefresh(3)\n        })\n        this.bscroll.on('scroll', (e: any) => {\n          if (e.y > 0 && e.y < this.bscroll?.plugins?.pullDownRefresh?.options?.threshold) {\n            if (pullflag === 'none') {\n              this.onRefresh && this.onRefresh(1)\n            }\n            pullflag = 'center'\n          } else if (e.y <= 0) {\n            pullflag = 'none'\n          }\n        })\n      }\n\n      // 判断是否要注册bs-scroll事件\n      if (\n        this.listeners['scroll'] &&\n        this.listeners['scroll'].length > 0 &&\n        !this.eventListeners['scroll']\n      ) {\n        this.registerBsScrollEvent()\n      }\n    } else {\n      this.bscroll.refresh();\n    }\n\n  }\n  private registerBsScrollEvent() {\n    if (this.bscroll) {\n      // 如果存在better-scroll对象\n      const scrollStart = () => {\n        const ev = new ScrollEvent()\n        ev.target = this\n        ev.state = ScrollState.BEGAN\n        ev.timestamp = `${Date.now()}`\n        this.listeners['scroll'].forEach(listener => listener(ev))\n      }\n      let oldOffsetY = 0, oldOffsetX = 0;\n      const scroll = (e: any) => {\n        const ev = new ScrollEvent()\n        ev.target = this\n        ev.state = ScrollState.SCROLL\n        ev.timestamp = `${Date.now()}`\n        ev.offsetY = -e.y\n        ev.offsetX = 0\n        ev.dx = ev.offsetX - oldOffsetX\n        ev.dy = ev.offsetY - oldOffsetY\n        oldOffsetY = -e.y\n        oldOffsetX = 0\n        this.listeners['scroll'].forEach(listener => listener(ev))\n      }\n      const scrollEnd = (e: any) => {\n        const ev = new ScrollEvent()\n        ev.target = this\n        ev.state = ScrollState.ENDED\n        ev.timestamp = `${Date.now()}`\n        ev.offsetY = -e.y\n        ev.offsetX = 0\n        ev.dx = ev.offsetX - oldOffsetX\n        ev.dy = ev.offsetY - oldOffsetY\n        oldOffsetY = -e.y\n        oldOffsetX = 0\n        this.listeners['scroll'].forEach(listener => listener(ev))\n      }\n      const touchEnd = (e: any) => {\n        const ev = new ScrollEvent()\n        ev.target = this\n        ev.state = ScrollState.SCROLL_UP\n        ev.timestamp = `${Date.now()}`\n        ev.offsetY = -e.y\n        ev.offsetX = 0\n        ev.dx = ev.offsetX - oldOffsetX\n        ev.dy = ev.offsetY - oldOffsetY\n        oldOffsetY = -e.y\n        oldOffsetX = 0\n        this.listeners['scroll'].forEach(listener => listener(ev))\n      }\n\n      this.bscroll.on('touchEnd', touchEnd)\n      this.bscroll.on('scrollStart', scrollStart)\n      this.bscroll.on('scroll', scroll)\n      this.bscroll.on('scrollEnd', scrollEnd)\n      this.eventListeners['scroll'] = { scrollStart, scroll, scrollEnd, touchEnd }\n    }\n  }\n}\n","import BScroll from 'better-scroll'\nimport { View, ViewStyle } from './View'\nimport { ScrollEvent, ScrollState } from '../event/ScrollEvent'\nimport { EventListener } from '../event/Event'\nimport { nodeObserver } from '../../common/utils'\n\nexport class Scroller extends View {\n\n  refreshView?: View\n  loadMoreView?: View\n  _showScrollBar: boolean = false // 滑动时是否显示滚动条\n  _bounces: boolean = true // 滑动到 边缘时是否有回弹效果\n  isMoreData: boolean = true\n  protected _style: ViewStyle\n\n  config = {\n    // 页面元素监听配置\n    attributes: true,\n    childList: true,\n    characterData: true,\n    subtree: true,\n  }\n  observer: ResizeObserver\n  private wrapper: View\n  // @ts-ignore\n  private bscroll: BScroll\n\n\n  constructor() {\n    super()\n    this.wrapper = new View()\n    this.wrapper.node.classList.add('hm-scroller-content')\n    this.node.appendChild(this.wrapper.node)\n    this._style = new Proxy(\n      {},\n      {\n        get: (target, key) => {\n          return target[key] || this.node.style[key]\n        },\n        set: (target, key, value) => {\n          switch (key) {\n            case 'justifyContent':\n              this.node.style[key] = value\n              this.wrapper.node.style[key] = value\n              break;\n            case 'alignItems':\n              this.node.style[key] = value\n              this.wrapper.node.style[key] = value\n              break;\n            default:\n              this.node.style[key] = value\n              break;\n          }\n          return true\n        }\n      }\n    )\n    // 监听元素是否渲染\n    nodeObserver(this.node, () => {\n      this.refreshView && (this.refreshView.style = {\n        position: 'absolute',\n        transform: 'translateY(-100%) translateZ(0)',\n        width: '100%',\n      })\n      if (this.bscroll) {\n        this.refreshView && this.bscroll?.openPullDown({\n          stop: this.refreshView.node.offsetHeight\n        });\n        this.bscroll.refresh()\n      } else {\n        this.refresh()\n      }\n    })\n  }\n\n  get showScrollBar() {\n    return this._showScrollBar\n  }\n\n  set showScrollBar(value: boolean) {\n    this._showScrollBar = value\n    if (this.bscroll) {\n      this.bscroll.destroy()\n      this.bscroll = null\n      this.refresh()\n    }\n  }\n\n  get bounces() {\n    return this._bounces\n  }\n\n  set bounces(value: boolean) {\n    this._bounces = value\n    if (this.bscroll) {\n      this.bscroll.destroy()\n      this.bscroll = null\n      this.refresh()\n    }\n  }\n  onDestoryed() {\n    this.bscroll.destroy()\n  }\n\n  appendChild(subview: any) {\n    this.wrapper.node.appendChild(subview.node)\n    subview._onMounted();\n    this.bscroll && this.bscroll.refresh()\n  }\n  removeChild(subview: any) {\n    this.wrapper.node.removeChild(subview.node)\n    this.bscroll && this.bscroll.refresh()\n  }\n  removeAll() {\n    for (let index = this.wrapper.node.childNodes.length - 1; index >= 0; index--) {\n      const element = this.wrapper.node.childNodes[index];\n      if (element !== this.refreshView.node && element !== this.loadMoreView.node) {\n        this.wrapper.node.removeChild(element)\n      }\n    }\n  }\n  insertBefore(subview: any, existingView: View) {\n    this.wrapper.node.insertBefore(subview.node, existingView.node)\n    subview._onMounted();\n  }\n\n  protected defaultStyle() {\n    this.node.classList.add('hm-default-vertical')\n  }\n\n  refresh() {\n    this.refreshListView()\n  }\n\n  /**\n   *  init hm-list-row\n   */\n  private refreshListView() {\n    // this.wrapper.removeAll();\n    // add refresh view\n    if (this.refreshView) {\n      this.wrapper.node.insertBefore(this.refreshView.node, this.wrapper.node.children[0])\n    }\n    // add loadmore view\n    if (this.loadMoreView) {\n      this.loadMoreView.style = {\n        position: 'absolute',\n        bottom: 0,\n        transform: 'translateY(100%) translateZ(0)',\n        width: '100%',\n      }\n      this.wrapper.node.appendChild(this.loadMoreView.node)\n    }\n    if (!this.bscroll) {\n      this.bscroll = new BScroll(this.node, {\n        bounce: this._bounces,\n        stopPropagation: true,\n        disableMouse: false,\n        disableTouch: false,\n        scrollX: false,\n        scrollY: true,\n        pullUpLoad: this.loadMoreView ? true : false,\n        pullDownRefresh: this.refreshView ? true : false,\n        click: true,\n        dblclick: true,\n        scrollbar: this._showScrollBar,\n        tap: 'tap',\n        probeType: 3,\n        eventPassthrough: 'horizontal',\n        observeImage: true,\n        observeDOM: true,\n      })\n      // 上拉加载更多\n      if (this.loadMoreView) {\n        this.bscroll.on('pullingUp', () => {\n          if (!this.isMoreData) {\n            return;\n          }\n          this.onLoadMore(1)\n        })\n      }\n      // 下拉刷新\n      if (this.refreshView) {\n        let pullflag = 'none'\n        this.bscroll.on('pullingDown', () => {\n          this.onRefresh && this.onRefresh(2)\n        })\n        this.bscroll.on('leaveThreshold', () => {\n          this.onRefresh && this.onRefresh(3)\n        })\n        this.bscroll.on('scroll', (e: any) => {\n          if (e.y > 0 && e.y < this.bscroll?.plugins?.pullDownRefresh?.options?.threshold) {\n            if (pullflag === 'none') {\n              this.onRefresh && this.onRefresh(1)\n            }\n            pullflag = 'center'\n          } else if (e.y <= 0) {\n            pullflag = 'none'\n          }\n        })\n      }\n\n      // 判断是否要注册bs-scroll事件\n      if (\n        this.listeners['scroll'] &&\n        this.listeners['scroll'].length > 0 &&\n        !this.eventListeners['scroll']\n      ) {\n        this.registerBsScrollEvent()\n      }\n      if ((this.listeners['scrollToTop'] && this.listeners['scrollToTop'].length > 0) ||\n        (this.listeners['scrollToBottom'] && this.listeners['scrollToBottom'].length > 0)) {\n        let direction = 'none'\n        this.bscroll.on('scroll', (e: any) => {\n          if (e.y >= 0) {\n            if (direction === 'none') {\n              this.listeners['scrollToTop'].forEach(listener => listener())\n            }\n            direction = 'center'\n          } else if (e.y <= this.bscroll.maxScrollY) {\n            if (direction === 'none') {\n              this.listeners['scrollToBottom'].forEach(listener => listener())\n            }\n            direction = 'center'\n          } else if (e.y > this.bscroll.maxScrollY && e.y < 0) {\n            direction = 'none'\n          }\n        })\n      }\n    } else {\n      this.bscroll.refresh();\n    }\n  }\n\n\n  private registerBsScrollEvent() {\n    if (this.bscroll) {\n      // 如果存在better-scroll对象\n      const scrollStart = () => {\n        const ev = new ScrollEvent()\n        ev.target = this\n        ev.state = ScrollState.BEGAN\n        ev.timestamp = `${Date.now()}`\n        this.listeners['scroll'].forEach(listener => listener(ev))\n      }\n      let oldOffsetY = 0, oldOffsetX = 0;\n      const scroll = (e: any) => {\n        const ev = new ScrollEvent()\n        ev.target = this\n        ev.state = ScrollState.SCROLL\n        ev.timestamp = `${Date.now()}`\n        ev.offsetY = -e.y\n        ev.offsetX = 0\n        ev.dx = ev.offsetX - oldOffsetX\n        ev.dy = ev.offsetY - oldOffsetY\n        oldOffsetY = -e.y\n        oldOffsetX = 0\n        this.listeners['scroll'].forEach(listener => listener(ev))\n      }\n      const scrollEnd = (e: any) => {\n        const ev = new ScrollEvent()\n        ev.target = this\n        ev.state = ScrollState.ENDED\n        ev.timestamp = `${Date.now()}`\n        ev.offsetY = -e.y\n        ev.offsetX = 0\n        ev.dx = ev.offsetX - oldOffsetX\n        ev.dy = ev.offsetY - oldOffsetY\n        oldOffsetY = -e.y\n        oldOffsetX = 0\n        this.listeners['scroll'].forEach(listener => listener(ev))\n      }\n\n      const touchEnd = (e: any) => {\n        const ev = new ScrollEvent()\n        ev.target = this\n        ev.state = ScrollState.SCROLL_UP\n        ev.timestamp = `${Date.now()}`\n        ev.offsetY = -e.y\n        ev.offsetX = 0\n        ev.dx = ev.offsetX - oldOffsetX\n        ev.dy = ev.offsetY - oldOffsetY\n        oldOffsetY = -e.y\n        oldOffsetX = 0\n        this.listeners['scroll'].forEach(listener => listener(ev))\n      }\n\n      this.bscroll.on('touchEnd', touchEnd)\n      this.bscroll.on('scrollStart', scrollStart)\n      this.bscroll.on('scroll', scroll)\n      this.bscroll.on('scrollEnd', scrollEnd)\n      this.eventListeners['scroll'] = { scrollStart, scroll, scrollEnd, touchEnd }\n    }\n  }\n\n\n  addEventListener(key: 'scroll', listener: EventListener) {\n    if (!this.listeners[key]) {\n      this.listeners[key] = []\n    }\n    // 将事件callback加入到事件队列\n    this.listeners[key].push(listener)\n    // 注册better-scroll事件监听\n    if (!this.eventListeners[key]) {\n      // 如果没有监听scroll事件\n      this.registerBsScrollEvent()\n    }\n  }\n\n  removeEventListener(key: 'scroll', listener: EventListener) {\n    if (this.listeners[key]) {\n      // 将事件从事件队列中删除\n      this.listeners[key] = this.listeners[key].filter(\n        _listener => _listener !== listener\n      )\n      // 如果事件队列为空，取消事件监听\n      if (this.listeners[key].length === 0) {\n        if (this.eventListeners[key]) {\n          const { scrollStart, scroll, scrollEnd } = this.eventListeners[key]\n          this.bscroll.off('scrollStart', scrollStart)\n          this.bscroll.off('scroll', scroll)\n          this.bscroll.off('scrollEnd', scrollEnd)\n          // @ts-ignore\n          this.eventListeners[key] = null\n        }\n      }\n    }\n  }\n\n\n  /**\n   * @not support\n   */\n  onRegister!: (position: number) => number\n\n  /**\n   * 滚动到坐标\n   */\n  scrollTo(x: number, y: number) {\n    if (this.bscroll) {\n      this.bscroll.scrollTo(-x, -y, 300)\n    }\n  }\n\n  /**\n   * 滚动一定距离\n   */\n  scrollBy(dx: number, dy: number) {\n    if (this.bscroll) {\n      this.bscroll.scrollBy(dx, dy, 300)\n    }\n  }\n\n  /**\n   * 滚动到顶部\n   */\n  scrollToTop() {\n    if (this.bscroll) {\n      this.bscroll.scrollTo(0, 0, 300)\n    }\n  }\n\n  /**\n   * 滚动到底部\n   */\n  scrollToBottom() {\n    if (this.bscroll) {\n      this.bscroll.scrollTo(0, this.bscroll.maxScrollY, 300)\n    }\n  }\n\n  /**\n   * 下拉刷新时触发的回调\n   * 0(正常状态) 1(即将刷新) 2(正在刷新)\n   */\n  onRefresh!: (state: 0 | 1 | 2 | 3) => void\n\n  /**\n   * 下拉刷新时触发的回调\n   * 0(正常状态) 1(正在刷新) 2(无数据)\n   */\n  onLoadMore!: (state: 0 | 1 | 2) => void\n\n  /**\n   * 滚动到顶部事件监听\n   */\n  setOnScrollToTopListener(callback: EventListener) {\n    if (!this.listeners['scrollToTop']) {\n      this.listeners['scrollToTop'] = []\n    }\n    this.listeners['scrollToTop'].push(callback)\n  }\n\n  /**\n   * 滚动到底部事件监听\n   */\n  setOnScrollToBottomListener(callback: EventListener) {\n    if (!this.listeners['scrollToBottom']) {\n      this.listeners['scrollToBottom'] = []\n    }\n    this.listeners['scrollToBottom'].push(callback)\n  }\n\n  /**\n   * 更新滚动视图大小（iOS独有方法）\n   */\n  updateContentSize() {\n    if (this.bscroll) {\n      this.bscroll.refresh()\n    }\n  }\n  stopPullRefresh() {\n    this.isMoreData = true\n    this.bscroll?.finishPullUp()\n    this.bscroll && this.bscroll?.finishPullDown()\n    this.onRefresh && this.onRefresh(0)\n    this.bscroll && this.bscroll?.refresh()\n  }\n  stopLoadMore(enable: boolean) {\n    if (this.bscroll) {\n      if (!enable) {\n        this.isMoreData = false\n        this.bscroll.finishPullUp()\n      } else {\n        this.bscroll.finishPullUp()\n      }\n      this.onLoadMore && this.onLoadMore(enable ? 0 : 2)\n      this.bscroll.refresh()\n    }\n  }\n}\n\n","import { View, ViewStyle } from './View'\nimport { SwitchEvent, SwitchEventListener } from '../event/SwitchEvent'\nimport { styleTransformer } from '../../common/style'\n\nexport interface SwitchStyle extends ViewStyle {\n  onColor?: string\n  offColor?: string\n  thumbColor?: string\n}\n\nexport class Switch extends View {\n  private switchBtn!: HTMLElement\n  private circle!: HTMLElement\n  private addChangeEvent!: Function\n  public disabled!: boolean\n  protected _style: SwitchStyle\n\n  constructor() {\n    super()\n    // @ts-ignore\n    this._style = new Proxy(this._style, {\n      get: (target, key) => {\n        // 获取style\n        switch (key) {\n          case 'onColor':\n            // @ts-ignore\n            target[key] = target[key] || 'rgb(19, 206, 102)'\n            break\n          case 'offColor':\n            // @ts-ignore\n            target[key] = target[key] || 'rgb(255, 73, 73)'\n            break\n          case 'thumbColor':\n            // @ts-ignore\n            target[key] = target[key] || '#fff'\n            break\n        }\n        // @ts-ignore\n        return target[key] || this.node.style[key]\n      },\n      set: (target, key, value) => {\n        // @ts-ignore\n        target[key] = value\n        switch (key) {\n          case 'onColor':\n            if (this.checked) {\n              this.switchBtn.style.borderColor = value\n              this.switchBtn.style.backgroundColor = value\n            }\n            break\n          case 'offColor':\n            if (!this.checked) {\n              this.switchBtn.style.borderColor = value\n              this.switchBtn.style.backgroundColor = value\n            }\n            break\n          case 'thumbColor':\n            this.circle.style.backgroundColor = value\n            break\n          case 'height':\n            this.switchBtn.style[key] = value\n            this.circle.style['height'] = value\n            this.circle.style['width'] = value\n            this.switchBtn.style['borderRadius'] = value\n            break\n          case 'width':\n            this.switchBtn.style[key] = value\n            break\n        }\n        return true\n      }\n    })\n    this.bindEvents()\n  }\n\n  protected createNode() {\n    this.node = document.createElement('div')\n    this.node.classList.add('hm-switch')\n    this.switchBtn = document.createElement('div')\n    this.switchBtn.classList.add('hm-switch-btn')\n    this.circle = document.createElement('div')\n    this.circle.classList.add('hm-switch-thumb')\n    this.switchBtn.appendChild(this.circle)\n    this.node.appendChild(this.switchBtn)\n  }\n\n  private bindEvents() {\n    let dom = this.node\n    let that = this\n    dom.addEventListener('click', function () {\n      let className = dom.className\n      if (/hm-switch-checked/.test(className)) {\n        that.checked = false\n      } else {\n        that.checked = true\n      }\n    })\n  }\n\n  // @ts-ignore\n  addEventListener(key: 'switch', listener: SwitchEventListener) {\n    if (!this.listeners[key]) {\n      this.listeners[key] = []\n    }\n    // 将事件callback加入到事件队列\n    // @ts-ignore\n    this.listeners[key].push(listener)\n    if (!this.eventListeners[key]) {\n      switch (key) {\n        case 'switch':\n          this.addChangeEvent = (ev: any) => {\n            this.listeners['switch'].forEach(listener => listener(ev))\n          }\n      }\n    }\n  }\n\n  set checked(val) {\n    if (this.disabled) {\n      return\n    }\n\n    let changeCbk = this.addChangeEvent\n\n    if (val === true) {\n      this.circle.style.right = '2px'\n      this.switchBtn.style.borderColor =\n        this._style.onColor || 'rgb(19, 206, 102)'\n      this.switchBtn.style.backgroundColor =\n        this._style.onColor || 'rgb(19, 206, 102)'\n      this.node.classList.add('hm-switch-checked')\n    } else {\n      const width = this.node.offsetWidth\n      const circleWidth = this.circle.offsetWidth\n      this.circle.style.right = width - circleWidth - 2 + 'px'\n      this.switchBtn.style.borderColor =\n        this.style.offColor || 'rgb(255, 73, 73)'\n      this.switchBtn.style.backgroundColor =\n        this.style.offColor || 'rgb(255, 73, 73)'\n      this.node.classList.remove('hm-switch-checked')\n    }\n\n    if (changeCbk) {\n      const ev = new SwitchEvent()\n      ev.target = this\n      ev.state = this.checked\n      changeCbk(ev)\n    }\n  }\n\n  get checked() {\n    return /hm-switch-checked/.test(this.node.className)\n  }\n\n  get style() {\n    return this._style\n  }\n\n  set style(_style: SwitchStyle) {\n    let deepStyle = JSON.parse(JSON.stringify(_style))\n    let standardStyle = styleTransformer.transformStyle(deepStyle);\n    this._style = Object.assign(this._style, standardStyle)\n  }\n}\n","import { View, ViewStyle } from './View'\n// import { Image } from './Image'\nimport { formatUnit } from '../../common/utils'\nimport { styleTransformer } from '../../common/style'\nexport interface TextStyle extends ViewStyle {\n  color?: string\n  textAlign?: 'left' | 'center' | 'right'\n  textDecoration?: 'none' | 'underline' | 'line-through'\n  textVerticalAlign?: 'top' | 'center' | 'bottom'\n  fontFamily?: string\n  fontSize?: string | number\n  fontWeight?: 'normal' | 'bold'\n  fontStyle?: 'normal' | 'italic'\n  textOverflow?: 'clip' | 'ellipsis'\n  textLineClamp?: number\n  letterSpacing?: number\n  lineSpacingMulti?: number\n}\n\nexport class Text extends View {\n  protected _style: TextStyle\n\n  constructor() {\n    super()\n    this.node.classList.add('hm-text')\n    // @ts-ignore\n    this._style = new Proxy(this._style, {\n      get: (target, key) => {\n        // 获取style\n        // @ts-ignore\n        return target[key] || this.node.style[key]\n      },\n      set: (target, key, value) => {\n        // 设置style\n        // @ts-ignore\n        target[key] = value\n        switch (key) {\n          case 'textVerticalAlign':\n            this.node.style.verticalAlign = value\n            break\n          case 'lineSpacingMulti':\n            this.node.style.lineHeight = value\n            break\n          case 'textAlign':\n            switch (value) {\n              case 'left':\n                this.node.style.justifyContent = 'flex-start'\n                break;\n              case 'center':\n                this.node.style.justifyContent = 'center'\n                break;\n              case 'right':\n                this.node.style.justifyContent = 'flex-end'\n                break;\n              default:\n                break;\n            }\n            break\n          case 'textLineClamp':\n            if (value === 0) {\n              this.node.style.display = 'flex'\n            } else {\n              this.node.style['-webkitLineClamp'] = value\n              this.node.style.overflow = 'hidden'\n              this.node.style.display = '-webkit-box'\n              this.node.style['-webkitBoxOrient'] = 'vertical'\n            }\n            break\n          case 'letterSpacing':\n            this.node.style['letterSpacing'] = `${value}em`\n            break\n        }\n        return true\n      }\n    })\n  }\n\n  protected defaultStyle() {\n    this.node.classList.add('hm-default-text-box')\n  }\n\n  protected createNode() {\n    this.node = document.createElement('span')\n  }\n\n  get style() {\n    return this._style\n  }\n\n  set style(_style: TextStyle) {\n    let deepStyle = JSON.parse(JSON.stringify(_style))\n    let standardStyle = styleTransformer.transformStyle(deepStyle);\n    this._style = Object.assign(this._style, standardStyle)\n  }\n\n  get text() {\n    return this.node.innerText\n  }\n\n  set text(value: string) {\n    this.node.innerText = value\n  }\n\n  get richText() {\n    return this.node.innerText\n  }\n\n  set richText(value: any) {\n    // Todo: 解析富文本\n    this.parseRichText(value)\n  }\n\n  get formattedText() {\n    return this.node.innerHTML\n  }\n\n  set formattedText(value: string) {\n    this.node.innerHTML = value\n  }\n\n  private parseRichText(value: any) {\n    this.node.innerText = ''\n    let image, text\n    value.forEach(item => {\n      if (item?.image) {\n        image = document.createElement('img')\n        image.src = item.image\n        image.alt = \"加载失败\"\n        image.style.alignSelf = 'baseline'\n        switch (item.imageAlign) {\n          case 'top':\n            image.style.alignSelf = 'flex-start'\n            break;\n          case 'bottom':\n            image.style.alignSelf = 'flex-end'\n            break;\n          default:\n            image.style.alignSelf = item.imageAlign\n            break;\n        }\n        image.style.width = formatUnit(item.imageWidth)\n        image.style.height = formatUnit(item.imageHeight)\n        this.node.appendChild(image)\n      }\n      if (item?.text) {\n        text = document.createElement('span')\n        text.className = 'hm-default-text'\n        text.innerHTML = item?.text;\n        (item?.color || item?.hrefColor) && (text.style.color = item?.color || item?.hrefColor)\n        item?.fontSize && (text.style.fontSize = formatUnit(item?.fontSize))\n        item?.backgroundColor && (text.style.backgroundColor = item?.backgroundColor)\n        item?.fontFamily && (text.style.fontFamily = item?.fontFamily)\n        item?.fontWeight && (text.style.fontWeight = item?.fontWeight)\n        item?.textDecoration && (text.style.textDecoration = item?.textDecoration)\n        if (item?.href) {\n          text.style.textDecoration = 'underline'\n          text.onclick = () => {\n            window.open(item?.href)\n          }\n        }\n        this.node.appendChild(text)\n      }\n    });\n  }\n}\n","import { Input, InputStyle } from './Input'\nimport { styleTransformer } from '../../common/style'\nexport interface TextAreaStyle extends InputStyle {\n  textLineClamp?: number\n}\n\nexport class TextArea extends Input {\n  protected _style: TextAreaStyle\n  private changeHandler:any\n\n  constructor() {\n    super()\n    // @ts-ignore\n    this._style = new Proxy(this._style, {\n      get: (target, key) => {\n        switch (key) {\n          case 'textLineClamp':\n            // @ts-ignore\n            return target[key] || this.node.rows\n          default:\n            // @ts-ignore\n            return target[key]\n        }\n        // 获取style\n      },\n      set: (target, key, value) => {\n        // 设置style\n        // @ts-ignore\n        target[key] = value\n        switch (key) {\n          case 'textLineClamp':\n            if (value === 0) {\n              this.node.rows = 1\n              this.autoTextarea();\n            } else {\n              this.removeAutoTextarea()\n              this.node.rows = value\n            }\n            break\n        }\n        return true\n      }\n    })\n    this.node.rows = 1\n    this.autoTextarea();\n  }\n  get focused() {\n    return document.activeElement === this.node\n  }\n\n  set focused(focused: boolean) {\n    console.log(focused)\n    if (focused) {\n      this.node.focus()\n    } else {\n      this.node.blur()\n    }\n  }\n\n  protected defaultStyle() {\n    this.node.classList.add('hm-default-textarea')\n  }\n  protected createNode() {\n    this.node = document.createElement('textarea')\n  }\n\n  get style() {\n    return this._style\n  }\n\n  set style(_style: TextAreaStyle) {\n    let deepStyle = JSON.parse(JSON.stringify(_style))\n    let standardStyle = styleTransformer.transformStyle(deepStyle);\n    this._style = Object.assign(this._style, standardStyle)\n  }\n  /**\n  * 文本框根据输入内容自适应高度\n  * @param                {HTMLElement}        输入框元素\n  * @param                {Number}                设置光标与输入框保持的距离(默认0)\n  * @param                {Number}                设置最大高度(可选)\n  */\n  autoTextarea() {\n    this.node.style.resize = 'none';\n    this.changeHandler = this.change.bind(this);\n    this.removeAutoTextarea();\n    this.node.addEventListener('propertychange', this.changeHandler);\n    this.node.addEventListener('input', this.changeHandler);\n    this.node.addEventListener('focus', this.changeHandler);\n    this.change();\n  }\n  removeAutoTextarea() {\n    this.node.removeEventListener('propertychange', this.changeHandler);\n    this.node.removeEventListener('input', this.changeHandler);\n    this.node.removeEventListener('focus', this.changeHandler);\n  }\n  change() {\n    let elem = this.node\n    let isFirefox = !!(document as any)?.getBoxObjectFor || 'mozInnerScreenX' in window,\n      isOpera = !!(window as any)?.opera && !!(window as any)?.opera.toString().indexOf('Opera'),\n      minHeight = parseFloat(this.getStyle('height'));\n    let scrollTop, height,\n      padding = 0,\n      style = elem.style;\n    if (elem._length === elem.value.length) return;\n    elem._length = elem.value.length;\n    if (!isFirefox && !isOpera) {\n      padding = parseInt(this.getStyle('paddingTop')) + parseInt(this.getStyle('paddingBottom'));\n    };\n    scrollTop = document.body.scrollTop || document.documentElement.scrollTop;\n    elem.style.height = `${minHeight}px`;\n    if (elem.scrollHeight > minHeight) {\n      height = elem.scrollHeight - padding;\n      style.overflowY = 'hidden';\n      style.height = `${height}px`;\n      scrollTop += parseInt(style.height) - elem.currHeight;\n      document.body.scrollTop = scrollTop;\n      document.documentElement.scrollTop = scrollTop;\n      elem.currHeight = parseInt(style.height);\n    };\n  }\n  getStyle(name) {\n    if (this.node.currentStyle) {\n      let val\n      val = this.node.currentStyle[name];\n      if (name === 'height' && val.search(/px/i) !== 1) {\n        let rect = this.node.getBoundingClientRect();\n        return rect.bottom - rect.top -\n          parseFloat(this.getStyle('paddingTop')) -\n          parseFloat(this.getStyle('paddingBottom')) + 'px';\n      };\n      return val;\n    } else {\n      return getComputedStyle(this.node, null)[name];\n    }\n  }\n}\n","/**\n * Swiper 7.3.3\n * Most modern mobile touch slider and framework with hardware accelerated transitions\n * https://swiperjs.com\n *\n * Copyright 2014-2021 Vladimir Kharlampidi\n *\n * Released under the MIT License\n *\n * Released on: December 16, 2021\n */\n\n (function (global, factory) {\n  typeof exports === 'object' && typeof module !== 'undefined' ? module.exports = factory() :\n  typeof define === 'function' && define.amd ? define(factory) :\n  (global = typeof globalThis !== 'undefined' ? globalThis : global || self, global.Swiper = factory());\n}(this, (function () { 'use strict';\n\n  /**\n   * SSR Window 4.0.2\n   * Better handling for window object in SSR environment\n   * https://github.com/nolimits4web/ssr-window\n   *\n   * Copyright 2021, Vladimir Kharlampidi\n   *\n   * Licensed under MIT\n   *\n   * Released on: December 13, 2021\n   */\n\n  /* eslint-disable no-param-reassign */\n  function isObject$1(obj) {\n    return obj !== null && typeof obj === 'object' && 'constructor' in obj && obj.constructor === Object;\n  }\n\n  function extend$1(target = {}, src = {}) {\n    Object.keys(src).forEach(key => {\n      if (typeof target[key] === 'undefined') target[key] = src[key];else if (isObject$1(src[key]) && isObject$1(target[key]) && Object.keys(src[key]).length > 0) {\n        extend$1(target[key], src[key]);\n      }\n    });\n  }\n\n  const ssrDocument = {\n    body: {},\n\n    addEventListener() {},\n\n    removeEventListener() {},\n\n    activeElement: {\n      blur() {},\n\n      nodeName: ''\n    },\n\n    querySelector() {\n      return null;\n    },\n\n    querySelectorAll() {\n      return [];\n    },\n\n    getElementById() {\n      return null;\n    },\n\n    createEvent() {\n      return {\n        initEvent() {}\n\n      };\n    },\n\n    createElement() {\n      return {\n        children: [],\n        childNodes: [],\n        style: {},\n\n        setAttribute() {},\n\n        getElementsByTagName() {\n          return [];\n        }\n\n      };\n    },\n\n    createElementNS() {\n      return {};\n    },\n\n    importNode() {\n      return null;\n    },\n\n    location: {\n      hash: '',\n      host: '',\n      hostname: '',\n      href: '',\n      origin: '',\n      pathname: '',\n      protocol: '',\n      search: ''\n    }\n  };\n\n  function getDocument() {\n    const doc = typeof document !== 'undefined' ? document : {};\n    extend$1(doc, ssrDocument);\n    return doc;\n  }\n\n  const ssrWindow = {\n    document: ssrDocument,\n    navigator: {\n      userAgent: ''\n    },\n    location: {\n      hash: '',\n      host: '',\n      hostname: '',\n      href: '',\n      origin: '',\n      pathname: '',\n      protocol: '',\n      search: ''\n    },\n    history: {\n      replaceState() {},\n\n      pushState() {},\n\n      go() {},\n\n      back() {}\n\n    },\n    CustomEvent: function CustomEvent() {\n      return this;\n    },\n\n    addEventListener() {},\n\n    removeEventListener() {},\n\n    getComputedStyle() {\n      return {\n        getPropertyValue() {\n          return '';\n        }\n\n      };\n    },\n\n    Image() {},\n\n    Date() {},\n\n    screen: {},\n\n    setTimeout() {},\n\n    clearTimeout() {},\n\n    matchMedia() {\n      return {};\n    },\n\n    requestAnimationFrame(callback) {\n      if (typeof setTimeout === 'undefined') {\n        callback();\n        return null;\n      }\n\n      return setTimeout(callback, 0);\n    },\n\n    cancelAnimationFrame(id) {\n      if (typeof setTimeout === 'undefined') {\n        return;\n      }\n\n      clearTimeout(id);\n    }\n\n  };\n\n  function getWindow() {\n    const win = typeof window !== 'undefined' ? window : {};\n    extend$1(win, ssrWindow);\n    return win;\n  }\n\n  /**\n   * Dom7 4.0.2\n   * Minimalistic JavaScript library for DOM manipulation, with a jQuery-compatible API\n   * https://framework7.io/docs/dom7.html\n   *\n   * Copyright 2021, Vladimir Kharlampidi\n   *\n   * Licensed under MIT\n   *\n   * Released on: December 13, 2021\n   */\n  /* eslint-disable no-proto */\n\n  function makeReactive(obj) {\n    const proto = obj.__proto__;\n    Object.defineProperty(obj, '__proto__', {\n      get() {\n        return proto;\n      },\n\n      set(value) {\n        proto.__proto__ = value;\n      }\n\n    });\n  }\n\n  class Dom7 extends Array {\n    constructor(items) {\n      super(...(items || []));\n      makeReactive(this);\n    }\n\n  }\n\n  function arrayFlat(arr = []) {\n    const res = [];\n    arr.forEach(el => {\n      if (Array.isArray(el)) {\n        res.push(...arrayFlat(el));\n      } else {\n        res.push(el);\n      }\n    });\n    return res;\n  }\n\n  function arrayFilter(arr, callback) {\n    return Array.prototype.filter.call(arr, callback);\n  }\n\n  function arrayUnique(arr) {\n    const uniqueArray = [];\n\n    for (let i = 0; i < arr.length; i += 1) {\n      if (uniqueArray.indexOf(arr[i]) === -1) uniqueArray.push(arr[i]);\n    }\n\n    return uniqueArray;\n  }\n\n\n  function qsa(selector, context) {\n    if (typeof selector !== 'string') {\n      return [selector];\n    }\n\n    const a = [];\n    const res = context.querySelectorAll(selector);\n\n    for (let i = 0; i < res.length; i += 1) {\n      a.push(res[i]);\n    }\n\n    return a;\n  }\n\n  function $(selector, context) {\n    const window = getWindow();\n    const document = getDocument();\n    let arr = [];\n\n    if (!context && selector instanceof Dom7) {\n      return selector;\n    }\n\n    if (!selector) {\n      return new Dom7(arr);\n    }\n\n    if (typeof selector === 'string') {\n      const html = selector.trim();\n\n      if (html.indexOf('<') >= 0 && html.indexOf('>') >= 0) {\n        let toCreate = 'div';\n        if (html.indexOf('<li') === 0) toCreate = 'ul';\n        if (html.indexOf('<tr') === 0) toCreate = 'tbody';\n        if (html.indexOf('<td') === 0 || html.indexOf('<th') === 0) toCreate = 'tr';\n        if (html.indexOf('<tbody') === 0) toCreate = 'table';\n        if (html.indexOf('<option') === 0) toCreate = 'select';\n        const tempParent = document.createElement(toCreate);\n        tempParent.innerHTML = html;\n\n        for (let i = 0; i < tempParent.childNodes.length; i += 1) {\n          arr.push(tempParent.childNodes[i]);\n        }\n      } else {\n        arr = qsa(selector.trim(), context || document);\n      } // arr = qsa(selector, document);\n\n    } else if (selector.nodeType || selector === window || selector === document) {\n      arr.push(selector);\n    } else if (Array.isArray(selector)) {\n      if (selector instanceof Dom7) return selector;\n      arr = selector;\n    }\n\n    return new Dom7(arrayUnique(arr));\n  }\n\n  $.fn = Dom7.prototype; // eslint-disable-next-line\n\n  function addClass(...classes) {\n    const classNames = arrayFlat(classes.map(c => c.split(' ')));\n    this.forEach(el => {\n      el.classList.add(...classNames);\n    });\n    return this;\n  }\n\n  function removeClass(...classes) {\n    const classNames = arrayFlat(classes.map(c => c.split(' ')));\n    this.forEach(el => {\n      el.classList.remove(...classNames);\n    });\n    return this;\n  }\n\n  function toggleClass(...classes) {\n    const classNames = arrayFlat(classes.map(c => c.split(' ')));\n    this.forEach(el => {\n      classNames.forEach(className => {\n        el.classList.toggle(className);\n      });\n    });\n  }\n\n  function hasClass(...classes) {\n    const classNames = arrayFlat(classes.map(c => c.split(' ')));\n    return arrayFilter(this, el => {\n      return classNames.filter(className => el.classList.contains(className)).length > 0;\n    }).length > 0;\n  }\n\n  function attr(attrs, value) {\n    if (arguments.length === 1 && typeof attrs === 'string') {\n      // Get attr\n      if (this[0]) return this[0].getAttribute(attrs);\n      return undefined;\n    } // Set attrs\n\n\n    for (let i = 0; i < this.length; i += 1) {\n      if (arguments.length === 2) {\n        // String\n        this[i].setAttribute(attrs, value);\n      } else {\n        // Object\n        for (const attrName in attrs) {\n          this[i][attrName] = attrs[attrName];\n          this[i].setAttribute(attrName, attrs[attrName]);\n        }\n      }\n    }\n\n    return this;\n  }\n\n  function removeAttr(attr) {\n    for (let i = 0; i < this.length; i += 1) {\n      this[i].removeAttribute(attr);\n    }\n\n    return this;\n  }\n\n  function transform(transform) {\n    for (let i = 0; i < this.length; i += 1) {\n      this[i].style.transform = transform;\n    }\n\n    return this;\n  }\n\n  function transition$1(duration) {\n    for (let i = 0; i < this.length; i += 1) {\n      this[i].style.transitionDuration = typeof duration !== 'string' ? `${duration}ms` : duration;\n    }\n\n    return this;\n  }\n\n  function on(...args) {\n    let [eventType, targetSelector, listener, capture] = args;\n\n    if (typeof args[1] === 'function') {\n      [eventType, listener, capture] = args;\n      targetSelector = undefined;\n    }\n\n    if (!capture) capture = false;\n\n    function handleLiveEvent(e) {\n      const target = e.target;\n      if (!target) return;\n      const eventData = e.target.dom7EventData || [];\n\n      if (eventData.indexOf(e) < 0) {\n        eventData.unshift(e);\n      }\n\n      if ($(target).is(targetSelector)) listener.apply(target, eventData);else {\n        const parents = $(target).parents(); // eslint-disable-line\n\n        for (let k = 0; k < parents.length; k += 1) {\n          if ($(parents[k]).is(targetSelector)) listener.apply(parents[k], eventData);\n        }\n      }\n    }\n\n    function handleEvent(e) {\n      const eventData = e && e.target ? e.target.dom7EventData || [] : [];\n\n      if (eventData.indexOf(e) < 0) {\n        eventData.unshift(e);\n      }\n\n      listener.apply(this, eventData);\n    }\n\n    const events = eventType.split(' ');\n    let j;\n\n    for (let i = 0; i < this.length; i += 1) {\n      const el = this[i];\n\n      if (!targetSelector) {\n        for (j = 0; j < events.length; j += 1) {\n          const event = events[j];\n          if (!el.dom7Listeners) el.dom7Listeners = {};\n          if (!el.dom7Listeners[event]) el.dom7Listeners[event] = [];\n          el.dom7Listeners[event].push({\n            listener,\n            proxyListener: handleEvent\n          });\n          el.addEventListener(event, handleEvent, capture);\n        }\n      } else {\n        // Live events\n        for (j = 0; j < events.length; j += 1) {\n          const event = events[j];\n          if (!el.dom7LiveListeners) el.dom7LiveListeners = {};\n          if (!el.dom7LiveListeners[event]) el.dom7LiveListeners[event] = [];\n          el.dom7LiveListeners[event].push({\n            listener,\n            proxyListener: handleLiveEvent\n          });\n          el.addEventListener(event, handleLiveEvent, capture);\n        }\n      }\n    }\n\n    return this;\n  }\n\n  function off(...args) {\n    let [eventType, targetSelector, listener, capture] = args;\n\n    if (typeof args[1] === 'function') {\n      [eventType, listener, capture] = args;\n      targetSelector = undefined;\n    }\n\n    if (!capture) capture = false;\n    const events = eventType.split(' ');\n\n    for (let i = 0; i < events.length; i += 1) {\n      const event = events[i];\n\n      for (let j = 0; j < this.length; j += 1) {\n        const el = this[j];\n        let handlers;\n\n        if (!targetSelector && el.dom7Listeners) {\n          handlers = el.dom7Listeners[event];\n        } else if (targetSelector && el.dom7LiveListeners) {\n          handlers = el.dom7LiveListeners[event];\n        }\n\n        if (handlers && handlers.length) {\n          for (let k = handlers.length - 1; k >= 0; k -= 1) {\n            const handler = handlers[k];\n\n            if (listener && handler.listener === listener) {\n              el.removeEventListener(event, handler.proxyListener, capture);\n              handlers.splice(k, 1);\n            } else if (listener && handler.listener && handler.listener.dom7proxy && handler.listener.dom7proxy === listener) {\n              el.removeEventListener(event, handler.proxyListener, capture);\n              handlers.splice(k, 1);\n            } else if (!listener) {\n              el.removeEventListener(event, handler.proxyListener, capture);\n              handlers.splice(k, 1);\n            }\n          }\n        }\n      }\n    }\n\n    return this;\n  }\n\n  function trigger(...args) {\n    const window = getWindow();\n    const events = args[0].split(' ');\n    const eventData = args[1];\n\n    for (let i = 0; i < events.length; i += 1) {\n      const event = events[i];\n\n      for (let j = 0; j < this.length; j += 1) {\n        const el = this[j];\n\n        if (window.CustomEvent) {\n          const evt = new window.CustomEvent(event, {\n            detail: eventData,\n            bubbles: true,\n            cancelable: true\n          });\n          el.dom7EventData = args.filter((data, dataIndex) => dataIndex > 0);\n          el.dispatchEvent(evt);\n          el.dom7EventData = [];\n          delete el.dom7EventData;\n        }\n      }\n    }\n\n    return this;\n  }\n\n  function transitionEnd$1(callback) {\n    const dom = this;\n\n    function fireCallBack(e) {\n      if (e.target !== this) return;\n      callback.call(this, e);\n      dom.off('transitionend', fireCallBack);\n    }\n\n    if (callback) {\n      dom.on('transitionend', fireCallBack);\n    }\n\n    return this;\n  }\n\n  function outerWidth(includeMargins) {\n    if (this.length > 0) {\n      if (includeMargins) {\n        const styles = this.styles();\n        return this[0].offsetWidth + parseFloat(styles.getPropertyValue('margin-right')) + parseFloat(styles.getPropertyValue('margin-left'));\n      }\n\n      return this[0].offsetWidth;\n    }\n\n    return null;\n  }\n\n  function outerHeight(includeMargins) {\n    if (this.length > 0) {\n      if (includeMargins) {\n        const styles = this.styles();\n        return this[0].offsetHeight + parseFloat(styles.getPropertyValue('margin-top')) + parseFloat(styles.getPropertyValue('margin-bottom'));\n      }\n\n      return this[0].offsetHeight;\n    }\n\n    return null;\n  }\n\n  function offset() {\n    if (this.length > 0) {\n      const window = getWindow();\n      const document = getDocument();\n      const el = this[0];\n      const box = el.getBoundingClientRect();\n      const body = document.body;\n      const clientTop = el.clientTop || body.clientTop || 0;\n      const clientLeft = el.clientLeft || body.clientLeft || 0;\n      const scrollTop = el === window ? window.scrollY : el.scrollTop;\n      const scrollLeft = el === window ? window.scrollX : el.scrollLeft;\n      return {\n        top: box.top + scrollTop - clientTop,\n        left: box.left + scrollLeft - clientLeft\n      };\n    }\n\n    return null;\n  }\n\n  function styles() {\n    const window = getWindow();\n    if (this[0]) return window.getComputedStyle(this[0], null);\n    return {};\n  }\n\n  function css(props, value) {\n    const window = getWindow();\n    let i;\n\n    if (arguments.length === 1) {\n      if (typeof props === 'string') {\n        // .css('width')\n        if (this[0]) return window.getComputedStyle(this[0], null).getPropertyValue(props);\n      } else {\n        // .css({ width: '100px' })\n        for (i = 0; i < this.length; i += 1) {\n          for (const prop in props) {\n            this[i].style[prop] = props[prop];\n          }\n        }\n\n        return this;\n      }\n    }\n\n    if (arguments.length === 2 && typeof props === 'string') {\n      // .css('width', '100px')\n      for (i = 0; i < this.length; i += 1) {\n        this[i].style[props] = value;\n      }\n\n      return this;\n    }\n\n    return this;\n  }\n\n  function each(callback) {\n    if (!callback) return this;\n    this.forEach((el, index) => {\n      callback.apply(el, [el, index]);\n    });\n    return this;\n  }\n\n  function filter(callback) {\n    const result = arrayFilter(this, callback);\n    return $(result);\n  }\n\n  function html(html) {\n    if (typeof html === 'undefined') {\n      return this[0] ? this[0].innerHTML : null;\n    }\n\n    for (let i = 0; i < this.length; i += 1) {\n      this[i].innerHTML = html;\n    }\n\n    return this;\n  }\n\n  function text(text) {\n    if (typeof text === 'undefined') {\n      return this[0] ? this[0].textContent.trim() : null;\n    }\n\n    for (let i = 0; i < this.length; i += 1) {\n      this[i].textContent = text;\n    }\n\n    return this;\n  }\n\n  function is(selector) {\n    const window = getWindow();\n    const document = getDocument();\n    const el = this[0];\n    let compareWith;\n    let i;\n    if (!el || typeof selector === 'undefined') return false;\n\n    if (typeof selector === 'string') {\n      if (el.matches) return el.matches(selector);\n      if (el.webkitMatchesSelector) return el.webkitMatchesSelector(selector);\n      if (el.msMatchesSelector) return el.msMatchesSelector(selector);\n      compareWith = $(selector);\n\n      for (i = 0; i < compareWith.length; i += 1) {\n        if (compareWith[i] === el) return true;\n      }\n\n      return false;\n    }\n\n    if (selector === document) {\n      return el === document;\n    }\n\n    if (selector === window) {\n      return el === window;\n    }\n\n    if (selector.nodeType || selector instanceof Dom7) {\n      compareWith = selector.nodeType ? [selector] : selector;\n\n      for (i = 0; i < compareWith.length; i += 1) {\n        if (compareWith[i] === el) return true;\n      }\n\n      return false;\n    }\n\n    return false;\n  }\n\n  function index() {\n    let child = this[0];\n    let i;\n\n    if (child) {\n      i = 0; // eslint-disable-next-line\n\n      while ((child = child.previousSibling) !== null) {\n        if (child.nodeType === 1) i += 1;\n      }\n\n      return i;\n    }\n\n    return undefined;\n  }\n\n  function eq(index) {\n    if (typeof index === 'undefined') return this;\n    const length = this.length;\n\n    if (index > length - 1) {\n      return $([]);\n    }\n\n    if (index < 0) {\n      const returnIndex = length + index;\n      if (returnIndex < 0) return $([]);\n      return $([this[returnIndex]]);\n    }\n\n    return $([this[index]]);\n  }\n\n  function append(...els) {\n    let newChild;\n    const document = getDocument();\n\n    for (let k = 0; k < els.length; k += 1) {\n      newChild = els[k];\n\n      for (let i = 0; i < this.length; i += 1) {\n        if (typeof newChild === 'string') {\n          const tempDiv = document.createElement('div');\n          tempDiv.innerHTML = newChild;\n\n          while (tempDiv.firstChild) {\n            this[i].appendChild(tempDiv.firstChild);\n          }\n        } else if (newChild instanceof Dom7) {\n          for (let j = 0; j < newChild.length; j += 1) {\n            this[i].appendChild(newChild[j]);\n          }\n        } else {\n          this[i].appendChild(newChild);\n        }\n      }\n    }\n\n    return this;\n  }\n\n  function prepend(newChild) {\n    const document = getDocument();\n    let i;\n    let j;\n\n    for (i = 0; i < this.length; i += 1) {\n      if (typeof newChild === 'string') {\n        const tempDiv = document.createElement('div');\n        tempDiv.innerHTML = newChild;\n\n        for (j = tempDiv.childNodes.length - 1; j >= 0; j -= 1) {\n          this[i].insertBefore(tempDiv.childNodes[j], this[i].childNodes[0]);\n        }\n      } else if (newChild instanceof Dom7) {\n        for (j = 0; j < newChild.length; j += 1) {\n          this[i].insertBefore(newChild[j], this[i].childNodes[0]);\n        }\n      } else {\n        this[i].insertBefore(newChild, this[i].childNodes[0]);\n      }\n    }\n\n    return this;\n  }\n\n  function next(selector) {\n    if (this.length > 0) {\n      if (selector) {\n        if (this[0].nextElementSibling && $(this[0].nextElementSibling).is(selector)) {\n          return $([this[0].nextElementSibling]);\n        }\n\n        return $([]);\n      }\n\n      if (this[0].nextElementSibling) return $([this[0].nextElementSibling]);\n      return $([]);\n    }\n\n    return $([]);\n  }\n\n  function nextAll(selector) {\n    const nextEls = [];\n    let el = this[0];\n    if (!el) return $([]);\n\n    while (el.nextElementSibling) {\n      const next = el.nextElementSibling; // eslint-disable-line\n\n      if (selector) {\n        if ($(next).is(selector)) nextEls.push(next);\n      } else nextEls.push(next);\n\n      el = next;\n    }\n\n    return $(nextEls);\n  }\n\n  function prev(selector) {\n    if (this.length > 0) {\n      const el = this[0];\n\n      if (selector) {\n        if (el.previousElementSibling && $(el.previousElementSibling).is(selector)) {\n          return $([el.previousElementSibling]);\n        }\n\n        return $([]);\n      }\n\n      if (el.previousElementSibling) return $([el.previousElementSibling]);\n      return $([]);\n    }\n\n    return $([]);\n  }\n\n  function prevAll(selector) {\n    const prevEls = [];\n    let el = this[0];\n    if (!el) return $([]);\n\n    while (el.previousElementSibling) {\n      const prev = el.previousElementSibling; // eslint-disable-line\n\n      if (selector) {\n        if ($(prev).is(selector)) prevEls.push(prev);\n      } else prevEls.push(prev);\n\n      el = prev;\n    }\n\n    return $(prevEls);\n  }\n\n  function parent(selector) {\n    const parents = []; // eslint-disable-line\n\n    for (let i = 0; i < this.length; i += 1) {\n      if (this[i].parentNode !== null) {\n        if (selector) {\n          if ($(this[i].parentNode).is(selector)) parents.push(this[i].parentNode);\n        } else {\n          parents.push(this[i].parentNode);\n        }\n      }\n    }\n\n    return $(parents);\n  }\n\n  function parents(selector) {\n    const parents = []; // eslint-disable-line\n\n    for (let i = 0; i < this.length; i += 1) {\n      let parent = this[i].parentNode; // eslint-disable-line\n\n      while (parent) {\n        if (selector) {\n          if ($(parent).is(selector)) parents.push(parent);\n        } else {\n          parents.push(parent);\n        }\n\n        parent = parent.parentNode;\n      }\n    }\n\n    return $(parents);\n  }\n\n  function closest(selector) {\n    let closest = this; // eslint-disable-line\n\n    if (typeof selector === 'undefined') {\n      return $([]);\n    }\n\n    if (!closest.is(selector)) {\n      closest = closest.parents(selector).eq(0);\n    }\n\n    return closest;\n  }\n\n  function find(selector) {\n    const foundElements = [];\n\n    for (let i = 0; i < this.length; i += 1) {\n      const found = this[i].querySelectorAll(selector);\n\n      for (let j = 0; j < found.length; j += 1) {\n        foundElements.push(found[j]);\n      }\n    }\n\n    return $(foundElements);\n  }\n\n  function children(selector) {\n    const children = []; // eslint-disable-line\n\n    for (let i = 0; i < this.length; i += 1) {\n      const childNodes = this[i].children;\n\n      for (let j = 0; j < childNodes.length; j += 1) {\n        if (!selector || $(childNodes[j]).is(selector)) {\n          children.push(childNodes[j]);\n        }\n      }\n    }\n\n    return $(children);\n  }\n\n  function remove() {\n    for (let i = 0; i < this.length; i += 1) {\n      if (this[i].parentNode) this[i].parentNode.removeChild(this[i]);\n    }\n\n    return this;\n  }\n\n  const Methods = {\n    addClass,\n    removeClass,\n    hasClass,\n    toggleClass,\n    attr,\n    removeAttr,\n    transform,\n    transition: transition$1,\n    on,\n    off,\n    trigger,\n    transitionEnd: transitionEnd$1,\n    outerWidth,\n    outerHeight,\n    styles,\n    offset,\n    css,\n    each,\n    html,\n    text,\n    is,\n    index,\n    eq,\n    append,\n    prepend,\n    next,\n    nextAll,\n    prev,\n    prevAll,\n    parent,\n    parents,\n    closest,\n    find,\n    children,\n    filter,\n    remove\n  };\n  Object.keys(Methods).forEach(methodName => {\n    Object.defineProperty($.fn, methodName, {\n      value: Methods[methodName],\n      writable: true\n    });\n  });\n\n  function deleteProps(obj) {\n    const object = obj;\n    Object.keys(object).forEach(key => {\n      try {\n        object[key] = null;\n      } catch (e) {// no getter for object\n      }\n\n      try {\n        delete object[key];\n      } catch (e) {// something got wrong\n      }\n    });\n  }\n\n  function nextTick(callback, delay = 0) {\n    return setTimeout(callback, delay);\n  }\n\n  function now() {\n    return Date.now();\n  }\n\n  function getComputedStyle$1(el) {\n    const window = getWindow();\n    let style;\n\n    if (window.getComputedStyle) {\n      style = window.getComputedStyle(el, null);\n    }\n\n    if (!style && el.currentStyle) {\n      style = el.currentStyle;\n    }\n\n    if (!style) {\n      style = el.style;\n    }\n\n    return style;\n  }\n\n  function getTranslate(el, axis = 'x') {\n    const window = getWindow();\n    let matrix;\n    let curTransform;\n    let transformMatrix;\n    const curStyle = getComputedStyle$1(el);\n\n    if (window.WebKitCSSMatrix) {\n      curTransform = curStyle.transform || curStyle.webkitTransform;\n\n      if (curTransform.split(',').length > 6) {\n        curTransform = curTransform.split(', ').map(a => a.replace(',', '.')).join(', ');\n      } // Some old versions of Webkit choke when 'none' is passed; pass\n      // empty string instead in this case\n\n\n      transformMatrix = new window.WebKitCSSMatrix(curTransform === 'none' ? '' : curTransform);\n    } else {\n      transformMatrix = curStyle.MozTransform || curStyle.OTransform || curStyle.MsTransform || curStyle.msTransform || curStyle.transform || curStyle.getPropertyValue('transform').replace('translate(', 'matrix(1, 0, 0, 1,');\n      matrix = transformMatrix.toString().split(',');\n    }\n\n    if (axis === 'x') {\n      // Latest Chrome and webkits Fix\n      if (window.WebKitCSSMatrix) curTransform = transformMatrix.m41; // Crazy IE10 Matrix\n      else if (matrix.length === 16) curTransform = parseFloat(matrix[12]); // Normal Browsers\n      else curTransform = parseFloat(matrix[4]);\n    }\n\n    if (axis === 'y') {\n      // Latest Chrome and webkits Fix\n      if (window.WebKitCSSMatrix) curTransform = transformMatrix.m42; // Crazy IE10 Matrix\n      else if (matrix.length === 16) curTransform = parseFloat(matrix[13]); // Normal Browsers\n      else curTransform = parseFloat(matrix[5]);\n    }\n\n    return curTransform || 0;\n  }\n\n  function isObject(o) {\n    return typeof o === 'object' && o !== null && o.constructor && Object.prototype.toString.call(o).slice(8, -1) === 'Object';\n  }\n\n  function isNode(node) {\n    // eslint-disable-next-line\n    if (typeof window !== 'undefined' && typeof window.HTMLElement !== 'undefined') {\n      return node instanceof HTMLElement;\n    }\n\n    return node && (node.nodeType === 1 || node.nodeType === 11);\n  }\n\n  function extend(...args) {\n    const to = Object(args[0]);\n    const noExtend = ['__proto__', 'constructor', 'prototype'];\n\n    for (let i = 1; i < args.length; i += 1) {\n      const nextSource = args[i];\n\n      if (nextSource !== undefined && nextSource !== null && !isNode(nextSource)) {\n        const keysArray = Object.keys(Object(nextSource)).filter(key => noExtend.indexOf(key) < 0);\n\n        for (let nextIndex = 0, len = keysArray.length; nextIndex < len; nextIndex += 1) {\n          const nextKey = keysArray[nextIndex];\n          const desc = Object.getOwnPropertyDescriptor(nextSource, nextKey);\n\n          if (desc !== undefined && desc.enumerable) {\n            if (isObject(to[nextKey]) && isObject(nextSource[nextKey])) {\n              if (nextSource[nextKey].__swiper__) {\n                to[nextKey] = nextSource[nextKey];\n              } else {\n                extend(to[nextKey], nextSource[nextKey]);\n              }\n            } else if (!isObject(to[nextKey]) && isObject(nextSource[nextKey])) {\n              to[nextKey] = {};\n\n              if (nextSource[nextKey].__swiper__) {\n                to[nextKey] = nextSource[nextKey];\n              } else {\n                extend(to[nextKey], nextSource[nextKey]);\n              }\n            } else {\n              to[nextKey] = nextSource[nextKey];\n            }\n          }\n        }\n      }\n    }\n\n    return to;\n  }\n\n  function setCSSProperty(el, varName, varValue) {\n    el.style.setProperty(varName, varValue);\n  }\n\n  function animateCSSModeScroll({\n    swiper,\n    targetPosition,\n    side\n  }) {\n    const window = getWindow();\n    const startPosition = -swiper.translate;\n    let startTime = null;\n    let time;\n    const duration = swiper.params.speed;\n    swiper.wrapperEl.style.scrollSnapType = 'none';\n    window.cancelAnimationFrame(swiper.cssModeFrameID);\n    const dir = targetPosition > startPosition ? 'next' : 'prev';\n\n    const isOutOfBound = (current, target) => {\n      return dir === 'next' && current >= target || dir === 'prev' && current <= target;\n    };\n\n    const animate = () => {\n      time = new Date().getTime();\n\n      if (startTime === null) {\n        startTime = time;\n      }\n\n      const progress = Math.max(Math.min((time - startTime) / duration, 1), 0);\n      const easeProgress = 0.5 - Math.cos(progress * Math.PI) / 2;\n      let currentPosition = startPosition + easeProgress * (targetPosition - startPosition);\n\n      if (isOutOfBound(currentPosition, targetPosition)) {\n        currentPosition = targetPosition;\n      }\n\n      swiper.wrapperEl.scrollTo({\n        [side]: currentPosition\n      });\n\n      if (isOutOfBound(currentPosition, targetPosition)) {\n        swiper.wrapperEl.style.overflow = 'hidden';\n        swiper.wrapperEl.style.scrollSnapType = '';\n        setTimeout(() => {\n          swiper.wrapperEl.style.overflow = '';\n          swiper.wrapperEl.scrollTo({\n            [side]: currentPosition\n          });\n        });\n        window.cancelAnimationFrame(swiper.cssModeFrameID);\n        return;\n      }\n\n      swiper.cssModeFrameID = window.requestAnimationFrame(animate);\n    };\n\n    animate();\n  }\n\n  let support;\n\n  function calcSupport() {\n    const window = getWindow();\n    const document = getDocument();\n    return {\n      smoothScroll: document.documentElement && 'scrollBehavior' in document.documentElement.style,\n      touch: !!('ontouchstart' in window || window.DocumentTouch && document instanceof window.DocumentTouch),\n      passiveListener: function checkPassiveListener() {\n        let supportsPassive = false;\n\n        try {\n          const opts = Object.defineProperty({}, 'passive', {\n            // eslint-disable-next-line\n            get() {\n              supportsPassive = true;\n            }\n\n          });\n          window.addEventListener('testPassiveListener', null, opts);\n        } catch (e) {// No support\n        }\n\n        return supportsPassive;\n      }(),\n      gestures: function checkGestures() {\n        return 'ongesturestart' in window;\n      }()\n    };\n  }\n\n  function getSupport() {\n    if (!support) {\n      support = calcSupport();\n    }\n\n    return support;\n  }\n\n  let deviceCached;\n\n  function calcDevice({\n    userAgent\n  } = {}) {\n    const support = getSupport();\n    const window = getWindow();\n    const platform = window.navigator.platform;\n    const ua = userAgent || window.navigator.userAgent;\n    const device = {\n      ios: false,\n      android: false\n    };\n    const screenWidth = window.screen.width;\n    const screenHeight = window.screen.height;\n    const android = ua.match(/(Android);?[\\s\\/]+([\\d.]+)?/); // eslint-disable-line\n\n    let ipad = ua.match(/(iPad).*OS\\s([\\d_]+)/);\n    const ipod = ua.match(/(iPod)(.*OS\\s([\\d_]+))?/);\n    const iphone = !ipad && ua.match(/(iPhone\\sOS|iOS)\\s([\\d_]+)/);\n    const windows = platform === 'Win32';\n    let macos = platform === 'MacIntel'; // iPadOs 13 fix\n\n    const iPadScreens = ['1024x1366', '1366x1024', '834x1194', '1194x834', '834x1112', '1112x834', '768x1024', '1024x768', '820x1180', '1180x820', '810x1080', '1080x810'];\n\n    if (!ipad && macos && support.touch && iPadScreens.indexOf(`${screenWidth}x${screenHeight}`) >= 0) {\n      ipad = ua.match(/(Version)\\/([\\d.]+)/);\n      if (!ipad) ipad = [0, 1, '13_0_0'];\n      macos = false;\n    } // Android\n\n\n    if (android && !windows) {\n      device.os = 'android';\n      device.android = true;\n    }\n\n    if (ipad || iphone || ipod) {\n      device.os = 'ios';\n      device.ios = true;\n    } // Export object\n\n\n    return device;\n  }\n\n  function getDevice(overrides = {}) {\n    if (!deviceCached) {\n      deviceCached = calcDevice(overrides);\n    }\n\n    return deviceCached;\n  }\n\n  let browser;\n\n  function calcBrowser() {\n    const window = getWindow();\n\n    function isSafari() {\n      const ua = window.navigator.userAgent.toLowerCase();\n      return ua.indexOf('safari') >= 0 && ua.indexOf('chrome') < 0 && ua.indexOf('android') < 0;\n    }\n\n    return {\n      isSafari: isSafari(),\n      isWebView: /(iPhone|iPod|iPad).*AppleWebKit(?!.*Safari)/i.test(window.navigator.userAgent)\n    };\n  }\n\n  function getBrowser() {\n    if (!browser) {\n      browser = calcBrowser();\n    }\n\n    return browser;\n  }\n\n  function Resize({\n    swiper,\n    on,\n    emit\n  }) {\n    const window = getWindow();\n    let observer = null;\n\n    const resizeHandler = () => {\n      if (!swiper || swiper.destroyed || !swiper.initialized) return;\n      emit('beforeResize');\n      emit('resize');\n    };\n\n    const createObserver = () => {\n      if (!swiper || swiper.destroyed || !swiper.initialized) return;\n      observer = new ResizeObserver(entries => {\n        const {\n          width,\n          height\n        } = swiper;\n        let newWidth = width;\n        let newHeight = height;\n        entries.forEach(({\n          contentBoxSize,\n          contentRect,\n          target\n        }) => {\n          if (target && target !== swiper.el) return;\n          newWidth = contentRect ? contentRect.width : (contentBoxSize[0] || contentBoxSize).inlineSize;\n          newHeight = contentRect ? contentRect.height : (contentBoxSize[0] || contentBoxSize).blockSize;\n        });\n\n        if (newWidth !== width || newHeight !== height) {\n          resizeHandler();\n        }\n      });\n      observer.observe(swiper.el);\n    };\n\n    const removeObserver = () => {\n      if (observer && observer.unobserve && swiper.el) {\n        observer.unobserve(swiper.el);\n        observer = null;\n      }\n    };\n\n    const orientationChangeHandler = () => {\n      if (!swiper || swiper.destroyed || !swiper.initialized) return;\n      emit('orientationchange');\n    };\n\n    on('init', () => {\n      if (swiper.params.resizeObserver && typeof window.ResizeObserver !== 'undefined') {\n        createObserver();\n        return;\n      }\n\n      window.addEventListener('resize', resizeHandler);\n      window.addEventListener('orientationchange', orientationChangeHandler);\n    });\n    on('destroy', () => {\n      removeObserver();\n      window.removeEventListener('resize', resizeHandler);\n      window.removeEventListener('orientationchange', orientationChangeHandler);\n    });\n  }\n\n  function Observer({\n    swiper,\n    extendParams,\n    on,\n    emit\n  }) {\n    const observers = [];\n    const window = getWindow();\n\n    const attach = (target, options = {}) => {\n      const ObserverFunc = window.MutationObserver || window.WebkitMutationObserver;\n      const observer = new ObserverFunc(mutations => {\n        // The observerUpdate event should only be triggered\n        // once despite the number of mutations.  Additional\n        // triggers are redundant and are very costly\n        if (mutations.length === 1) {\n          emit('observerUpdate', mutations[0]);\n          return;\n        }\n\n        const observerUpdate = function observerUpdate() {\n          emit('observerUpdate', mutations[0]);\n        };\n\n        if (window.requestAnimationFrame) {\n          window.requestAnimationFrame(observerUpdate);\n        } else {\n          window.setTimeout(observerUpdate, 0);\n        }\n      });\n      observer.observe(target, {\n        attributes: typeof options.attributes === 'undefined' ? true : options.attributes,\n        childList: typeof options.childList === 'undefined' ? true : options.childList,\n        characterData: typeof options.characterData === 'undefined' ? true : options.characterData\n      });\n      observers.push(observer);\n    };\n\n    const init = () => {\n      if (!swiper.params.observer) return;\n\n      if (swiper.params.observeParents) {\n        const containerParents = swiper.$el.parents();\n\n        for (let i = 0; i < containerParents.length; i += 1) {\n          attach(containerParents[i]);\n        }\n      } // Observe container\n\n\n      attach(swiper.$el[0], {\n        childList: swiper.params.observeSlideChildren\n      }); // Observe wrapper\n\n      attach(swiper.$wrapperEl[0], {\n        attributes: false\n      });\n    };\n\n    const destroy = () => {\n      observers.forEach(observer => {\n        observer.disconnect();\n      });\n      observers.splice(0, observers.length);\n    };\n\n    extendParams({\n      observer: false,\n      observeParents: false,\n      observeSlideChildren: false\n    });\n    on('init', init);\n    on('destroy', destroy);\n  }\n\n  /* eslint-disable no-underscore-dangle */\n  var eventsEmitter = {\n    on(events, handler, priority) {\n      const self = this;\n      if (typeof handler !== 'function') return self;\n      const method = priority ? 'unshift' : 'push';\n      events.split(' ').forEach(event => {\n        if (!self.eventsListeners[event]) self.eventsListeners[event] = [];\n        self.eventsListeners[event][method](handler);\n      });\n      return self;\n    },\n\n    once(events, handler, priority) {\n      const self = this;\n      if (typeof handler !== 'function') return self;\n\n      function onceHandler(...args) {\n        self.off(events, onceHandler);\n\n        if (onceHandler.__emitterProxy) {\n          delete onceHandler.__emitterProxy;\n        }\n\n        handler.apply(self, args);\n      }\n\n      onceHandler.__emitterProxy = handler;\n      return self.on(events, onceHandler, priority);\n    },\n\n    onAny(handler, priority) {\n      const self = this;\n      if (typeof handler !== 'function') return self;\n      const method = priority ? 'unshift' : 'push';\n\n      if (self.eventsAnyListeners.indexOf(handler) < 0) {\n        self.eventsAnyListeners[method](handler);\n      }\n\n      return self;\n    },\n\n    offAny(handler) {\n      const self = this;\n      if (!self.eventsAnyListeners) return self;\n      const index = self.eventsAnyListeners.indexOf(handler);\n\n      if (index >= 0) {\n        self.eventsAnyListeners.splice(index, 1);\n      }\n\n      return self;\n    },\n\n    off(events, handler) {\n      const self = this;\n      if (!self.eventsListeners) return self;\n      events.split(' ').forEach(event => {\n        if (typeof handler === 'undefined') {\n          self.eventsListeners[event] = [];\n        } else if (self.eventsListeners[event]) {\n          self.eventsListeners[event].forEach((eventHandler, index) => {\n            if (eventHandler === handler || eventHandler.__emitterProxy && eventHandler.__emitterProxy === handler) {\n              self.eventsListeners[event].splice(index, 1);\n            }\n          });\n        }\n      });\n      return self;\n    },\n\n    emit(...args) {\n      const self = this;\n      if (!self.eventsListeners) return self;\n      let events;\n      let data;\n      let context;\n\n      if (typeof args[0] === 'string' || Array.isArray(args[0])) {\n        events = args[0];\n        data = args.slice(1, args.length);\n        context = self;\n      } else {\n        events = args[0].events;\n        data = args[0].data;\n        context = args[0].context || self;\n      }\n\n      data.unshift(context);\n      const eventsArray = Array.isArray(events) ? events : events.split(' ');\n      eventsArray.forEach(event => {\n        if (self.eventsAnyListeners && self.eventsAnyListeners.length) {\n          self.eventsAnyListeners.forEach(eventHandler => {\n            eventHandler.apply(context, [event, ...data]);\n          });\n        }\n\n        if (self.eventsListeners && self.eventsListeners[event]) {\n          self.eventsListeners[event].forEach(eventHandler => {\n            eventHandler.apply(context, data);\n          });\n        }\n      });\n      return self;\n    }\n\n  };\n\n  function updateSize() {\n    const swiper = this;\n    let width;\n    let height;\n    const $el = swiper.$el;\n\n    if (typeof swiper.params.width !== 'undefined' && swiper.params.width !== null) {\n      width = swiper.params.width;\n    } else {\n      width = $el[0].clientWidth;\n    }\n\n    if (typeof swiper.params.height !== 'undefined' && swiper.params.height !== null) {\n      height = swiper.params.height;\n    } else {\n      height = $el[0].clientHeight;\n    }\n\n    if (width === 0 && swiper.isHorizontal() || height === 0 && swiper.isVertical()) {\n      return;\n    } // Subtract paddings\n\n\n    width = width - parseInt($el.css('padding-left') || 0, 10) - parseInt($el.css('padding-right') || 0, 10);\n    height = height - parseInt($el.css('padding-top') || 0, 10) - parseInt($el.css('padding-bottom') || 0, 10);\n    if (Number.isNaN(width)) width = 0;\n    if (Number.isNaN(height)) height = 0;\n    Object.assign(swiper, {\n      width,\n      height,\n      size: swiper.isHorizontal() ? width : height\n    });\n  }\n\n  function updateSlides() {\n    const swiper = this;\n\n    function getDirectionLabel(property) {\n      if (swiper.isHorizontal()) {\n        return property;\n      } // prettier-ignore\n\n\n      return {\n        'width': 'height',\n        'margin-top': 'margin-left',\n        'margin-bottom ': 'margin-right',\n        'margin-left': 'margin-top',\n        'margin-right': 'margin-bottom',\n        'padding-left': 'padding-top',\n        'padding-right': 'padding-bottom',\n        'marginRight': 'marginBottom'\n      }[property];\n    }\n\n    function getDirectionPropertyValue(node, label) {\n      return parseFloat(node.getPropertyValue(getDirectionLabel(label)) || 0);\n    }\n\n    const params = swiper.params;\n    const {\n      $wrapperEl,\n      size: swiperSize,\n      rtlTranslate: rtl,\n      wrongRTL\n    } = swiper;\n    const isVirtual = swiper.virtual && params.virtual.enabled;\n    const previousSlidesLength = isVirtual ? swiper.virtual.slides.length : swiper.slides.length;\n    const slides = $wrapperEl.children(`.${swiper.params.slideClass}`);\n    const slidesLength = isVirtual ? swiper.virtual.slides.length : slides.length;\n    let snapGrid = [];\n    const slidesGrid = [];\n    const slidesSizesGrid = [];\n    let offsetBefore = params.slidesOffsetBefore;\n\n    if (typeof offsetBefore === 'function') {\n      offsetBefore = params.slidesOffsetBefore.call(swiper);\n    }\n\n    let offsetAfter = params.slidesOffsetAfter;\n\n    if (typeof offsetAfter === 'function') {\n      offsetAfter = params.slidesOffsetAfter.call(swiper);\n    }\n\n    const previousSnapGridLength = swiper.snapGrid.length;\n    const previousSlidesGridLength = swiper.slidesGrid.length;\n    let spaceBetween = params.spaceBetween;\n    let slidePosition = -offsetBefore;\n    let prevSlideSize = 0;\n    let index = 0;\n\n    if (typeof swiperSize === 'undefined') {\n      return;\n    }\n\n    if (typeof spaceBetween === 'string' && spaceBetween.indexOf('%') >= 0) {\n      spaceBetween = parseFloat(spaceBetween.replace('%', '')) / 100 * swiperSize;\n    }\n\n    swiper.virtualSize = -spaceBetween; // reset margins\n\n    if (rtl) slides.css({\n      marginLeft: '',\n      marginBottom: '',\n      marginTop: ''\n    });else slides.css({\n      marginRight: '',\n      marginBottom: '',\n      marginTop: ''\n    }); // reset cssMode offsets\n\n    if (params.centeredSlides && params.cssMode) {\n      setCSSProperty(swiper.wrapperEl, '--swiper-centered-offset-before', '');\n      setCSSProperty(swiper.wrapperEl, '--swiper-centered-offset-after', '');\n    }\n\n    const gridEnabled = params.grid && params.grid.rows > 1 && swiper.grid;\n\n    if (gridEnabled) {\n      swiper.grid.initSlides(slidesLength);\n    } // Calc slides\n\n\n    let slideSize;\n    const shouldResetSlideSize = params.slidesPerView === 'auto' && params.breakpoints && Object.keys(params.breakpoints).filter(key => {\n      return typeof params.breakpoints[key].slidesPerView !== 'undefined';\n    }).length > 0;\n\n    for (let i = 0; i < slidesLength; i += 1) {\n      slideSize = 0;\n      const slide = slides.eq(i);\n\n      if (gridEnabled) {\n        swiper.grid.updateSlide(i, slide, slidesLength, getDirectionLabel);\n      }\n\n      if (slide.css('display') === 'none') continue; // eslint-disable-line\n\n      if (params.slidesPerView === 'auto') {\n        if (shouldResetSlideSize) {\n          slides[i].style[getDirectionLabel('width')] = ``;\n        }\n\n        const slideStyles = getComputedStyle(slide[0]);\n        const currentTransform = slide[0].style.transform;\n        const currentWebKitTransform = slide[0].style.webkitTransform;\n\n        if (currentTransform) {\n          slide[0].style.transform = 'none';\n        }\n\n        if (currentWebKitTransform) {\n          slide[0].style.webkitTransform = 'none';\n        }\n\n        if (params.roundLengths) {\n          slideSize = swiper.isHorizontal() ? slide.outerWidth(true) : slide.outerHeight(true);\n        } else {\n          // eslint-disable-next-line\n          const width = getDirectionPropertyValue(slideStyles, 'width');\n          const paddingLeft = getDirectionPropertyValue(slideStyles, 'padding-left');\n          const paddingRight = getDirectionPropertyValue(slideStyles, 'padding-right');\n          const marginLeft = getDirectionPropertyValue(slideStyles, 'margin-left');\n          const marginRight = getDirectionPropertyValue(slideStyles, 'margin-right');\n          const boxSizing = slideStyles.getPropertyValue('box-sizing');\n\n          if (boxSizing && boxSizing === 'border-box') {\n            slideSize = width + marginLeft + marginRight;\n          } else {\n            const {\n              clientWidth,\n              offsetWidth\n            } = slide[0];\n            slideSize = width + paddingLeft + paddingRight + marginLeft + marginRight + (offsetWidth - clientWidth);\n          }\n        }\n\n        if (currentTransform) {\n          slide[0].style.transform = currentTransform;\n        }\n\n        if (currentWebKitTransform) {\n          slide[0].style.webkitTransform = currentWebKitTransform;\n        }\n\n        if (params.roundLengths) slideSize = Math.floor(slideSize);\n      } else {\n        slideSize = (swiperSize - (params.slidesPerView - 1) * spaceBetween) / params.slidesPerView;\n        if (params.roundLengths) slideSize = Math.floor(slideSize);\n\n        if (slides[i]) {\n          slides[i].style[getDirectionLabel('width')] = `${slideSize}px`;\n        }\n      }\n\n      if (slides[i]) {\n        slides[i].swiperSlideSize = slideSize;\n      }\n\n      slidesSizesGrid.push(slideSize);\n\n      if (params.centeredSlides) {\n        slidePosition = slidePosition + slideSize / 2 + prevSlideSize / 2 + spaceBetween;\n        if (prevSlideSize === 0 && i !== 0) slidePosition = slidePosition - swiperSize / 2 - spaceBetween;\n        if (i === 0) slidePosition = slidePosition - swiperSize / 2 - spaceBetween;\n        if (Math.abs(slidePosition) < 1 / 1000) slidePosition = 0;\n        if (params.roundLengths) slidePosition = Math.floor(slidePosition);\n        if (index % params.slidesPerGroup === 0) snapGrid.push(slidePosition);\n        slidesGrid.push(slidePosition);\n      } else {\n        if (params.roundLengths) slidePosition = Math.floor(slidePosition);\n        if ((index - Math.min(swiper.params.slidesPerGroupSkip, index)) % swiper.params.slidesPerGroup === 0) snapGrid.push(slidePosition);\n        slidesGrid.push(slidePosition);\n        slidePosition = slidePosition + slideSize + spaceBetween;\n      }\n\n      swiper.virtualSize += slideSize + spaceBetween;\n      prevSlideSize = slideSize;\n      index += 1;\n    }\n\n    swiper.virtualSize = Math.max(swiper.virtualSize, swiperSize) + offsetAfter;\n\n    if (rtl && wrongRTL && (params.effect === 'slide' || params.effect === 'coverflow')) {\n      $wrapperEl.css({\n        width: `${swiper.virtualSize + params.spaceBetween}px`\n      });\n    }\n\n    if (params.setWrapperSize) {\n      $wrapperEl.css({\n        [getDirectionLabel('width')]: `${swiper.virtualSize + params.spaceBetween}px`\n      });\n    }\n\n    if (gridEnabled) {\n      swiper.grid.updateWrapperSize(slideSize, snapGrid, getDirectionLabel);\n    } // Remove last grid elements depending on width\n\n\n    if (!params.centeredSlides) {\n      const newSlidesGrid = [];\n\n      for (let i = 0; i < snapGrid.length; i += 1) {\n        let slidesGridItem = snapGrid[i];\n        if (params.roundLengths) slidesGridItem = Math.floor(slidesGridItem);\n\n        if (snapGrid[i] <= swiper.virtualSize - swiperSize) {\n          newSlidesGrid.push(slidesGridItem);\n        }\n      }\n\n      snapGrid = newSlidesGrid;\n\n      if (Math.floor(swiper.virtualSize - swiperSize) - Math.floor(snapGrid[snapGrid.length - 1]) > 1) {\n        snapGrid.push(swiper.virtualSize - swiperSize);\n      }\n    }\n\n    if (snapGrid.length === 0) snapGrid = [0];\n\n    if (params.spaceBetween !== 0) {\n      const key = swiper.isHorizontal() && rtl ? 'marginLeft' : getDirectionLabel('marginRight');\n      slides.filter((_, slideIndex) => {\n        if (!params.cssMode) return true;\n\n        if (slideIndex === slides.length - 1) {\n          return false;\n        }\n\n        return true;\n      }).css({\n        [key]: `${spaceBetween}px`\n      });\n    }\n\n    if (params.centeredSlides && params.centeredSlidesBounds) {\n      let allSlidesSize = 0;\n      slidesSizesGrid.forEach(slideSizeValue => {\n        allSlidesSize += slideSizeValue + (params.spaceBetween ? params.spaceBetween : 0);\n      });\n      allSlidesSize -= params.spaceBetween;\n      const maxSnap = allSlidesSize - swiperSize;\n      snapGrid = snapGrid.map(snap => {\n        if (snap < 0) return -offsetBefore;\n        if (snap > maxSnap) return maxSnap + offsetAfter;\n        return snap;\n      });\n    }\n\n    if (params.centerInsufficientSlides) {\n      let allSlidesSize = 0;\n      slidesSizesGrid.forEach(slideSizeValue => {\n        allSlidesSize += slideSizeValue + (params.spaceBetween ? params.spaceBetween : 0);\n      });\n      allSlidesSize -= params.spaceBetween;\n\n      if (allSlidesSize < swiperSize) {\n        const allSlidesOffset = (swiperSize - allSlidesSize) / 2;\n        snapGrid.forEach((snap, snapIndex) => {\n          snapGrid[snapIndex] = snap - allSlidesOffset;\n        });\n        slidesGrid.forEach((snap, snapIndex) => {\n          slidesGrid[snapIndex] = snap + allSlidesOffset;\n        });\n      }\n    }\n\n    Object.assign(swiper, {\n      slides,\n      snapGrid,\n      slidesGrid,\n      slidesSizesGrid\n    });\n\n    if (params.centeredSlides && params.cssMode && !params.centeredSlidesBounds) {\n      setCSSProperty(swiper.wrapperEl, '--swiper-centered-offset-before', `${-snapGrid[0]}px`);\n      setCSSProperty(swiper.wrapperEl, '--swiper-centered-offset-after', `${swiper.size / 2 - slidesSizesGrid[slidesSizesGrid.length - 1] / 2}px`);\n      const addToSnapGrid = -swiper.snapGrid[0];\n      const addToSlidesGrid = -swiper.slidesGrid[0];\n      swiper.snapGrid = swiper.snapGrid.map(v => v + addToSnapGrid);\n      swiper.slidesGrid = swiper.slidesGrid.map(v => v + addToSlidesGrid);\n    }\n\n    if (slidesLength !== previousSlidesLength) {\n      swiper.emit('slidesLengthChange');\n    }\n\n    if (snapGrid.length !== previousSnapGridLength) {\n      if (swiper.params.watchOverflow) swiper.checkOverflow();\n      swiper.emit('snapGridLengthChange');\n    }\n\n    if (slidesGrid.length !== previousSlidesGridLength) {\n      swiper.emit('slidesGridLengthChange');\n    }\n\n    if (params.watchSlidesProgress) {\n      swiper.updateSlidesOffset();\n    }\n  }\n\n  function updateAutoHeight(speed) {\n    const swiper = this;\n    const activeSlides = [];\n    const isVirtual = swiper.virtual && swiper.params.virtual.enabled;\n    let newHeight = 0;\n    let i;\n\n    if (typeof speed === 'number') {\n      swiper.setTransition(speed);\n    } else if (speed === true) {\n      swiper.setTransition(swiper.params.speed);\n    }\n\n    const getSlideByIndex = index => {\n      if (isVirtual) {\n        return swiper.slides.filter(el => parseInt(el.getAttribute('data-swiper-slide-index'), 10) === index)[0];\n      }\n\n      return swiper.slides.eq(index)[0];\n    }; // Find slides currently in view\n\n\n    if (swiper.params.slidesPerView !== 'auto' && swiper.params.slidesPerView > 1) {\n      if (swiper.params.centeredSlides) {\n        swiper.visibleSlides.each(slide => {\n          activeSlides.push(slide);\n        });\n      } else {\n        for (i = 0; i < Math.ceil(swiper.params.slidesPerView); i += 1) {\n          const index = swiper.activeIndex + i;\n          if (index > swiper.slides.length && !isVirtual) break;\n          activeSlides.push(getSlideByIndex(index));\n        }\n      }\n    } else {\n      activeSlides.push(getSlideByIndex(swiper.activeIndex));\n    } // Find new height from highest slide in view\n\n\n    for (i = 0; i < activeSlides.length; i += 1) {\n      if (typeof activeSlides[i] !== 'undefined') {\n        const height = activeSlides[i].offsetHeight;\n        newHeight = height > newHeight ? height : newHeight;\n      }\n    } // Update Height\n\n\n    if (newHeight) swiper.$wrapperEl.css('height', `${newHeight}px`);\n  }\n\n  function updateSlidesOffset() {\n    const swiper = this;\n    const slides = swiper.slides;\n\n    for (let i = 0; i < slides.length; i += 1) {\n      slides[i].swiperSlideOffset = swiper.isHorizontal() ? slides[i].offsetLeft : slides[i].offsetTop;\n    }\n  }\n\n  function updateSlidesProgress(translate = this && this.translate || 0) {\n    const swiper = this;\n    const params = swiper.params;\n    const {\n      slides,\n      rtlTranslate: rtl,\n      snapGrid\n    } = swiper;\n    if (slides.length === 0) return;\n    if (typeof slides[0].swiperSlideOffset === 'undefined') swiper.updateSlidesOffset();\n    let offsetCenter = -translate;\n    if (rtl) offsetCenter = translate; // Visible Slides\n\n    slides.removeClass(params.slideVisibleClass);\n    swiper.visibleSlidesIndexes = [];\n    swiper.visibleSlides = [];\n\n    for (let i = 0; i < slides.length; i += 1) {\n      const slide = slides[i];\n      let slideOffset = slide.swiperSlideOffset;\n\n      if (params.cssMode && params.centeredSlides) {\n        slideOffset -= slides[0].swiperSlideOffset;\n      }\n\n      const slideProgress = (offsetCenter + (params.centeredSlides ? swiper.minTranslate() : 0) - slideOffset) / (slide.swiperSlideSize + params.spaceBetween);\n      const originalSlideProgress = (offsetCenter - snapGrid[0] + (params.centeredSlides ? swiper.minTranslate() : 0) - slideOffset) / (slide.swiperSlideSize + params.spaceBetween);\n      const slideBefore = -(offsetCenter - slideOffset);\n      const slideAfter = slideBefore + swiper.slidesSizesGrid[i];\n      const isVisible = slideBefore >= 0 && slideBefore < swiper.size - 1 || slideAfter > 1 && slideAfter <= swiper.size || slideBefore <= 0 && slideAfter >= swiper.size;\n\n      if (isVisible) {\n        swiper.visibleSlides.push(slide);\n        swiper.visibleSlidesIndexes.push(i);\n        slides.eq(i).addClass(params.slideVisibleClass);\n      }\n\n      slide.progress = rtl ? -slideProgress : slideProgress;\n      slide.originalProgress = rtl ? -originalSlideProgress : originalSlideProgress;\n    }\n\n    swiper.visibleSlides = $(swiper.visibleSlides);\n  }\n\n  function updateProgress(translate) {\n    const swiper = this;\n\n    if (typeof translate === 'undefined') {\n      const multiplier = swiper.rtlTranslate ? -1 : 1; // eslint-disable-next-line\n\n      translate = swiper && swiper.translate && swiper.translate * multiplier || 0;\n    }\n\n    const params = swiper.params;\n    const translatesDiff = swiper.maxTranslate() - swiper.minTranslate();\n    let {\n      progress,\n      isBeginning,\n      isEnd\n    } = swiper;\n    const wasBeginning = isBeginning;\n    const wasEnd = isEnd;\n\n    if (translatesDiff === 0) {\n      progress = 0;\n      isBeginning = true;\n      isEnd = true;\n    } else {\n      progress = (translate - swiper.minTranslate()) / translatesDiff;\n      isBeginning = progress <= 0;\n      isEnd = progress >= 1;\n    }\n\n    Object.assign(swiper, {\n      progress,\n      isBeginning,\n      isEnd\n    });\n    if (params.watchSlidesProgress || params.centeredSlides && params.autoHeight) swiper.updateSlidesProgress(translate);\n\n    if (isBeginning && !wasBeginning) {\n      swiper.emit('reachBeginning toEdge');\n    }\n\n    if (isEnd && !wasEnd) {\n      swiper.emit('reachEnd toEdge');\n    }\n\n    if (wasBeginning && !isBeginning || wasEnd && !isEnd) {\n      swiper.emit('fromEdge');\n    }\n\n    swiper.emit('progress', progress);\n  }\n\n  function updateSlidesClasses() {\n    const swiper = this;\n    const {\n      slides,\n      params,\n      $wrapperEl,\n      activeIndex,\n      realIndex\n    } = swiper;\n    const isVirtual = swiper.virtual && params.virtual.enabled;\n    slides.removeClass(`${params.slideActiveClass} ${params.slideNextClass} ${params.slidePrevClass} ${params.slideDuplicateActiveClass} ${params.slideDuplicateNextClass} ${params.slideDuplicatePrevClass}`);\n    let activeSlide;\n\n    if (isVirtual) {\n      activeSlide = swiper.$wrapperEl.find(`.${params.slideClass}[data-swiper-slide-index=\"${activeIndex}\"]`);\n    } else {\n      activeSlide = slides.eq(activeIndex);\n    } // Active classes\n\n\n    activeSlide.addClass(params.slideActiveClass);\n\n    if (params.loop) {\n      // Duplicate to all looped slides\n      if (activeSlide.hasClass(params.slideDuplicateClass)) {\n        $wrapperEl.children(`.${params.slideClass}:not(.${params.slideDuplicateClass})[data-swiper-slide-index=\"${realIndex}\"]`).addClass(params.slideDuplicateActiveClass);\n      } else {\n        $wrapperEl.children(`.${params.slideClass}.${params.slideDuplicateClass}[data-swiper-slide-index=\"${realIndex}\"]`).addClass(params.slideDuplicateActiveClass);\n      }\n    } // Next Slide\n\n\n    let nextSlide = activeSlide.nextAll(`.${params.slideClass}`).eq(0).addClass(params.slideNextClass);\n\n    if (params.loop && nextSlide.length === 0) {\n      nextSlide = slides.eq(0);\n      nextSlide.addClass(params.slideNextClass);\n    } // Prev Slide\n\n\n    let prevSlide = activeSlide.prevAll(`.${params.slideClass}`).eq(0).addClass(params.slidePrevClass);\n\n    if (params.loop && prevSlide.length === 0) {\n      prevSlide = slides.eq(-1);\n      prevSlide.addClass(params.slidePrevClass);\n    }\n\n    if (params.loop) {\n      // Duplicate to all looped slides\n      if (nextSlide.hasClass(params.slideDuplicateClass)) {\n        $wrapperEl.children(`.${params.slideClass}:not(.${params.slideDuplicateClass})[data-swiper-slide-index=\"${nextSlide.attr('data-swiper-slide-index')}\"]`).addClass(params.slideDuplicateNextClass);\n      } else {\n        $wrapperEl.children(`.${params.slideClass}.${params.slideDuplicateClass}[data-swiper-slide-index=\"${nextSlide.attr('data-swiper-slide-index')}\"]`).addClass(params.slideDuplicateNextClass);\n      }\n\n      if (prevSlide.hasClass(params.slideDuplicateClass)) {\n        $wrapperEl.children(`.${params.slideClass}:not(.${params.slideDuplicateClass})[data-swiper-slide-index=\"${prevSlide.attr('data-swiper-slide-index')}\"]`).addClass(params.slideDuplicatePrevClass);\n      } else {\n        $wrapperEl.children(`.${params.slideClass}.${params.slideDuplicateClass}[data-swiper-slide-index=\"${prevSlide.attr('data-swiper-slide-index')}\"]`).addClass(params.slideDuplicatePrevClass);\n      }\n    }\n\n    swiper.emitSlidesClasses();\n  }\n\n  function updateActiveIndex(newActiveIndex) {\n    const swiper = this;\n    const translate = swiper.rtlTranslate ? swiper.translate : -swiper.translate;\n    const {\n      slidesGrid,\n      snapGrid,\n      params,\n      activeIndex: previousIndex,\n      realIndex: previousRealIndex,\n      snapIndex: previousSnapIndex\n    } = swiper;\n    let activeIndex = newActiveIndex;\n    let snapIndex;\n\n    if (typeof activeIndex === 'undefined') {\n      for (let i = 0; i < slidesGrid.length; i += 1) {\n        if (typeof slidesGrid[i + 1] !== 'undefined') {\n          if (translate >= slidesGrid[i] && translate < slidesGrid[i + 1] - (slidesGrid[i + 1] - slidesGrid[i]) / 2) {\n            activeIndex = i;\n          } else if (translate >= slidesGrid[i] && translate < slidesGrid[i + 1]) {\n            activeIndex = i + 1;\n          }\n        } else if (translate >= slidesGrid[i]) {\n          activeIndex = i;\n        }\n      } // Normalize slideIndex\n\n\n      if (params.normalizeSlideIndex) {\n        if (activeIndex < 0 || typeof activeIndex === 'undefined') activeIndex = 0;\n      }\n    }\n\n    if (snapGrid.indexOf(translate) >= 0) {\n      snapIndex = snapGrid.indexOf(translate);\n    } else {\n      const skip = Math.min(params.slidesPerGroupSkip, activeIndex);\n      snapIndex = skip + Math.floor((activeIndex - skip) / params.slidesPerGroup);\n    }\n\n    if (snapIndex >= snapGrid.length) snapIndex = snapGrid.length - 1;\n\n    if (activeIndex === previousIndex) {\n      if (snapIndex !== previousSnapIndex) {\n        swiper.snapIndex = snapIndex;\n        swiper.emit('snapIndexChange');\n      }\n\n      return;\n    } // Get real index\n\n\n    const realIndex = parseInt(swiper.slides.eq(activeIndex).attr('data-swiper-slide-index') || activeIndex, 10);\n    Object.assign(swiper, {\n      snapIndex,\n      realIndex,\n      previousIndex,\n      activeIndex\n    });\n    swiper.emit('activeIndexChange');\n    swiper.emit('snapIndexChange');\n\n    if (previousRealIndex !== realIndex) {\n      swiper.emit('realIndexChange');\n    }\n\n    if (swiper.initialized || swiper.params.runCallbacksOnInit) {\n      swiper.emit('slideChange');\n    }\n  }\n\n  function updateClickedSlide(e) {\n    const swiper = this;\n    const params = swiper.params;\n    const slide = $(e).closest(`.${params.slideClass}`)[0];\n    let slideFound = false;\n    let slideIndex;\n\n    if (slide) {\n      for (let i = 0; i < swiper.slides.length; i += 1) {\n        if (swiper.slides[i] === slide) {\n          slideFound = true;\n          slideIndex = i;\n          break;\n        }\n      }\n    }\n\n    if (slide && slideFound) {\n      swiper.clickedSlide = slide;\n\n      if (swiper.virtual && swiper.params.virtual.enabled) {\n        swiper.clickedIndex = parseInt($(slide).attr('data-swiper-slide-index'), 10);\n      } else {\n        swiper.clickedIndex = slideIndex;\n      }\n    } else {\n      swiper.clickedSlide = undefined;\n      swiper.clickedIndex = undefined;\n      return;\n    }\n\n    if (params.slideToClickedSlide && swiper.clickedIndex !== undefined && swiper.clickedIndex !== swiper.activeIndex) {\n      swiper.slideToClickedSlide();\n    }\n  }\n\n  var update = {\n    updateSize,\n    updateSlides,\n    updateAutoHeight,\n    updateSlidesOffset,\n    updateSlidesProgress,\n    updateProgress,\n    updateSlidesClasses,\n    updateActiveIndex,\n    updateClickedSlide\n  };\n\n  function getSwiperTranslate(axis = this.isHorizontal() ? 'x' : 'y') {\n    const swiper = this;\n    const {\n      params,\n      rtlTranslate: rtl,\n      translate,\n      $wrapperEl\n    } = swiper;\n\n    if (params.virtualTranslate) {\n      return rtl ? -translate : translate;\n    }\n\n    if (params.cssMode) {\n      return translate;\n    }\n\n    let currentTranslate = getTranslate($wrapperEl[0], axis);\n    if (rtl) currentTranslate = -currentTranslate;\n    return currentTranslate || 0;\n  }\n\n  function setTranslate(translate, byController) {\n    const swiper = this;\n    const {\n      rtlTranslate: rtl,\n      params,\n      $wrapperEl,\n      wrapperEl,\n      progress\n    } = swiper;\n    let x = 0;\n    let y = 0;\n    const z = 0;\n\n    if (swiper.isHorizontal()) {\n      x = rtl ? -translate : translate;\n    } else {\n      y = translate;\n    }\n\n    if (params.roundLengths) {\n      x = Math.floor(x);\n      y = Math.floor(y);\n    }\n\n    if (params.cssMode) {\n      wrapperEl[swiper.isHorizontal() ? 'scrollLeft' : 'scrollTop'] = swiper.isHorizontal() ? -x : -y;\n    } else if (!params.virtualTranslate) {\n      $wrapperEl.transform(`translate3d(${x}px, ${y}px, ${z}px)`);\n    }\n\n    swiper.previousTranslate = swiper.translate;\n    swiper.translate = swiper.isHorizontal() ? x : y; // Check if we need to update progress\n\n    let newProgress;\n    const translatesDiff = swiper.maxTranslate() - swiper.minTranslate();\n\n    if (translatesDiff === 0) {\n      newProgress = 0;\n    } else {\n      newProgress = (translate - swiper.minTranslate()) / translatesDiff;\n    }\n\n    if (newProgress !== progress) {\n      swiper.updateProgress(translate);\n    }\n\n    swiper.emit('setTranslate', swiper.translate, byController);\n  }\n\n  function minTranslate() {\n    return -this.snapGrid[0];\n  }\n\n  function maxTranslate() {\n    return -this.snapGrid[this.snapGrid.length - 1];\n  }\n\n  function translateTo(translate = 0, speed = this.params.speed, runCallbacks = true, translateBounds = true, internal) {\n    const swiper = this;\n    const {\n      params,\n      wrapperEl\n    } = swiper;\n\n    if (swiper.animating && params.preventInteractionOnTransition) {\n      return false;\n    }\n\n    const minTranslate = swiper.minTranslate();\n    const maxTranslate = swiper.maxTranslate();\n    let newTranslate;\n    if (translateBounds && translate > minTranslate) newTranslate = minTranslate;else if (translateBounds && translate < maxTranslate) newTranslate = maxTranslate;else newTranslate = translate; // Update progress\n\n    swiper.updateProgress(newTranslate);\n\n    if (params.cssMode) {\n      const isH = swiper.isHorizontal();\n\n      if (speed === 0) {\n        wrapperEl[isH ? 'scrollLeft' : 'scrollTop'] = -newTranslate;\n      } else {\n        if (!swiper.support.smoothScroll) {\n          animateCSSModeScroll({\n            swiper,\n            targetPosition: -newTranslate,\n            side: isH ? 'left' : 'top'\n          });\n          return true;\n        }\n\n        wrapperEl.scrollTo({\n          [isH ? 'left' : 'top']: -newTranslate,\n          behavior: 'smooth'\n        });\n      }\n\n      return true;\n    }\n\n    if (speed === 0) {\n      swiper.setTransition(0);\n      swiper.setTranslate(newTranslate);\n\n      if (runCallbacks) {\n        swiper.emit('beforeTransitionStart', speed, internal);\n        swiper.emit('transitionEnd');\n      }\n    } else {\n      swiper.setTransition(speed);\n      swiper.setTranslate(newTranslate);\n\n      if (runCallbacks) {\n        swiper.emit('beforeTransitionStart', speed, internal);\n        swiper.emit('transitionStart');\n      }\n\n      if (!swiper.animating) {\n        swiper.animating = true;\n\n        if (!swiper.onTranslateToWrapperTransitionEnd) {\n          swiper.onTranslateToWrapperTransitionEnd = function transitionEnd(e) {\n            if (!swiper || swiper.destroyed) return;\n            if (e.target !== this) return;\n            swiper.$wrapperEl[0].removeEventListener('transitionend', swiper.onTranslateToWrapperTransitionEnd);\n            swiper.$wrapperEl[0].removeEventListener('webkitTransitionEnd', swiper.onTranslateToWrapperTransitionEnd);\n            swiper.onTranslateToWrapperTransitionEnd = null;\n            delete swiper.onTranslateToWrapperTransitionEnd;\n\n            if (runCallbacks) {\n              swiper.emit('transitionEnd');\n            }\n          };\n        }\n\n        swiper.$wrapperEl[0].addEventListener('transitionend', swiper.onTranslateToWrapperTransitionEnd);\n        swiper.$wrapperEl[0].addEventListener('webkitTransitionEnd', swiper.onTranslateToWrapperTransitionEnd);\n      }\n    }\n\n    return true;\n  }\n\n  var translate = {\n    getTranslate: getSwiperTranslate,\n    setTranslate,\n    minTranslate,\n    maxTranslate,\n    translateTo\n  };\n\n  function setTransition(duration, byController) {\n    const swiper = this;\n\n    if (!swiper.params.cssMode) {\n      swiper.$wrapperEl.transition(duration);\n    }\n\n    swiper.emit('setTransition', duration, byController);\n  }\n\n  function transitionEmit({\n    swiper,\n    runCallbacks,\n    direction,\n    step\n  }) {\n    const {\n      activeIndex,\n      previousIndex\n    } = swiper;\n    let dir = direction;\n\n    if (!dir) {\n      if (activeIndex > previousIndex) dir = 'next';else if (activeIndex < previousIndex) dir = 'prev';else dir = 'reset';\n    }\n\n    swiper.emit(`transition${step}`);\n\n    if (runCallbacks && activeIndex !== previousIndex) {\n      if (dir === 'reset') {\n        swiper.emit(`slideResetTransition${step}`);\n        return;\n      }\n\n      swiper.emit(`slideChangeTransition${step}`);\n\n      if (dir === 'next') {\n        swiper.emit(`slideNextTransition${step}`);\n      } else {\n        swiper.emit(`slidePrevTransition${step}`);\n      }\n    }\n  }\n\n  function transitionStart(runCallbacks = true, direction) {\n    const swiper = this;\n    const {\n      params\n    } = swiper;\n    if (params.cssMode) return;\n\n    if (params.autoHeight) {\n      swiper.updateAutoHeight();\n    }\n\n    transitionEmit({\n      swiper,\n      runCallbacks,\n      direction,\n      step: 'Start'\n    });\n  }\n\n  function transitionEnd(runCallbacks = true, direction) {\n    const swiper = this;\n    const {\n      params\n    } = swiper;\n    swiper.animating = false;\n    if (params.cssMode) return;\n    swiper.setTransition(0);\n    transitionEmit({\n      swiper,\n      runCallbacks,\n      direction,\n      step: 'End'\n    });\n  }\n\n  var transition = {\n    setTransition,\n    transitionStart,\n    transitionEnd\n  };\n\n  function slideTo(index = 0, speed = this.params.speed, runCallbacks = true, internal, initial) {\n    if (typeof index !== 'number' && typeof index !== 'string') {\n      throw new Error(`The 'index' argument cannot have type other than 'number' or 'string'. [${typeof index}] given.`);\n    }\n\n    if (typeof index === 'string') {\n      /**\n       * The `index` argument converted from `string` to `number`.\n       * @type {number}\n       */\n      const indexAsNumber = parseInt(index, 10);\n      /**\n       * Determines whether the `index` argument is a valid `number`\n       * after being converted from the `string` type.\n       * @type {boolean}\n       */\n\n      const isValidNumber = isFinite(indexAsNumber);\n\n      if (!isValidNumber) {\n        throw new Error(`The passed-in 'index' (string) couldn't be converted to 'number'. [${index}] given.`);\n      } // Knowing that the converted `index` is a valid number,\n      // we can update the original argument's value.\n\n\n      index = indexAsNumber;\n    }\n\n    const swiper = this;\n    let slideIndex = index;\n    if (slideIndex < 0) slideIndex = 0;\n    const {\n      params,\n      snapGrid,\n      slidesGrid,\n      previousIndex,\n      activeIndex,\n      rtlTranslate: rtl,\n      wrapperEl,\n      enabled\n    } = swiper;\n\n    if (swiper.animating && params.preventInteractionOnTransition || !enabled && !internal && !initial) {\n      return false;\n    }\n\n    const skip = Math.min(swiper.params.slidesPerGroupSkip, slideIndex);\n    let snapIndex = skip + Math.floor((slideIndex - skip) / swiper.params.slidesPerGroup);\n    if (snapIndex >= snapGrid.length) snapIndex = snapGrid.length - 1;\n\n    if ((activeIndex || params.initialSlide || 0) === (previousIndex || 0) && runCallbacks) {\n      swiper.emit('beforeSlideChangeStart');\n    }\n\n    const translate = -snapGrid[snapIndex]; // Update progress\n\n    swiper.updateProgress(translate); // Normalize slideIndex\n\n    if (params.normalizeSlideIndex) {\n      for (let i = 0; i < slidesGrid.length; i += 1) {\n        const normalizedTranslate = -Math.floor(translate * 100);\n        const normalizedGrid = Math.floor(slidesGrid[i] * 100);\n        const normalizedGridNext = Math.floor(slidesGrid[i + 1] * 100);\n\n        if (typeof slidesGrid[i + 1] !== 'undefined') {\n          if (normalizedTranslate >= normalizedGrid && normalizedTranslate < normalizedGridNext - (normalizedGridNext - normalizedGrid) / 2) {\n            slideIndex = i;\n          } else if (normalizedTranslate >= normalizedGrid && normalizedTranslate < normalizedGridNext) {\n            slideIndex = i + 1;\n          }\n        } else if (normalizedTranslate >= normalizedGrid) {\n          slideIndex = i;\n        }\n      }\n    } // Directions locks\n\n\n    if (swiper.initialized && slideIndex !== activeIndex) {\n      if (!swiper.allowSlideNext && translate < swiper.translate && translate < swiper.minTranslate()) {\n        return false;\n      }\n\n      if (!swiper.allowSlidePrev && translate > swiper.translate && translate > swiper.maxTranslate()) {\n        if ((activeIndex || 0) !== slideIndex) return false;\n      }\n    }\n\n    let direction;\n    if (slideIndex > activeIndex) direction = 'next';else if (slideIndex < activeIndex) direction = 'prev';else direction = 'reset'; // Update Index\n\n    if (rtl && -translate === swiper.translate || !rtl && translate === swiper.translate) {\n      swiper.updateActiveIndex(slideIndex); // Update Height\n\n      if (params.autoHeight) {\n        swiper.updateAutoHeight();\n      }\n\n      swiper.updateSlidesClasses();\n\n      if (params.effect !== 'slide') {\n        swiper.setTranslate(translate);\n      }\n\n      if (direction !== 'reset') {\n        swiper.transitionStart(runCallbacks, direction);\n        swiper.transitionEnd(runCallbacks, direction);\n      }\n\n      return false;\n    }\n\n    if (params.cssMode) {\n      const isH = swiper.isHorizontal();\n      const t = rtl ? translate : -translate;\n\n      if (speed === 0) {\n        const isVirtual = swiper.virtual && swiper.params.virtual.enabled;\n\n        if (isVirtual) {\n          swiper.wrapperEl.style.scrollSnapType = 'none';\n          swiper._immediateVirtual = true;\n        }\n\n        wrapperEl[isH ? 'scrollLeft' : 'scrollTop'] = t;\n\n        if (isVirtual) {\n          requestAnimationFrame(() => {\n            swiper.wrapperEl.style.scrollSnapType = '';\n            swiper._swiperImmediateVirtual = false;\n          });\n        }\n      } else {\n        if (!swiper.support.smoothScroll) {\n          animateCSSModeScroll({\n            swiper,\n            targetPosition: t,\n            side: isH ? 'left' : 'top'\n          });\n          return true;\n        }\n\n        wrapperEl.scrollTo({\n          [isH ? 'left' : 'top']: t,\n          behavior: 'smooth'\n        });\n      }\n\n      return true;\n    }\n\n    if (speed === 0) {\n      swiper.setTransition(0);\n      swiper.setTranslate(translate);\n      swiper.updateActiveIndex(slideIndex);\n      swiper.updateSlidesClasses();\n      swiper.emit('beforeTransitionStart', speed, internal);\n      swiper.transitionStart(runCallbacks, direction);\n      swiper.transitionEnd(runCallbacks, direction);\n    } else {\n      swiper.setTransition(speed);\n      swiper.setTranslate(translate);\n      swiper.updateActiveIndex(slideIndex);\n      swiper.updateSlidesClasses();\n      swiper.emit('beforeTransitionStart', speed, internal);\n      swiper.transitionStart(runCallbacks, direction);\n\n      if (!swiper.animating) {\n        swiper.animating = true;\n\n        if (!swiper.onSlideToWrapperTransitionEnd) {\n          swiper.onSlideToWrapperTransitionEnd = function transitionEnd(e) {\n            if (!swiper || swiper.destroyed) return;\n            if (e.target !== this) return;\n            swiper.$wrapperEl[0].removeEventListener('transitionend', swiper.onSlideToWrapperTransitionEnd);\n            swiper.$wrapperEl[0].removeEventListener('webkitTransitionEnd', swiper.onSlideToWrapperTransitionEnd);\n            swiper.onSlideToWrapperTransitionEnd = null;\n            delete swiper.onSlideToWrapperTransitionEnd;\n            swiper.transitionEnd(runCallbacks, direction);\n          };\n        }\n\n        swiper.$wrapperEl[0].addEventListener('transitionend', swiper.onSlideToWrapperTransitionEnd);\n        swiper.$wrapperEl[0].addEventListener('webkitTransitionEnd', swiper.onSlideToWrapperTransitionEnd);\n      }\n    }\n\n    return true;\n  }\n\n  function slideToLoop(index = 0, speed = this.params.speed, runCallbacks = true, internal) {\n    const swiper = this;\n    let newIndex = index;\n\n    if (swiper.params.loop) {\n      newIndex += swiper.loopedSlides;\n    }\n\n    return swiper.slideTo(newIndex, speed, runCallbacks, internal);\n  }\n\n  /* eslint no-unused-vars: \"off\" */\n  function slideNext(speed = this.params.speed, runCallbacks = true, internal) {\n    const swiper = this;\n    const {\n      animating,\n      enabled,\n      params\n    } = swiper;\n    if (!enabled) return swiper;\n    let perGroup = params.slidesPerGroup;\n\n    if (params.slidesPerView === 'auto' && params.slidesPerGroup === 1 && params.slidesPerGroupAuto) {\n      perGroup = Math.max(swiper.slidesPerViewDynamic('current', true), 1);\n    }\n\n    const increment = swiper.activeIndex < params.slidesPerGroupSkip ? 1 : perGroup;\n\n    if (params.loop) {\n      if (animating && params.loopPreventsSlide) return false;\n      swiper.loopFix(); // eslint-disable-next-line\n\n      swiper._clientLeft = swiper.$wrapperEl[0].clientLeft;\n    }\n\n    return swiper.slideTo(swiper.activeIndex + increment, speed, runCallbacks, internal);\n  }\n\n  /* eslint no-unused-vars: \"off\" */\n  function slidePrev(speed = this.params.speed, runCallbacks = true, internal) {\n    const swiper = this;\n    const {\n      params,\n      animating,\n      snapGrid,\n      slidesGrid,\n      rtlTranslate,\n      enabled\n    } = swiper;\n    if (!enabled) return swiper;\n\n    if (params.loop) {\n      if (animating && params.loopPreventsSlide) return false;\n      swiper.loopFix(); // eslint-disable-next-line\n\n      swiper._clientLeft = swiper.$wrapperEl[0].clientLeft;\n    }\n\n    const translate = rtlTranslate ? swiper.translate : -swiper.translate;\n\n    function normalize(val) {\n      if (val < 0) return -Math.floor(Math.abs(val));\n      return Math.floor(val);\n    }\n\n    const normalizedTranslate = normalize(translate);\n    const normalizedSnapGrid = snapGrid.map(val => normalize(val));\n    let prevSnap = snapGrid[normalizedSnapGrid.indexOf(normalizedTranslate) - 1];\n\n    if (typeof prevSnap === 'undefined' && params.cssMode) {\n      let prevSnapIndex;\n      snapGrid.forEach((snap, snapIndex) => {\n        if (normalizedTranslate >= snap) {\n          // prevSnap = snap;\n          prevSnapIndex = snapIndex;\n        }\n      });\n\n      if (typeof prevSnapIndex !== 'undefined') {\n        prevSnap = snapGrid[prevSnapIndex > 0 ? prevSnapIndex - 1 : prevSnapIndex];\n      }\n    }\n\n    let prevIndex = 0;\n\n    if (typeof prevSnap !== 'undefined') {\n      prevIndex = slidesGrid.indexOf(prevSnap);\n      if (prevIndex < 0) prevIndex = swiper.activeIndex - 1;\n\n      if (params.slidesPerView === 'auto' && params.slidesPerGroup === 1 && params.slidesPerGroupAuto) {\n        prevIndex = prevIndex - swiper.slidesPerViewDynamic('previous', true) + 1;\n        prevIndex = Math.max(prevIndex, 0);\n      }\n    }\n\n    return swiper.slideTo(prevIndex, speed, runCallbacks, internal);\n  }\n\n  /* eslint no-unused-vars: \"off\" */\n  function slideReset(speed = this.params.speed, runCallbacks = true, internal) {\n    const swiper = this;\n    return swiper.slideTo(swiper.activeIndex, speed, runCallbacks, internal);\n  }\n\n  /* eslint no-unused-vars: \"off\" */\n  function slideToClosest(speed = this.params.speed, runCallbacks = true, internal, threshold = 0.5) {\n    const swiper = this;\n    let index = swiper.activeIndex;\n    const skip = Math.min(swiper.params.slidesPerGroupSkip, index);\n    const snapIndex = skip + Math.floor((index - skip) / swiper.params.slidesPerGroup);\n    const translate = swiper.rtlTranslate ? swiper.translate : -swiper.translate;\n\n    if (translate >= swiper.snapGrid[snapIndex]) {\n      // The current translate is on or after the current snap index, so the choice\n      // is between the current index and the one after it.\n      const currentSnap = swiper.snapGrid[snapIndex];\n      const nextSnap = swiper.snapGrid[snapIndex + 1];\n\n      if (translate - currentSnap > (nextSnap - currentSnap) * threshold) {\n        index += swiper.params.slidesPerGroup;\n      }\n    } else {\n      // The current translate is before the current snap index, so the choice\n      // is between the current index and the one before it.\n      const prevSnap = swiper.snapGrid[snapIndex - 1];\n      const currentSnap = swiper.snapGrid[snapIndex];\n\n      if (translate - prevSnap <= (currentSnap - prevSnap) * threshold) {\n        index -= swiper.params.slidesPerGroup;\n      }\n    }\n\n    index = Math.max(index, 0);\n    index = Math.min(index, swiper.slidesGrid.length - 1);\n    return swiper.slideTo(index, speed, runCallbacks, internal);\n  }\n\n  function slideToClickedSlide() {\n    const swiper = this;\n    const {\n      params,\n      $wrapperEl\n    } = swiper;\n    const slidesPerView = params.slidesPerView === 'auto' ? swiper.slidesPerViewDynamic() : params.slidesPerView;\n    let slideToIndex = swiper.clickedIndex;\n    let realIndex;\n\n    if (params.loop) {\n      if (swiper.animating) return;\n      realIndex = parseInt($(swiper.clickedSlide).attr('data-swiper-slide-index'), 10);\n\n      if (params.centeredSlides) {\n        if (slideToIndex < swiper.loopedSlides - slidesPerView / 2 || slideToIndex > swiper.slides.length - swiper.loopedSlides + slidesPerView / 2) {\n          swiper.loopFix();\n          slideToIndex = $wrapperEl.children(`.${params.slideClass}[data-swiper-slide-index=\"${realIndex}\"]:not(.${params.slideDuplicateClass})`).eq(0).index();\n          nextTick(() => {\n            swiper.slideTo(slideToIndex);\n          });\n        } else {\n          swiper.slideTo(slideToIndex);\n        }\n      } else if (slideToIndex > swiper.slides.length - slidesPerView) {\n        swiper.loopFix();\n        slideToIndex = $wrapperEl.children(`.${params.slideClass}[data-swiper-slide-index=\"${realIndex}\"]:not(.${params.slideDuplicateClass})`).eq(0).index();\n        nextTick(() => {\n          swiper.slideTo(slideToIndex);\n        });\n      } else {\n        swiper.slideTo(slideToIndex);\n      }\n    } else {\n      swiper.slideTo(slideToIndex);\n    }\n  }\n\n  var slide = {\n    slideTo,\n    slideToLoop,\n    slideNext,\n    slidePrev,\n    slideReset,\n    slideToClosest,\n    slideToClickedSlide\n  };\n\n  function loopCreate() {\n    const swiper = this;\n    const document = getDocument();\n    const {\n      params,\n      $wrapperEl\n    } = swiper; // Remove duplicated slides\n\n    const $selector = $wrapperEl.children().length > 0 ? $($wrapperEl.children()[0].parentNode) : $wrapperEl;\n    $selector.children(`.${params.slideClass}.${params.slideDuplicateClass}`).remove();\n    let slides = $selector.children(`.${params.slideClass}`);\n\n    if (params.loopFillGroupWithBlank) {\n      const blankSlidesNum = params.slidesPerGroup - slides.length % params.slidesPerGroup;\n\n      if (blankSlidesNum !== params.slidesPerGroup) {\n        for (let i = 0; i < blankSlidesNum; i += 1) {\n          const blankNode = $(document.createElement('div')).addClass(`${params.slideClass} ${params.slideBlankClass}`);\n          $selector.append(blankNode);\n        }\n\n        slides = $selector.children(`.${params.slideClass}`);\n      }\n    }\n\n    if (params.slidesPerView === 'auto' && !params.loopedSlides) params.loopedSlides = slides.length;\n    swiper.loopedSlides = Math.ceil(parseFloat(params.loopedSlides || params.slidesPerView, 10));\n    swiper.loopedSlides += params.loopAdditionalSlides;\n\n    if (swiper.loopedSlides > slides.length) {\n      swiper.loopedSlides = slides.length;\n    }\n\n    const prependSlides = [];\n    const appendSlides = [];\n    slides.each((el, index) => {\n      const slide = $(el);\n\n      if (index < swiper.loopedSlides) {\n        appendSlides.push(el);\n      }\n\n      if (index < slides.length && index >= slides.length - swiper.loopedSlides) {\n        prependSlides.push(el);\n      }\n\n      slide.attr('data-swiper-slide-index', index);\n    });\n\n    for (let i = 0; i < appendSlides.length; i += 1) {\n      $selector.append($(appendSlides[i].cloneNode(true)).addClass(params.slideDuplicateClass));\n    }\n\n    for (let i = prependSlides.length - 1; i >= 0; i -= 1) {\n      $selector.prepend($(prependSlides[i].cloneNode(true)).addClass(params.slideDuplicateClass));\n    }\n  }\n\n  function loopFix() {\n    const swiper = this;\n    swiper.emit('beforeLoopFix');\n    const {\n      activeIndex,\n      slides,\n      loopedSlides,\n      allowSlidePrev,\n      allowSlideNext,\n      snapGrid,\n      rtlTranslate: rtl\n    } = swiper;\n    let newIndex;\n    swiper.allowSlidePrev = true;\n    swiper.allowSlideNext = true;\n    const snapTranslate = -snapGrid[activeIndex];\n    const diff = snapTranslate - swiper.getTranslate(); // Fix For Negative Oversliding\n\n    if (activeIndex < loopedSlides) {\n      newIndex = slides.length - loopedSlides * 3 + activeIndex;\n      newIndex += loopedSlides;\n      const slideChanged = swiper.slideTo(newIndex, 0, false, true);\n\n      if (slideChanged && diff !== 0) {\n        swiper.setTranslate((rtl ? -swiper.translate : swiper.translate) - diff);\n      }\n    } else if (activeIndex >= slides.length - loopedSlides) {\n      // Fix For Positive Oversliding\n      newIndex = -slides.length + activeIndex + loopedSlides;\n      newIndex += loopedSlides;\n      const slideChanged = swiper.slideTo(newIndex, 0, false, true);\n\n      if (slideChanged && diff !== 0) {\n        swiper.setTranslate((rtl ? -swiper.translate : swiper.translate) - diff);\n      }\n    }\n\n    swiper.allowSlidePrev = allowSlidePrev;\n    swiper.allowSlideNext = allowSlideNext;\n    swiper.emit('loopFix');\n  }\n\n  function loopDestroy() {\n    const swiper = this;\n    const {\n      $wrapperEl,\n      params,\n      slides\n    } = swiper;\n    $wrapperEl.children(`.${params.slideClass}.${params.slideDuplicateClass},.${params.slideClass}.${params.slideBlankClass}`).remove();\n    slides.removeAttr('data-swiper-slide-index');\n  }\n\n  var loop = {\n    loopCreate,\n    loopFix,\n    loopDestroy\n  };\n\n  function setGrabCursor(moving) {\n    const swiper = this;\n    if (swiper.support.touch || !swiper.params.simulateTouch || swiper.params.watchOverflow && swiper.isLocked || swiper.params.cssMode) return;\n    const el = swiper.params.touchEventsTarget === 'container' ? swiper.el : swiper.wrapperEl;\n    el.style.cursor = 'move';\n    el.style.cursor = moving ? '-webkit-grabbing' : '-webkit-grab';\n    el.style.cursor = moving ? '-moz-grabbin' : '-moz-grab';\n    el.style.cursor = moving ? 'grabbing' : 'grab';\n  }\n\n  function unsetGrabCursor() {\n    const swiper = this;\n\n    if (swiper.support.touch || swiper.params.watchOverflow && swiper.isLocked || swiper.params.cssMode) {\n      return;\n    }\n\n    swiper[swiper.params.touchEventsTarget === 'container' ? 'el' : 'wrapperEl'].style.cursor = '';\n  }\n\n  var grabCursor = {\n    setGrabCursor,\n    unsetGrabCursor\n  };\n\n  function closestElement(selector, base = this) {\n    function __closestFrom(el) {\n      if (!el || el === getDocument() || el === getWindow()) return null;\n      if (el.assignedSlot) el = el.assignedSlot;\n      const found = el.closest(selector);\n      return found || __closestFrom(el.getRootNode().host);\n    }\n\n    return __closestFrom(base);\n  }\n\n  function onTouchStart(event) {\n    const swiper = this;\n    const document = getDocument();\n    const window = getWindow();\n    const data = swiper.touchEventsData;\n    const {\n      params,\n      touches,\n      enabled\n    } = swiper;\n    if (!enabled) return;\n\n    if (swiper.animating && params.preventInteractionOnTransition) {\n      return;\n    }\n\n    if (!swiper.animating && params.cssMode && params.loop) {\n      swiper.loopFix();\n    }\n\n    let e = event;\n    if (e.originalEvent) e = e.originalEvent;\n    let $targetEl = $(e.target);\n\n    if (params.touchEventsTarget === 'wrapper') {\n      if (!$targetEl.closest(swiper.wrapperEl).length) return;\n    }\n\n    data.isTouchEvent = e.type === 'touchstart';\n    if (!data.isTouchEvent && 'which' in e && e.which === 3) return;\n    if (!data.isTouchEvent && 'button' in e && e.button > 0) return;\n    if (data.isTouched && data.isMoved) return; // change target el for shadow root component\n\n    const swipingClassHasValue = !!params.noSwipingClass && params.noSwipingClass !== '';\n\n    if (swipingClassHasValue && e.target && e.target.shadowRoot && event.path && event.path[0]) {\n      $targetEl = $(event.path[0]);\n    }\n\n    const noSwipingSelector = params.noSwipingSelector ? params.noSwipingSelector : `.${params.noSwipingClass}`;\n    const isTargetShadow = !!(e.target && e.target.shadowRoot); // use closestElement for shadow root element to get the actual closest for nested shadow root element\n\n    if (params.noSwiping && (isTargetShadow ? closestElement(noSwipingSelector, e.target) : $targetEl.closest(noSwipingSelector)[0])) {\n      swiper.allowClick = true;\n      return;\n    }\n\n    if (params.swipeHandler) {\n      if (!$targetEl.closest(params.swipeHandler)[0]) return;\n    }\n\n    touches.currentX = e.type === 'touchstart' ? e.targetTouches[0].pageX : e.pageX;\n    touches.currentY = e.type === 'touchstart' ? e.targetTouches[0].pageY : e.pageY;\n    const startX = touches.currentX;\n    const startY = touches.currentY; // Do NOT start if iOS edge swipe is detected. Otherwise iOS app cannot swipe-to-go-back anymore\n\n    const edgeSwipeDetection = params.edgeSwipeDetection || params.iOSEdgeSwipeDetection;\n    const edgeSwipeThreshold = params.edgeSwipeThreshold || params.iOSEdgeSwipeThreshold;\n\n    if (edgeSwipeDetection && (startX <= edgeSwipeThreshold || startX >= window.innerWidth - edgeSwipeThreshold)) {\n      if (edgeSwipeDetection === 'prevent') {\n        event.preventDefault();\n      } else {\n        return;\n      }\n    }\n\n    Object.assign(data, {\n      isTouched: true,\n      isMoved: false,\n      allowTouchCallbacks: true,\n      isScrolling: undefined,\n      startMoving: undefined\n    });\n    touches.startX = startX;\n    touches.startY = startY;\n    data.touchStartTime = now();\n    swiper.allowClick = true;\n    swiper.updateSize();\n    swiper.swipeDirection = undefined;\n    if (params.threshold > 0) data.allowThresholdMove = false;\n\n    if (e.type !== 'touchstart') {\n      let preventDefault = true;\n      if ($targetEl.is(data.focusableElements)) preventDefault = false;\n\n      if (document.activeElement && $(document.activeElement).is(data.focusableElements) && document.activeElement !== $targetEl[0]) {\n        document.activeElement.blur();\n      }\n\n      const shouldPreventDefault = preventDefault && swiper.allowTouchMove && params.touchStartPreventDefault;\n\n      if ((params.touchStartForcePreventDefault || shouldPreventDefault) && !$targetEl[0].isContentEditable) {\n        e.preventDefault();\n      }\n    }\n\n    swiper.emit('touchStart', e);\n  }\n\n  function onTouchMove(event) {\n    const document = getDocument();\n    const swiper = this;\n    const data = swiper.touchEventsData;\n    const {\n      params,\n      touches,\n      rtlTranslate: rtl,\n      enabled\n    } = swiper;\n    if (!enabled) return;\n    let e = event;\n    if (e.originalEvent) e = e.originalEvent;\n\n    if (!data.isTouched) {\n      if (data.startMoving && data.isScrolling) {\n        swiper.emit('touchMoveOpposite', e);\n      }\n\n      return;\n    }\n\n    if (data.isTouchEvent && e.type !== 'touchmove') return;\n    const targetTouch = e.type === 'touchmove' && e.targetTouches && (e.targetTouches[0] || e.changedTouches[0]);\n    const pageX = e.type === 'touchmove' ? targetTouch.pageX : e.pageX;\n    const pageY = e.type === 'touchmove' ? targetTouch.pageY : e.pageY;\n\n    if (e.preventedByNestedSwiper) {\n      touches.startX = pageX;\n      touches.startY = pageY;\n      return;\n    }\n\n    if (!swiper.allowTouchMove) {\n      // isMoved = true;\n      swiper.allowClick = false;\n\n      if (data.isTouched) {\n        Object.assign(touches, {\n          startX: pageX,\n          startY: pageY,\n          currentX: pageX,\n          currentY: pageY\n        });\n        data.touchStartTime = now();\n      }\n\n      return;\n    }\n\n    if (data.isTouchEvent && params.touchReleaseOnEdges && !params.loop) {\n      if (swiper.isVertical()) {\n        // Vertical\n        if (pageY < touches.startY && swiper.translate <= swiper.maxTranslate() || pageY > touches.startY && swiper.translate >= swiper.minTranslate()) {\n          data.isTouched = false;\n          data.isMoved = false;\n          return;\n        }\n      } else if (pageX < touches.startX && swiper.translate <= swiper.maxTranslate() || pageX > touches.startX && swiper.translate >= swiper.minTranslate()) {\n        return;\n      }\n    }\n\n    if (data.isTouchEvent && document.activeElement) {\n      if (e.target === document.activeElement && $(e.target).is(data.focusableElements)) {\n        data.isMoved = true;\n        swiper.allowClick = false;\n        return;\n      }\n    }\n\n    if (data.allowTouchCallbacks) {\n      swiper.emit('touchMove', e);\n    }\n\n    if (e.targetTouches && e.targetTouches.length > 1) return;\n    touches.currentX = pageX;\n    touches.currentY = pageY;\n    const diffX = touches.currentX - touches.startX;\n    const diffY = touches.currentY - touches.startY;\n    if (swiper.params.threshold && Math.sqrt(diffX ** 2 + diffY ** 2) < swiper.params.threshold) return;\n\n    if (typeof data.isScrolling === 'undefined') {\n      let touchAngle;\n\n      if (swiper.isHorizontal() && touches.currentY === touches.startY || swiper.isVertical() && touches.currentX === touches.startX) {\n        data.isScrolling = false;\n      } else {\n        // eslint-disable-next-line\n        if (diffX * diffX + diffY * diffY >= 25) {\n          touchAngle = Math.atan2(Math.abs(diffY), Math.abs(diffX)) * 180 / Math.PI;\n          data.isScrolling = swiper.isHorizontal() ? touchAngle > params.touchAngle : 90 - touchAngle > params.touchAngle;\n        }\n      }\n    }\n\n    if (data.isScrolling) {\n      swiper.emit('touchMoveOpposite', e);\n    }\n\n    if (typeof data.startMoving === 'undefined') {\n      if (touches.currentX !== touches.startX || touches.currentY !== touches.startY) {\n        data.startMoving = true;\n      }\n    }\n\n    if (data.isScrolling) {\n      data.isTouched = false;\n      return;\n    }\n\n    if (!data.startMoving) {\n      return;\n    }\n\n    swiper.allowClick = false;\n\n    if (!params.cssMode && e.cancelable) {\n      e.preventDefault();\n    }\n\n    if (params.touchMoveStopPropagation && !params.nested) {\n      e.stopPropagation();\n    }\n\n    if (!data.isMoved) {\n      if (params.loop && !params.cssMode) {\n        swiper.loopFix();\n      }\n\n      data.startTranslate = swiper.getTranslate();\n      swiper.setTransition(0);\n\n      if (swiper.animating) {\n        swiper.$wrapperEl.trigger('webkitTransitionEnd transitionend');\n      }\n\n      data.allowMomentumBounce = false; // Grab Cursor\n\n      if (params.grabCursor && (swiper.allowSlideNext === true || swiper.allowSlidePrev === true)) {\n        swiper.setGrabCursor(true);\n      }\n\n      swiper.emit('sliderFirstMove', e);\n    }\n\n    swiper.emit('sliderMove', e);\n    data.isMoved = true;\n    let diff = swiper.isHorizontal() ? diffX : diffY;\n    touches.diff = diff;\n    diff *= params.touchRatio;\n    if (rtl) diff = -diff;\n    swiper.swipeDirection = diff > 0 ? 'prev' : 'next';\n    data.currentTranslate = diff + data.startTranslate;\n    let disableParentSwiper = true;\n    let resistanceRatio = params.resistanceRatio;\n\n    if (params.touchReleaseOnEdges) {\n      resistanceRatio = 0;\n    }\n\n    if (diff > 0 && data.currentTranslate > swiper.minTranslate()) {\n      disableParentSwiper = false;\n      if (params.resistance) data.currentTranslate = swiper.minTranslate() - 1 + (-swiper.minTranslate() + data.startTranslate + diff) ** resistanceRatio;\n    } else if (diff < 0 && data.currentTranslate < swiper.maxTranslate()) {\n      disableParentSwiper = false;\n      if (params.resistance) data.currentTranslate = swiper.maxTranslate() + 1 - (swiper.maxTranslate() - data.startTranslate - diff) ** resistanceRatio;\n    }\n\n    if (disableParentSwiper) {\n      e.preventedByNestedSwiper = true;\n    } // Directions locks\n\n\n    if (!swiper.allowSlideNext && swiper.swipeDirection === 'next' && data.currentTranslate < data.startTranslate) {\n      data.currentTranslate = data.startTranslate;\n    }\n\n    if (!swiper.allowSlidePrev && swiper.swipeDirection === 'prev' && data.currentTranslate > data.startTranslate) {\n      data.currentTranslate = data.startTranslate;\n    }\n\n    if (!swiper.allowSlidePrev && !swiper.allowSlideNext) {\n      data.currentTranslate = data.startTranslate;\n    } // Threshold\n\n\n    if (params.threshold > 0) {\n      if (Math.abs(diff) > params.threshold || data.allowThresholdMove) {\n        if (!data.allowThresholdMove) {\n          data.allowThresholdMove = true;\n          touches.startX = touches.currentX;\n          touches.startY = touches.currentY;\n          data.currentTranslate = data.startTranslate;\n          touches.diff = swiper.isHorizontal() ? touches.currentX - touches.startX : touches.currentY - touches.startY;\n          return;\n        }\n      } else {\n        data.currentTranslate = data.startTranslate;\n        return;\n      }\n    }\n\n    if (!params.followFinger || params.cssMode) return; // Update active index in free mode\n\n    if (params.freeMode && params.freeMode.enabled && swiper.freeMode || params.watchSlidesProgress) {\n      swiper.updateActiveIndex();\n      swiper.updateSlidesClasses();\n    }\n\n    if (swiper.params.freeMode && params.freeMode.enabled && swiper.freeMode) {\n      swiper.freeMode.onTouchMove();\n    } // Update progress\n\n\n    swiper.updateProgress(data.currentTranslate); // Update translate\n\n    swiper.setTranslate(data.currentTranslate);\n  }\n\n  function onTouchEnd(event) {\n    const swiper = this;\n    const data = swiper.touchEventsData;\n    const {\n      params,\n      touches,\n      rtlTranslate: rtl,\n      slidesGrid,\n      enabled\n    } = swiper;\n    if (!enabled) return;\n    let e = event;\n    if (e.originalEvent) e = e.originalEvent;\n\n    if (data.allowTouchCallbacks) {\n      swiper.emit('touchEnd', e);\n    }\n\n    data.allowTouchCallbacks = false;\n\n    if (!data.isTouched) {\n      if (data.isMoved && params.grabCursor) {\n        swiper.setGrabCursor(false);\n      }\n\n      data.isMoved = false;\n      data.startMoving = false;\n      return;\n    } // Return Grab Cursor\n\n\n    if (params.grabCursor && data.isMoved && data.isTouched && (swiper.allowSlideNext === true || swiper.allowSlidePrev === true)) {\n      swiper.setGrabCursor(false);\n    } // Time diff\n\n\n    const touchEndTime = now();\n    const timeDiff = touchEndTime - data.touchStartTime; // Tap, doubleTap, Click\n\n    if (swiper.allowClick) {\n      const pathTree = e.path || e.composedPath && e.composedPath();\n      swiper.updateClickedSlide(pathTree && pathTree[0] || e.target);\n      swiper.emit('tap click', e);\n\n      if (timeDiff < 300 && touchEndTime - data.lastClickTime < 300) {\n        swiper.emit('doubleTap doubleClick', e);\n      }\n    }\n\n    data.lastClickTime = now();\n    nextTick(() => {\n      if (!swiper.destroyed) swiper.allowClick = true;\n    });\n\n    if (!data.isTouched || !data.isMoved || !swiper.swipeDirection || touches.diff === 0 || data.currentTranslate === data.startTranslate) {\n      data.isTouched = false;\n      data.isMoved = false;\n      data.startMoving = false;\n      return;\n    }\n\n    data.isTouched = false;\n    data.isMoved = false;\n    data.startMoving = false;\n    let currentPos;\n\n    if (params.followFinger) {\n      currentPos = rtl ? swiper.translate : -swiper.translate;\n    } else {\n      currentPos = -data.currentTranslate;\n    }\n\n    if (params.cssMode) {\n      return;\n    }\n\n    if (swiper.params.freeMode && params.freeMode.enabled) {\n      swiper.freeMode.onTouchEnd({\n        currentPos\n      });\n      return;\n    } // Find current slide\n\n\n    let stopIndex = 0;\n    let groupSize = swiper.slidesSizesGrid[0];\n\n    for (let i = 0; i < slidesGrid.length; i += i < params.slidesPerGroupSkip ? 1 : params.slidesPerGroup) {\n      const increment = i < params.slidesPerGroupSkip - 1 ? 1 : params.slidesPerGroup;\n\n      if (typeof slidesGrid[i + increment] !== 'undefined') {\n        if (currentPos >= slidesGrid[i] && currentPos < slidesGrid[i + increment]) {\n          stopIndex = i;\n          groupSize = slidesGrid[i + increment] - slidesGrid[i];\n        }\n      } else if (currentPos >= slidesGrid[i]) {\n        stopIndex = i;\n        groupSize = slidesGrid[slidesGrid.length - 1] - slidesGrid[slidesGrid.length - 2];\n      }\n    } // Find current slide size\n\n\n    const ratio = (currentPos - slidesGrid[stopIndex]) / groupSize;\n    const increment = stopIndex < params.slidesPerGroupSkip - 1 ? 1 : params.slidesPerGroup;\n\n    if (timeDiff > params.longSwipesMs) {\n      // Long touches\n      if (!params.longSwipes) {\n        swiper.slideTo(swiper.activeIndex);\n        return;\n      }\n\n      if (swiper.swipeDirection === 'next') {\n        if (ratio >= params.longSwipesRatio) swiper.slideTo(stopIndex + increment);else swiper.slideTo(stopIndex);\n      }\n\n      if (swiper.swipeDirection === 'prev') {\n        if (ratio > 1 - params.longSwipesRatio) swiper.slideTo(stopIndex + increment);else swiper.slideTo(stopIndex);\n      }\n    } else {\n      // Short swipes\n      if (!params.shortSwipes) {\n        swiper.slideTo(swiper.activeIndex);\n        return;\n      }\n\n      const isNavButtonTarget = swiper.navigation && (e.target === swiper.navigation.nextEl || e.target === swiper.navigation.prevEl);\n\n      if (!isNavButtonTarget) {\n        if (swiper.swipeDirection === 'next') {\n          swiper.slideTo(stopIndex + increment);\n        }\n\n        if (swiper.swipeDirection === 'prev') {\n          swiper.slideTo(stopIndex);\n        }\n      } else if (e.target === swiper.navigation.nextEl) {\n        swiper.slideTo(stopIndex + increment);\n      } else {\n        swiper.slideTo(stopIndex);\n      }\n    }\n  }\n\n  function onResize() {\n    const swiper = this;\n    const {\n      params,\n      el\n    } = swiper;\n    if (el && el.offsetWidth === 0) return; // Breakpoints\n\n    if (params.breakpoints) {\n      swiper.setBreakpoint();\n    } // Save locks\n\n\n    const {\n      allowSlideNext,\n      allowSlidePrev,\n      snapGrid\n    } = swiper; // Disable locks on resize\n\n    swiper.allowSlideNext = true;\n    swiper.allowSlidePrev = true;\n    swiper.updateSize();\n    swiper.updateSlides();\n    swiper.updateSlidesClasses();\n\n    if ((params.slidesPerView === 'auto' || params.slidesPerView > 1) && swiper.isEnd && !swiper.isBeginning && !swiper.params.centeredSlides) {\n      swiper.slideTo(swiper.slides.length - 1, 0, false, true);\n    } else {\n      swiper.slideTo(swiper.activeIndex, 0, false, true);\n    }\n\n    if (swiper.autoplay && swiper.autoplay.running && swiper.autoplay.paused) {\n      swiper.autoplay.run();\n    } // Return locks after resize\n\n\n    swiper.allowSlidePrev = allowSlidePrev;\n    swiper.allowSlideNext = allowSlideNext;\n\n    if (swiper.params.watchOverflow && snapGrid !== swiper.snapGrid) {\n      swiper.checkOverflow();\n    }\n  }\n\n  function onClick(e) {\n    const swiper = this;\n    if (!swiper.enabled) return;\n\n    if (!swiper.allowClick) {\n      if (swiper.params.preventClicks) e.preventDefault();\n\n      if (swiper.params.preventClicksPropagation && swiper.animating) {\n        e.stopPropagation();\n        e.stopImmediatePropagation();\n      }\n    }\n  }\n\n  function onScroll() {\n    const swiper = this;\n    const {\n      wrapperEl,\n      rtlTranslate,\n      enabled\n    } = swiper;\n    if (!enabled) return;\n    swiper.previousTranslate = swiper.translate;\n\n    if (swiper.isHorizontal()) {\n      swiper.translate = -wrapperEl.scrollLeft;\n    } else {\n      swiper.translate = -wrapperEl.scrollTop;\n    } // eslint-disable-next-line\n\n\n    if (swiper.translate === -0) swiper.translate = 0;\n    swiper.updateActiveIndex();\n    swiper.updateSlidesClasses();\n    let newProgress;\n    const translatesDiff = swiper.maxTranslate() - swiper.minTranslate();\n\n    if (translatesDiff === 0) {\n      newProgress = 0;\n    } else {\n      newProgress = (swiper.translate - swiper.minTranslate()) / translatesDiff;\n    }\n\n    if (newProgress !== swiper.progress) {\n      swiper.updateProgress(rtlTranslate ? -swiper.translate : swiper.translate);\n    }\n\n    swiper.emit('setTranslate', swiper.translate, false);\n  }\n\n  let dummyEventAttached = false;\n\n  function dummyEventListener() {}\n\n  const events = (swiper, method) => {\n    const document = getDocument();\n    const {\n      params,\n      touchEvents,\n      el,\n      wrapperEl,\n      device,\n      support\n    } = swiper;\n    const capture = !!params.nested;\n    const domMethod = method === 'on' ? 'addEventListener' : 'removeEventListener';\n    const swiperMethod = method; // Touch Events\n\n    if (!support.touch) {\n      el[domMethod](touchEvents.start, swiper.onTouchStart, false);\n      document[domMethod](touchEvents.move, swiper.onTouchMove, capture);\n      document[domMethod](touchEvents.end, swiper.onTouchEnd, false);\n    } else {\n      const passiveListener = touchEvents.start === 'touchstart' && support.passiveListener && params.passiveListeners ? {\n        passive: true,\n        capture: false\n      } : false;\n      el[domMethod](touchEvents.start, swiper.onTouchStart, passiveListener);\n      el[domMethod](touchEvents.move, swiper.onTouchMove, support.passiveListener ? {\n        passive: false,\n        capture\n      } : capture);\n      el[domMethod](touchEvents.end, swiper.onTouchEnd, passiveListener);\n\n      if (touchEvents.cancel) {\n        el[domMethod](touchEvents.cancel, swiper.onTouchEnd, passiveListener);\n      }\n    } // Prevent Links Clicks\n\n\n    if (params.preventClicks || params.preventClicksPropagation) {\n      el[domMethod]('click', swiper.onClick, true);\n    }\n\n    if (params.cssMode) {\n      wrapperEl[domMethod]('scroll', swiper.onScroll);\n    } // Resize handler\n\n\n    if (params.updateOnWindowResize) {\n      swiper[swiperMethod](device.ios || device.android ? 'resize orientationchange observerUpdate' : 'resize observerUpdate', onResize, true);\n    } else {\n      swiper[swiperMethod]('observerUpdate', onResize, true);\n    }\n  };\n\n  function attachEvents() {\n    const swiper = this;\n    const document = getDocument();\n    const {\n      params,\n      support\n    } = swiper;\n    swiper.onTouchStart = onTouchStart.bind(swiper);\n    swiper.onTouchMove = onTouchMove.bind(swiper);\n    swiper.onTouchEnd = onTouchEnd.bind(swiper);\n\n    if (params.cssMode) {\n      swiper.onScroll = onScroll.bind(swiper);\n    }\n\n    swiper.onClick = onClick.bind(swiper);\n\n    if (support.touch && !dummyEventAttached) {\n      document.addEventListener('touchstart', dummyEventListener);\n      dummyEventAttached = true;\n    }\n\n    events(swiper, 'on');\n  }\n\n  function detachEvents() {\n    const swiper = this;\n    events(swiper, 'off');\n  }\n\n  var events$1 = {\n    attachEvents,\n    detachEvents\n  };\n\n  const isGridEnabled = (swiper, params) => {\n    return swiper.grid && params.grid && params.grid.rows > 1;\n  };\n\n  function setBreakpoint() {\n    const swiper = this;\n    const {\n      activeIndex,\n      initialized,\n      loopedSlides = 0,\n      params,\n      $el\n    } = swiper;\n    const breakpoints = params.breakpoints;\n    if (!breakpoints || breakpoints && Object.keys(breakpoints).length === 0) return; // Get breakpoint for window width and update parameters\n\n    const breakpoint = swiper.getBreakpoint(breakpoints, swiper.params.breakpointsBase, swiper.el);\n    if (!breakpoint || swiper.currentBreakpoint === breakpoint) return;\n    const breakpointOnlyParams = breakpoint in breakpoints ? breakpoints[breakpoint] : undefined;\n    const breakpointParams = breakpointOnlyParams || swiper.originalParams;\n    const wasMultiRow = isGridEnabled(swiper, params);\n    const isMultiRow = isGridEnabled(swiper, breakpointParams);\n    const wasEnabled = params.enabled;\n\n    if (wasMultiRow && !isMultiRow) {\n      $el.removeClass(`${params.containerModifierClass}grid ${params.containerModifierClass}grid-column`);\n      swiper.emitContainerClasses();\n    } else if (!wasMultiRow && isMultiRow) {\n      $el.addClass(`${params.containerModifierClass}grid`);\n\n      if (breakpointParams.grid.fill && breakpointParams.grid.fill === 'column' || !breakpointParams.grid.fill && params.grid.fill === 'column') {\n        $el.addClass(`${params.containerModifierClass}grid-column`);\n      }\n\n      swiper.emitContainerClasses();\n    }\n\n    const directionChanged = breakpointParams.direction && breakpointParams.direction !== params.direction;\n    const needsReLoop = params.loop && (breakpointParams.slidesPerView !== params.slidesPerView || directionChanged);\n\n    if (directionChanged && initialized) {\n      swiper.changeDirection();\n    }\n\n    extend(swiper.params, breakpointParams);\n    const isEnabled = swiper.params.enabled;\n    Object.assign(swiper, {\n      allowTouchMove: swiper.params.allowTouchMove,\n      allowSlideNext: swiper.params.allowSlideNext,\n      allowSlidePrev: swiper.params.allowSlidePrev\n    });\n\n    if (wasEnabled && !isEnabled) {\n      swiper.disable();\n    } else if (!wasEnabled && isEnabled) {\n      swiper.enable();\n    }\n\n    swiper.currentBreakpoint = breakpoint;\n    swiper.emit('_beforeBreakpoint', breakpointParams);\n\n    if (needsReLoop && initialized) {\n      swiper.loopDestroy();\n      swiper.loopCreate();\n      swiper.updateSlides();\n      swiper.slideTo(activeIndex - loopedSlides + swiper.loopedSlides, 0, false);\n    }\n\n    swiper.emit('breakpoint', breakpointParams);\n  }\n\n  function getBreakpoint(breakpoints, base = 'window', containerEl) {\n    if (!breakpoints || base === 'container' && !containerEl) return undefined;\n    let breakpoint = false;\n    const window = getWindow();\n    const currentHeight = base === 'window' ? window.innerHeight : containerEl.clientHeight;\n    const points = Object.keys(breakpoints).map(point => {\n      if (typeof point === 'string' && point.indexOf('@') === 0) {\n        const minRatio = parseFloat(point.substr(1));\n        const value = currentHeight * minRatio;\n        return {\n          value,\n          point\n        };\n      }\n\n      return {\n        value: point,\n        point\n      };\n    });\n    points.sort((a, b) => parseInt(a.value, 10) - parseInt(b.value, 10));\n\n    for (let i = 0; i < points.length; i += 1) {\n      const {\n        point,\n        value\n      } = points[i];\n\n      if (base === 'window') {\n        if (window.matchMedia(`(min-width: ${value}px)`).matches) {\n          breakpoint = point;\n        }\n      } else if (value <= containerEl.clientWidth) {\n        breakpoint = point;\n      }\n    }\n\n    return breakpoint || 'max';\n  }\n\n  var breakpoints = {\n    setBreakpoint,\n    getBreakpoint\n  };\n\n  function prepareClasses(entries, prefix) {\n    const resultClasses = [];\n    entries.forEach(item => {\n      if (typeof item === 'object') {\n        Object.keys(item).forEach(classNames => {\n          if (item[classNames]) {\n            resultClasses.push(prefix + classNames);\n          }\n        });\n      } else if (typeof item === 'string') {\n        resultClasses.push(prefix + item);\n      }\n    });\n    return resultClasses;\n  }\n\n  function addClasses() {\n    const swiper = this;\n    const {\n      classNames,\n      params,\n      rtl,\n      $el,\n      device,\n      support\n    } = swiper; // prettier-ignore\n\n    const suffixes = prepareClasses(['initialized', params.direction, {\n      'pointer-events': !support.touch\n    }, {\n      'free-mode': swiper.params.freeMode && params.freeMode.enabled\n    }, {\n      'autoheight': params.autoHeight\n    }, {\n      'rtl': rtl\n    }, {\n      'grid': params.grid && params.grid.rows > 1\n    }, {\n      'grid-column': params.grid && params.grid.rows > 1 && params.grid.fill === 'column'\n    }, {\n      'android': device.android\n    }, {\n      'ios': device.ios\n    }, {\n      'css-mode': params.cssMode\n    }, {\n      'centered': params.cssMode && params.centeredSlides\n    }], params.containerModifierClass);\n    classNames.push(...suffixes);\n    $el.addClass([...classNames].join(' '));\n    swiper.emitContainerClasses();\n  }\n\n  function removeClasses() {\n    const swiper = this;\n    const {\n      $el,\n      classNames\n    } = swiper;\n    $el.removeClass(classNames.join(' '));\n    swiper.emitContainerClasses();\n  }\n\n  var classes = {\n    addClasses,\n    removeClasses\n  };\n\n  function loadImage(imageEl, src, srcset, sizes, checkForComplete, callback) {\n    const window = getWindow();\n    let image;\n\n    function onReady() {\n      if (callback) callback();\n    }\n\n    const isPicture = $(imageEl).parent('picture')[0];\n\n    if (!isPicture && (!imageEl.complete || !checkForComplete)) {\n      if (src) {\n        image = new window.Image();\n        image.onload = onReady;\n        image.onerror = onReady;\n\n        if (sizes) {\n          image.sizes = sizes;\n        }\n\n        if (srcset) {\n          image.srcset = srcset;\n        }\n\n        if (src) {\n          image.src = src;\n        }\n      } else {\n        onReady();\n      }\n    } else {\n      // image already loaded...\n      onReady();\n    }\n  }\n\n  function preloadImages() {\n    const swiper = this;\n    swiper.imagesToLoad = swiper.$el.find('img');\n\n    function onReady() {\n      if (typeof swiper === 'undefined' || swiper === null || !swiper || swiper.destroyed) return;\n      if (swiper.imagesLoaded !== undefined) swiper.imagesLoaded += 1;\n\n      if (swiper.imagesLoaded === swiper.imagesToLoad.length) {\n        if (swiper.params.updateOnImagesReady) swiper.update();\n        swiper.emit('imagesReady');\n      }\n    }\n\n    for (let i = 0; i < swiper.imagesToLoad.length; i += 1) {\n      const imageEl = swiper.imagesToLoad[i];\n      swiper.loadImage(imageEl, imageEl.currentSrc || imageEl.getAttribute('src'), imageEl.srcset || imageEl.getAttribute('srcset'), imageEl.sizes || imageEl.getAttribute('sizes'), true, onReady);\n    }\n  }\n\n  var images = {\n    loadImage,\n    preloadImages\n  };\n\n  function checkOverflow() {\n    const swiper = this;\n    const {\n      isLocked: wasLocked,\n      params\n    } = swiper;\n    const {\n      slidesOffsetBefore\n    } = params;\n\n    if (slidesOffsetBefore) {\n      const lastSlideIndex = swiper.slides.length - 1;\n      const lastSlideRightEdge = swiper.slidesGrid[lastSlideIndex] + swiper.slidesSizesGrid[lastSlideIndex] + slidesOffsetBefore * 2;\n      swiper.isLocked = swiper.size > lastSlideRightEdge;\n    } else {\n      swiper.isLocked = swiper.snapGrid.length === 1;\n    }\n\n    if (params.allowSlideNext === true) {\n      swiper.allowSlideNext = !swiper.isLocked;\n    }\n\n    if (params.allowSlidePrev === true) {\n      swiper.allowSlidePrev = !swiper.isLocked;\n    }\n\n    if (wasLocked && wasLocked !== swiper.isLocked) {\n      swiper.isEnd = false;\n    }\n\n    if (wasLocked !== swiper.isLocked) {\n      swiper.emit(swiper.isLocked ? 'lock' : 'unlock');\n    }\n  }\n\n  var checkOverflow$1 = {\n    checkOverflow\n  };\n\n  var defaults = {\n    init: true,\n    direction: 'horizontal',\n    touchEventsTarget: 'wrapper',\n    initialSlide: 0,\n    speed: 300,\n    cssMode: false,\n    updateOnWindowResize: true,\n    resizeObserver: true,\n    nested: false,\n    createElements: false,\n    enabled: true,\n    focusableElements: 'input, select, option, textarea, button, video, label',\n    // Overrides\n    width: null,\n    height: null,\n    //\n    preventInteractionOnTransition: false,\n    // ssr\n    userAgent: null,\n    url: null,\n    // To support iOS's swipe-to-go-back gesture (when being used in-app).\n    edgeSwipeDetection: false,\n    edgeSwipeThreshold: 20,\n    // Autoheight\n    autoHeight: false,\n    // Set wrapper width\n    setWrapperSize: false,\n    // Virtual Translate\n    virtualTranslate: false,\n    // Effects\n    effect: 'slide',\n    // 'slide' or 'fade' or 'cube' or 'coverflow' or 'flip'\n    // Breakpoints\n    breakpoints: undefined,\n    breakpointsBase: 'window',\n    // Slides grid\n    spaceBetween: 0,\n    slidesPerView: 1,\n    slidesPerGroup: 1,\n    slidesPerGroupSkip: 0,\n    slidesPerGroupAuto: false,\n    centeredSlides: false,\n    centeredSlidesBounds: false,\n    slidesOffsetBefore: 0,\n    // in px\n    slidesOffsetAfter: 0,\n    // in px\n    normalizeSlideIndex: true,\n    centerInsufficientSlides: false,\n    // Disable swiper and hide navigation when container not overflow\n    watchOverflow: true,\n    // Round length\n    roundLengths: false,\n    // Touches\n    touchRatio: 1,\n    touchAngle: 45,\n    simulateTouch: true,\n    shortSwipes: true,\n    longSwipes: true,\n    longSwipesRatio: 0.5,\n    longSwipesMs: 300,\n    followFinger: true,\n    allowTouchMove: true,\n    threshold: 0,\n    touchMoveStopPropagation: false,\n    touchStartPreventDefault: true,\n    touchStartForcePreventDefault: false,\n    touchReleaseOnEdges: false,\n    // Unique Navigation Elements\n    uniqueNavElements: true,\n    // Resistance\n    resistance: true,\n    resistanceRatio: 0.85,\n    // Progress\n    watchSlidesProgress: false,\n    // Cursor\n    grabCursor: false,\n    // Clicks\n    preventClicks: true,\n    preventClicksPropagation: true,\n    slideToClickedSlide: false,\n    // Images\n    preloadImages: true,\n    updateOnImagesReady: true,\n    // loop\n    loop: false,\n    loopAdditionalSlides: 0,\n    loopedSlides: null,\n    loopFillGroupWithBlank: false,\n    loopPreventsSlide: true,\n    // Swiping/no swiping\n    allowSlidePrev: true,\n    allowSlideNext: true,\n    swipeHandler: null,\n    // '.swipe-handler',\n    noSwiping: true,\n    noSwipingClass: 'swiper-no-swiping',\n    noSwipingSelector: null,\n    // Passive Listeners\n    passiveListeners: true,\n    // NS\n    containerModifierClass: 'swiper-',\n    // NEW\n    slideClass: 'swiper-slide',\n    slideBlankClass: 'swiper-slide-invisible-blank',\n    slideActiveClass: 'swiper-slide-active',\n    slideDuplicateActiveClass: 'swiper-slide-duplicate-active',\n    slideVisibleClass: 'swiper-slide-visible',\n    slideDuplicateClass: 'swiper-slide-duplicate',\n    slideNextClass: 'swiper-slide-next',\n    slideDuplicateNextClass: 'swiper-slide-duplicate-next',\n    slidePrevClass: 'swiper-slide-prev',\n    slideDuplicatePrevClass: 'swiper-slide-duplicate-prev',\n    wrapperClass: 'swiper-wrapper',\n    // Callbacks\n    runCallbacksOnInit: true,\n    // Internals\n    _emitClasses: false\n  };\n\n  function moduleExtendParams(params, allModulesParams) {\n    return function extendParams(obj = {}) {\n      const moduleParamName = Object.keys(obj)[0];\n      const moduleParams = obj[moduleParamName];\n\n      if (typeof moduleParams !== 'object' || moduleParams === null) {\n        extend(allModulesParams, obj);\n        return;\n      }\n\n      if (['navigation', 'pagination', 'scrollbar'].indexOf(moduleParamName) >= 0 && params[moduleParamName] === true) {\n        params[moduleParamName] = {\n          auto: true\n        };\n      }\n\n      if (!(moduleParamName in params && 'enabled' in moduleParams)) {\n        extend(allModulesParams, obj);\n        return;\n      }\n\n      if (params[moduleParamName] === true) {\n        params[moduleParamName] = {\n          enabled: true\n        };\n      }\n\n      if (typeof params[moduleParamName] === 'object' && !('enabled' in params[moduleParamName])) {\n        params[moduleParamName].enabled = true;\n      }\n\n      if (!params[moduleParamName]) params[moduleParamName] = {\n        enabled: false\n      };\n      extend(allModulesParams, obj);\n    };\n  }\n\n  /* eslint no-param-reassign: \"off\" */\n  const prototypes = {\n    eventsEmitter,\n    update,\n    translate,\n    transition,\n    slide,\n    loop,\n    grabCursor,\n    events: events$1,\n    breakpoints,\n    checkOverflow: checkOverflow$1,\n    classes,\n    images\n  };\n  const extendedDefaults = {};\n\n  class Swiper {\n    constructor(...args) {\n      let el;\n      let params;\n\n      if (args.length === 1 && args[0].constructor && Object.prototype.toString.call(args[0]).slice(8, -1) === 'Object') {\n        params = args[0];\n      } else {\n        [el, params] = args;\n      }\n\n      if (!params) params = {};\n      params = extend({}, params);\n      if (el && !params.el) params.el = el;\n\n      if (params.el && $(params.el).length > 1) {\n        const swipers = [];\n        $(params.el).each(containerEl => {\n          const newParams = extend({}, params, {\n            el: containerEl\n          });\n          swipers.push(new Swiper(newParams));\n        });\n        return swipers;\n      } // Swiper Instance\n\n\n      const swiper = this;\n      swiper.__swiper__ = true;\n      swiper.support = getSupport();\n      swiper.device = getDevice({\n        userAgent: params.userAgent\n      });\n      swiper.browser = getBrowser();\n      swiper.eventsListeners = {};\n      swiper.eventsAnyListeners = [];\n      swiper.modules = [...swiper.__modules__];\n\n      if (params.modules && Array.isArray(params.modules)) {\n        swiper.modules.push(...params.modules);\n      }\n\n      const allModulesParams = {};\n      swiper.modules.forEach(mod => {\n        mod({\n          swiper,\n          extendParams: moduleExtendParams(params, allModulesParams),\n          on: swiper.on.bind(swiper),\n          once: swiper.once.bind(swiper),\n          off: swiper.off.bind(swiper),\n          emit: swiper.emit.bind(swiper)\n        });\n      }); // Extend defaults with modules params\n\n      const swiperParams = extend({}, defaults, allModulesParams); // Extend defaults with passed params\n\n      swiper.params = extend({}, swiperParams, extendedDefaults, params);\n      swiper.originalParams = extend({}, swiper.params);\n      swiper.passedParams = extend({}, params); // add event listeners\n\n      if (swiper.params && swiper.params.on) {\n        Object.keys(swiper.params.on).forEach(eventName => {\n          swiper.on(eventName, swiper.params.on[eventName]);\n        });\n      }\n\n      if (swiper.params && swiper.params.onAny) {\n        swiper.onAny(swiper.params.onAny);\n      } // Save Dom lib\n\n\n      swiper.$ = $; // Extend Swiper\n\n      Object.assign(swiper, {\n        enabled: swiper.params.enabled,\n        el,\n        // Classes\n        classNames: [],\n        // Slides\n        slides: $(),\n        slidesGrid: [],\n        snapGrid: [],\n        slidesSizesGrid: [],\n\n        // isDirection\n        isHorizontal() {\n          return swiper.params.direction === 'horizontal';\n        },\n\n        isVertical() {\n          return swiper.params.direction === 'vertical';\n        },\n\n        // Indexes\n        activeIndex: 0,\n        realIndex: 0,\n        //\n        isBeginning: true,\n        isEnd: false,\n        // Props\n        translate: 0,\n        previousTranslate: 0,\n        progress: 0,\n        velocity: 0,\n        animating: false,\n        // Locks\n        allowSlideNext: swiper.params.allowSlideNext,\n        allowSlidePrev: swiper.params.allowSlidePrev,\n        // Touch Events\n        touchEvents: function touchEvents() {\n          const touch = ['touchstart', 'touchmove', 'touchend', 'touchcancel'];\n          const desktop = ['pointerdown', 'pointermove', 'pointerup'];\n          swiper.touchEventsTouch = {\n            start: touch[0],\n            move: touch[1],\n            end: touch[2],\n            cancel: touch[3]\n          };\n          swiper.touchEventsDesktop = {\n            start: desktop[0],\n            move: desktop[1],\n            end: desktop[2]\n          };\n          return swiper.support.touch || !swiper.params.simulateTouch ? swiper.touchEventsTouch : swiper.touchEventsDesktop;\n        }(),\n        touchEventsData: {\n          isTouched: undefined,\n          isMoved: undefined,\n          allowTouchCallbacks: undefined,\n          touchStartTime: undefined,\n          isScrolling: undefined,\n          currentTranslate: undefined,\n          startTranslate: undefined,\n          allowThresholdMove: undefined,\n          // Form elements to match\n          focusableElements: swiper.params.focusableElements,\n          // Last click time\n          lastClickTime: now(),\n          clickTimeout: undefined,\n          // Velocities\n          velocities: [],\n          allowMomentumBounce: undefined,\n          isTouchEvent: undefined,\n          startMoving: undefined\n        },\n        // Clicks\n        allowClick: true,\n        // Touches\n        allowTouchMove: swiper.params.allowTouchMove,\n        touches: {\n          startX: 0,\n          startY: 0,\n          currentX: 0,\n          currentY: 0,\n          diff: 0\n        },\n        // Images\n        imagesToLoad: [],\n        imagesLoaded: 0\n      });\n      swiper.emit('_swiper'); // Init\n\n      if (swiper.params.init) {\n        swiper.init();\n      } // Return app instance\n\n\n      return swiper;\n    }\n\n    enable() {\n      const swiper = this;\n      if (swiper.enabled) return;\n      swiper.enabled = true;\n\n      if (swiper.params.grabCursor) {\n        swiper.setGrabCursor();\n      }\n\n      swiper.emit('enable');\n    }\n\n    disable() {\n      const swiper = this;\n      if (!swiper.enabled) return;\n      swiper.enabled = false;\n\n      if (swiper.params.grabCursor) {\n        swiper.unsetGrabCursor();\n      }\n\n      swiper.emit('disable');\n    }\n\n    setProgress(progress, speed) {\n      const swiper = this;\n      progress = Math.min(Math.max(progress, 0), 1);\n      const min = swiper.minTranslate();\n      const max = swiper.maxTranslate();\n      const current = (max - min) * progress + min;\n      swiper.translateTo(current, typeof speed === 'undefined' ? 0 : speed);\n      swiper.updateActiveIndex();\n      swiper.updateSlidesClasses();\n    }\n\n    emitContainerClasses() {\n      const swiper = this;\n      if (!swiper.params._emitClasses || !swiper.el) return;\n      const cls = swiper.el.className.split(' ').filter(className => {\n        return className.indexOf('swiper') === 0 || className.indexOf(swiper.params.containerModifierClass) === 0;\n      });\n      swiper.emit('_containerClasses', cls.join(' '));\n    }\n\n    getSlideClasses(slideEl) {\n      const swiper = this;\n      return slideEl.className.split(' ').filter(className => {\n        return className.indexOf('swiper-slide') === 0 || className.indexOf(swiper.params.slideClass) === 0;\n      }).join(' ');\n    }\n\n    emitSlidesClasses() {\n      const swiper = this;\n      if (!swiper.params._emitClasses || !swiper.el) return;\n      const updates = [];\n      swiper.slides.each(slideEl => {\n        const classNames = swiper.getSlideClasses(slideEl);\n        updates.push({\n          slideEl,\n          classNames\n        });\n        swiper.emit('_slideClass', slideEl, classNames);\n      });\n      swiper.emit('_slideClasses', updates);\n    }\n\n    slidesPerViewDynamic(view = 'current', exact = false) {\n      const swiper = this;\n      const {\n        params,\n        slides,\n        slidesGrid,\n        slidesSizesGrid,\n        size: swiperSize,\n        activeIndex\n      } = swiper;\n      let spv = 1;\n\n      if (params.centeredSlides) {\n        let slideSize = slides[activeIndex].swiperSlideSize;\n        let breakLoop;\n\n        for (let i = activeIndex + 1; i < slides.length; i += 1) {\n          if (slides[i] && !breakLoop) {\n            slideSize += slides[i].swiperSlideSize;\n            spv += 1;\n            if (slideSize > swiperSize) breakLoop = true;\n          }\n        }\n\n        for (let i = activeIndex - 1; i >= 0; i -= 1) {\n          if (slides[i] && !breakLoop) {\n            slideSize += slides[i].swiperSlideSize;\n            spv += 1;\n            if (slideSize > swiperSize) breakLoop = true;\n          }\n        }\n      } else {\n        // eslint-disable-next-line\n        if (view === 'current') {\n          for (let i = activeIndex + 1; i < slides.length; i += 1) {\n            const slideInView = exact ? slidesGrid[i] + slidesSizesGrid[i] - slidesGrid[activeIndex] < swiperSize : slidesGrid[i] - slidesGrid[activeIndex] < swiperSize;\n\n            if (slideInView) {\n              spv += 1;\n            }\n          }\n        } else {\n          // previous\n          for (let i = activeIndex - 1; i >= 0; i -= 1) {\n            const slideInView = slidesGrid[activeIndex] - slidesGrid[i] < swiperSize;\n\n            if (slideInView) {\n              spv += 1;\n            }\n          }\n        }\n      }\n\n      return spv;\n    }\n\n    update() {\n      const swiper = this;\n      if (!swiper || swiper.destroyed) return;\n      const {\n        snapGrid,\n        params\n      } = swiper; // Breakpoints\n\n      if (params.breakpoints) {\n        swiper.setBreakpoint();\n      }\n\n      swiper.updateSize();\n      swiper.updateSlides();\n      swiper.updateProgress();\n      swiper.updateSlidesClasses();\n\n      function setTranslate() {\n        const translateValue = swiper.rtlTranslate ? swiper.translate * -1 : swiper.translate;\n        const newTranslate = Math.min(Math.max(translateValue, swiper.maxTranslate()), swiper.minTranslate());\n        swiper.setTranslate(newTranslate);\n        swiper.updateActiveIndex();\n        swiper.updateSlidesClasses();\n      }\n\n      let translated;\n\n      if (swiper.params.freeMode && swiper.params.freeMode.enabled) {\n        setTranslate();\n\n        if (swiper.params.autoHeight) {\n          swiper.updateAutoHeight();\n        }\n      } else {\n        if ((swiper.params.slidesPerView === 'auto' || swiper.params.slidesPerView > 1) && swiper.isEnd && !swiper.params.centeredSlides) {\n          translated = swiper.slideTo(swiper.slides.length - 1, 0, false, true);\n        } else {\n          translated = swiper.slideTo(swiper.activeIndex, 0, false, true);\n        }\n\n        if (!translated) {\n          setTranslate();\n        }\n      }\n\n      if (params.watchOverflow && snapGrid !== swiper.snapGrid) {\n        swiper.checkOverflow();\n      }\n\n      swiper.emit('update');\n    }\n\n    changeDirection(newDirection, needUpdate = true) {\n      const swiper = this;\n      const currentDirection = swiper.params.direction;\n\n      if (!newDirection) {\n        // eslint-disable-next-line\n        newDirection = currentDirection === 'horizontal' ? 'vertical' : 'horizontal';\n      }\n\n      if (newDirection === currentDirection || newDirection !== 'horizontal' && newDirection !== 'vertical') {\n        return swiper;\n      }\n\n      swiper.$el.removeClass(`${swiper.params.containerModifierClass}${currentDirection}`).addClass(`${swiper.params.containerModifierClass}${newDirection}`);\n      swiper.emitContainerClasses();\n      swiper.params.direction = newDirection;\n      swiper.slides.each(slideEl => {\n        if (newDirection === 'vertical') {\n          slideEl.style.width = '';\n        } else {\n          slideEl.style.height = '';\n        }\n      });\n      swiper.emit('changeDirection');\n      if (needUpdate) swiper.update();\n      return swiper;\n    }\n\n    mount(el) {\n      const swiper = this;\n      if (swiper.mounted) return true; // Find el\n\n      const $el = $(el || swiper.params.el);\n      el = $el[0];\n\n      if (!el) {\n        return false;\n      }\n\n      el.swiper = swiper;\n\n      const getWrapperSelector = () => {\n        return `.${(swiper.params.wrapperClass || '').trim().split(' ').join('.')}`;\n      };\n\n      const getWrapper = () => {\n        if (el && el.shadowRoot && el.shadowRoot.querySelector) {\n          const res = $(el.shadowRoot.querySelector(getWrapperSelector())); // Children needs to return slot items\n\n          res.children = options => $el.children(options);\n\n          return res;\n        }\n\n        return $el.children(getWrapperSelector());\n      }; // Find Wrapper\n\n\n      let $wrapperEl = getWrapper();\n\n      if ($wrapperEl.length === 0 && swiper.params.createElements) {\n        const document = getDocument();\n        const wrapper = document.createElement('div');\n        $wrapperEl = $(wrapper);\n        wrapper.className = swiper.params.wrapperClass;\n        $el.append(wrapper);\n        $el.children(`.${swiper.params.slideClass}`).each(slideEl => {\n          $wrapperEl.append(slideEl);\n        });\n      }\n\n      Object.assign(swiper, {\n        $el,\n        el,\n        $wrapperEl,\n        wrapperEl: $wrapperEl[0],\n        mounted: true,\n        // RTL\n        rtl: el.dir.toLowerCase() === 'rtl' || $el.css('direction') === 'rtl',\n        rtlTranslate: swiper.params.direction === 'horizontal' && (el.dir.toLowerCase() === 'rtl' || $el.css('direction') === 'rtl'),\n        wrongRTL: $wrapperEl.css('display') === '-webkit-box'\n      });\n      return true;\n    }\n\n    init(el) {\n      const swiper = this;\n      if (swiper.initialized) return swiper;\n      const mounted = swiper.mount(el);\n      if (mounted === false) return swiper;\n      swiper.emit('beforeInit'); // Set breakpoint\n\n      if (swiper.params.breakpoints) {\n        swiper.setBreakpoint();\n      } // Add Classes\n\n\n      swiper.addClasses(); // Create loop\n\n      if (swiper.params.loop) {\n        swiper.loopCreate();\n      } // Update size\n\n\n      swiper.updateSize(); // Update slides\n\n      swiper.updateSlides();\n\n      if (swiper.params.watchOverflow) {\n        swiper.checkOverflow();\n      } // Set Grab Cursor\n\n\n      if (swiper.params.grabCursor && swiper.enabled) {\n        swiper.setGrabCursor();\n      }\n\n      if (swiper.params.preloadImages) {\n        swiper.preloadImages();\n      } // Slide To Initial Slide\n\n\n      if (swiper.params.loop) {\n        swiper.slideTo(swiper.params.initialSlide + swiper.loopedSlides, 0, swiper.params.runCallbacksOnInit, false, true);\n      } else {\n        swiper.slideTo(swiper.params.initialSlide, 0, swiper.params.runCallbacksOnInit, false, true);\n      } // Attach events\n\n\n      swiper.attachEvents(); // Init Flag\n\n      swiper.initialized = true; // Emit\n\n      swiper.emit('init');\n      swiper.emit('afterInit');\n      return swiper;\n    }\n\n    destroy(deleteInstance = true, cleanStyles = true) {\n      const swiper = this;\n      const {\n        params,\n        $el,\n        $wrapperEl,\n        slides\n      } = swiper;\n\n      if (typeof swiper.params === 'undefined' || swiper.destroyed) {\n        return null;\n      }\n\n      swiper.emit('beforeDestroy'); // Init Flag\n\n      swiper.initialized = false; // Detach events\n\n      swiper.detachEvents(); // Destroy loop\n\n      if (params.loop) {\n        swiper.loopDestroy();\n      } // Cleanup styles\n\n\n      if (cleanStyles) {\n        swiper.removeClasses();\n        $el.removeAttr('style');\n        $wrapperEl.removeAttr('style');\n\n        if (slides && slides.length) {\n          slides.removeClass([params.slideVisibleClass, params.slideActiveClass, params.slideNextClass, params.slidePrevClass].join(' ')).removeAttr('style').removeAttr('data-swiper-slide-index');\n        }\n      }\n\n      swiper.emit('destroy'); // Detach emitter events\n\n      Object.keys(swiper.eventsListeners).forEach(eventName => {\n        swiper.off(eventName);\n      });\n\n      if (deleteInstance !== false) {\n        swiper.$el[0].swiper = null;\n        deleteProps(swiper);\n      }\n\n      swiper.destroyed = true;\n      return null;\n    }\n\n    static extendDefaults(newDefaults) {\n      extend(extendedDefaults, newDefaults);\n    }\n\n    static get extendedDefaults() {\n      return extendedDefaults;\n    }\n\n    static get defaults() {\n      return defaults;\n    }\n\n    static installModule(mod) {\n      if (!Swiper.prototype.__modules__) Swiper.prototype.__modules__ = [];\n      const modules = Swiper.prototype.__modules__;\n\n      if (typeof mod === 'function' && modules.indexOf(mod) < 0) {\n        modules.push(mod);\n      }\n    }\n\n    static use(module) {\n      if (Array.isArray(module)) {\n        module.forEach(m => Swiper.installModule(m));\n        return Swiper;\n      }\n\n      Swiper.installModule(module);\n      return Swiper;\n    }\n\n  }\n\n  Object.keys(prototypes).forEach(prototypeGroup => {\n    Object.keys(prototypes[prototypeGroup]).forEach(protoMethod => {\n      Swiper.prototype[protoMethod] = prototypes[prototypeGroup][protoMethod];\n    });\n  });\n  Swiper.use([Resize, Observer]);\n\n  function Virtual({\n    swiper,\n    extendParams,\n    on\n  }) {\n    extendParams({\n      virtual: {\n        enabled: false,\n        slides: [],\n        cache: true,\n        renderSlide: null,\n        renderExternal: null,\n        renderExternalUpdate: true,\n        addSlidesBefore: 0,\n        addSlidesAfter: 0\n      }\n    });\n    let cssModeTimeout;\n    swiper.virtual = {\n      cache: {},\n      from: undefined,\n      to: undefined,\n      slides: [],\n      offset: 0,\n      slidesGrid: []\n    };\n\n    function renderSlide(slide, index) {\n      const params = swiper.params.virtual;\n\n      if (params.cache && swiper.virtual.cache[index]) {\n        return swiper.virtual.cache[index];\n      }\n\n      const $slideEl = params.renderSlide ? $(params.renderSlide.call(swiper, slide, index)) : $(`<div class=\"${swiper.params.slideClass}\" data-swiper-slide-index=\"${index}\">${slide}</div>`);\n      if (!$slideEl.attr('data-swiper-slide-index')) $slideEl.attr('data-swiper-slide-index', index);\n      if (params.cache) swiper.virtual.cache[index] = $slideEl;\n      return $slideEl;\n    }\n\n    function update(force) {\n      const {\n        slidesPerView,\n        slidesPerGroup,\n        centeredSlides\n      } = swiper.params;\n      const {\n        addSlidesBefore,\n        addSlidesAfter\n      } = swiper.params.virtual;\n      const {\n        from: previousFrom,\n        to: previousTo,\n        slides,\n        slidesGrid: previousSlidesGrid,\n        offset: previousOffset\n      } = swiper.virtual;\n\n      if (!swiper.params.cssMode) {\n        swiper.updateActiveIndex();\n      }\n\n      const activeIndex = swiper.activeIndex || 0;\n      let offsetProp;\n      if (swiper.rtlTranslate) offsetProp = 'right';else offsetProp = swiper.isHorizontal() ? 'left' : 'top';\n      let slidesAfter;\n      let slidesBefore;\n\n      if (centeredSlides) {\n        slidesAfter = Math.floor(slidesPerView / 2) + slidesPerGroup + addSlidesAfter;\n        slidesBefore = Math.floor(slidesPerView / 2) + slidesPerGroup + addSlidesBefore;\n      } else {\n        slidesAfter = slidesPerView + (slidesPerGroup - 1) + addSlidesAfter;\n        slidesBefore = slidesPerGroup + addSlidesBefore;\n      }\n\n      const from = Math.max((activeIndex || 0) - slidesBefore, 0);\n      const to = Math.min((activeIndex || 0) + slidesAfter, slides.length - 1);\n      const offset = (swiper.slidesGrid[from] || 0) - (swiper.slidesGrid[0] || 0);\n      Object.assign(swiper.virtual, {\n        from,\n        to,\n        offset,\n        slidesGrid: swiper.slidesGrid\n      });\n\n      function onRendered() {\n        swiper.updateSlides();\n        swiper.updateProgress();\n        swiper.updateSlidesClasses();\n\n        if (swiper.lazy && swiper.params.lazy.enabled) {\n          swiper.lazy.load();\n        }\n      }\n\n      if (previousFrom === from && previousTo === to && !force) {\n        if (swiper.slidesGrid !== previousSlidesGrid && offset !== previousOffset) {\n          swiper.slides.css(offsetProp, `${offset}px`);\n        }\n\n        swiper.updateProgress();\n        return;\n      }\n\n      if (swiper.params.virtual.renderExternal) {\n        swiper.params.virtual.renderExternal.call(swiper, {\n          offset,\n          from,\n          to,\n          slides: function getSlides() {\n            const slidesToRender = [];\n\n            for (let i = from; i <= to; i += 1) {\n              slidesToRender.push(slides[i]);\n            }\n\n            return slidesToRender;\n          }()\n        });\n\n        if (swiper.params.virtual.renderExternalUpdate) {\n          onRendered();\n        }\n\n        return;\n      }\n\n      const prependIndexes = [];\n      const appendIndexes = [];\n\n      if (force) {\n        swiper.$wrapperEl.find(`.${swiper.params.slideClass}`).remove();\n      } else {\n        for (let i = previousFrom; i <= previousTo; i += 1) {\n          if (i < from || i > to) {\n            swiper.$wrapperEl.find(`.${swiper.params.slideClass}[data-swiper-slide-index=\"${i}\"]`).remove();\n          }\n        }\n      }\n\n      for (let i = 0; i < slides.length; i += 1) {\n        if (i >= from && i <= to) {\n          if (typeof previousTo === 'undefined' || force) {\n            appendIndexes.push(i);\n          } else {\n            if (i > previousTo) appendIndexes.push(i);\n            if (i < previousFrom) prependIndexes.push(i);\n          }\n        }\n      }\n\n      appendIndexes.forEach(index => {\n        swiper.$wrapperEl.append(renderSlide(slides[index], index));\n      });\n      prependIndexes.sort((a, b) => b - a).forEach(index => {\n        swiper.$wrapperEl.prepend(renderSlide(slides[index], index));\n      });\n      swiper.$wrapperEl.children('.swiper-slide').css(offsetProp, `${offset}px`);\n      onRendered();\n    }\n\n    function appendSlide(slides) {\n      if (typeof slides === 'object' && 'length' in slides) {\n        for (let i = 0; i < slides.length; i += 1) {\n          if (slides[i]) swiper.virtual.slides.push(slides[i]);\n        }\n      } else {\n        swiper.virtual.slides.push(slides);\n      }\n\n      update(true);\n    }\n\n    function prependSlide(slides) {\n      const activeIndex = swiper.activeIndex;\n      let newActiveIndex = activeIndex + 1;\n      let numberOfNewSlides = 1;\n\n      if (Array.isArray(slides)) {\n        for (let i = 0; i < slides.length; i += 1) {\n          if (slides[i]) swiper.virtual.slides.unshift(slides[i]);\n        }\n\n        newActiveIndex = activeIndex + slides.length;\n        numberOfNewSlides = slides.length;\n      } else {\n        swiper.virtual.slides.unshift(slides);\n      }\n\n      if (swiper.params.virtual.cache) {\n        const cache = swiper.virtual.cache;\n        const newCache = {};\n        Object.keys(cache).forEach(cachedIndex => {\n          const $cachedEl = cache[cachedIndex];\n          const cachedElIndex = $cachedEl.attr('data-swiper-slide-index');\n\n          if (cachedElIndex) {\n            $cachedEl.attr('data-swiper-slide-index', parseInt(cachedElIndex, 10) + numberOfNewSlides);\n          }\n\n          newCache[parseInt(cachedIndex, 10) + numberOfNewSlides] = $cachedEl;\n        });\n        swiper.virtual.cache = newCache;\n      }\n\n      update(true);\n      swiper.slideTo(newActiveIndex, 0);\n    }\n\n    function removeSlide(slidesIndexes) {\n      if (typeof slidesIndexes === 'undefined' || slidesIndexes === null) return;\n      let activeIndex = swiper.activeIndex;\n\n      if (Array.isArray(slidesIndexes)) {\n        for (let i = slidesIndexes.length - 1; i >= 0; i -= 1) {\n          swiper.virtual.slides.splice(slidesIndexes[i], 1);\n\n          if (swiper.params.virtual.cache) {\n            delete swiper.virtual.cache[slidesIndexes[i]];\n          }\n\n          if (slidesIndexes[i] < activeIndex) activeIndex -= 1;\n          activeIndex = Math.max(activeIndex, 0);\n        }\n      } else {\n        swiper.virtual.slides.splice(slidesIndexes, 1);\n\n        if (swiper.params.virtual.cache) {\n          delete swiper.virtual.cache[slidesIndexes];\n        }\n\n        if (slidesIndexes < activeIndex) activeIndex -= 1;\n        activeIndex = Math.max(activeIndex, 0);\n      }\n\n      update(true);\n      swiper.slideTo(activeIndex, 0);\n    }\n\n    function removeAllSlides() {\n      swiper.virtual.slides = [];\n\n      if (swiper.params.virtual.cache) {\n        swiper.virtual.cache = {};\n      }\n\n      update(true);\n      swiper.slideTo(0, 0);\n    }\n\n    on('beforeInit', () => {\n      if (!swiper.params.virtual.enabled) return;\n      swiper.virtual.slides = swiper.params.virtual.slides;\n      swiper.classNames.push(`${swiper.params.containerModifierClass}virtual`);\n      swiper.params.watchSlidesProgress = true;\n      swiper.originalParams.watchSlidesProgress = true;\n\n      if (!swiper.params.initialSlide) {\n        update();\n      }\n    });\n    on('setTranslate', () => {\n      if (!swiper.params.virtual.enabled) return;\n\n      if (swiper.params.cssMode && !swiper._immediateVirtual) {\n        clearTimeout(cssModeTimeout);\n        cssModeTimeout = setTimeout(() => {\n          update();\n        }, 100);\n      } else {\n        update();\n      }\n    });\n    on('init update resize', () => {\n      if (!swiper.params.virtual.enabled) return;\n\n      if (swiper.params.cssMode) {\n        setCSSProperty(swiper.wrapperEl, '--swiper-virtual-size', `${swiper.virtualSize}px`);\n      }\n    });\n    Object.assign(swiper.virtual, {\n      appendSlide,\n      prependSlide,\n      removeSlide,\n      removeAllSlides,\n      update\n    });\n  }\n\n  /* eslint-disable consistent-return */\n  function Keyboard({\n    swiper,\n    extendParams,\n    on,\n    emit\n  }) {\n    const document = getDocument();\n    const window = getWindow();\n    swiper.keyboard = {\n      enabled: false\n    };\n    extendParams({\n      keyboard: {\n        enabled: false,\n        onlyInViewport: true,\n        pageUpDown: true\n      }\n    });\n\n    function handle(event) {\n      if (!swiper.enabled) return;\n      const {\n        rtlTranslate: rtl\n      } = swiper;\n      let e = event;\n      if (e.originalEvent) e = e.originalEvent; // jquery fix\n\n      const kc = e.keyCode || e.charCode;\n      const pageUpDown = swiper.params.keyboard.pageUpDown;\n      const isPageUp = pageUpDown && kc === 33;\n      const isPageDown = pageUpDown && kc === 34;\n      const isArrowLeft = kc === 37;\n      const isArrowRight = kc === 39;\n      const isArrowUp = kc === 38;\n      const isArrowDown = kc === 40; // Directions locks\n\n      if (!swiper.allowSlideNext && (swiper.isHorizontal() && isArrowRight || swiper.isVertical() && isArrowDown || isPageDown)) {\n        return false;\n      }\n\n      if (!swiper.allowSlidePrev && (swiper.isHorizontal() && isArrowLeft || swiper.isVertical() && isArrowUp || isPageUp)) {\n        return false;\n      }\n\n      if (e.shiftKey || e.altKey || e.ctrlKey || e.metaKey) {\n        return undefined;\n      }\n\n      if (document.activeElement && document.activeElement.nodeName && (document.activeElement.nodeName.toLowerCase() === 'input' || document.activeElement.nodeName.toLowerCase() === 'textarea')) {\n        return undefined;\n      }\n\n      if (swiper.params.keyboard.onlyInViewport && (isPageUp || isPageDown || isArrowLeft || isArrowRight || isArrowUp || isArrowDown)) {\n        let inView = false; // Check that swiper should be inside of visible area of window\n\n        if (swiper.$el.parents(`.${swiper.params.slideClass}`).length > 0 && swiper.$el.parents(`.${swiper.params.slideActiveClass}`).length === 0) {\n          return undefined;\n        }\n\n        const $el = swiper.$el;\n        const swiperWidth = $el[0].clientWidth;\n        const swiperHeight = $el[0].clientHeight;\n        const windowWidth = window.innerWidth;\n        const windowHeight = window.innerHeight;\n        const swiperOffset = swiper.$el.offset();\n        if (rtl) swiperOffset.left -= swiper.$el[0].scrollLeft;\n        const swiperCoord = [[swiperOffset.left, swiperOffset.top], [swiperOffset.left + swiperWidth, swiperOffset.top], [swiperOffset.left, swiperOffset.top + swiperHeight], [swiperOffset.left + swiperWidth, swiperOffset.top + swiperHeight]];\n\n        for (let i = 0; i < swiperCoord.length; i += 1) {\n          const point = swiperCoord[i];\n\n          if (point[0] >= 0 && point[0] <= windowWidth && point[1] >= 0 && point[1] <= windowHeight) {\n            if (point[0] === 0 && point[1] === 0) continue; // eslint-disable-line\n\n            inView = true;\n          }\n        }\n\n        if (!inView) return undefined;\n      }\n\n      if (swiper.isHorizontal()) {\n        if (isPageUp || isPageDown || isArrowLeft || isArrowRight) {\n          if (e.preventDefault) e.preventDefault();else e.returnValue = false;\n        }\n\n        if ((isPageDown || isArrowRight) && !rtl || (isPageUp || isArrowLeft) && rtl) swiper.slideNext();\n        if ((isPageUp || isArrowLeft) && !rtl || (isPageDown || isArrowRight) && rtl) swiper.slidePrev();\n      } else {\n        if (isPageUp || isPageDown || isArrowUp || isArrowDown) {\n          if (e.preventDefault) e.preventDefault();else e.returnValue = false;\n        }\n\n        if (isPageDown || isArrowDown) swiper.slideNext();\n        if (isPageUp || isArrowUp) swiper.slidePrev();\n      }\n\n      emit('keyPress', kc);\n      return undefined;\n    }\n\n    function enable() {\n      if (swiper.keyboard.enabled) return;\n      $(document).on('keydown', handle);\n      swiper.keyboard.enabled = true;\n    }\n\n    function disable() {\n      if (!swiper.keyboard.enabled) return;\n      $(document).off('keydown', handle);\n      swiper.keyboard.enabled = false;\n    }\n\n    on('init', () => {\n      if (swiper.params.keyboard.enabled) {\n        enable();\n      }\n    });\n    on('destroy', () => {\n      if (swiper.keyboard.enabled) {\n        disable();\n      }\n    });\n    Object.assign(swiper.keyboard, {\n      enable,\n      disable\n    });\n  }\n\n  /* eslint-disable consistent-return */\n  function Mousewheel({\n    swiper,\n    extendParams,\n    on,\n    emit\n  }) {\n    const window = getWindow();\n    extendParams({\n      mousewheel: {\n        enabled: false,\n        releaseOnEdges: false,\n        invert: false,\n        forceToAxis: false,\n        sensitivity: 1,\n        eventsTarget: 'container',\n        thresholdDelta: null,\n        thresholdTime: null\n      }\n    });\n    swiper.mousewheel = {\n      enabled: false\n    };\n    let timeout;\n    let lastScrollTime = now();\n    let lastEventBeforeSnap;\n    const recentWheelEvents = [];\n\n    function normalize(e) {\n      // Reasonable defaults\n      const PIXEL_STEP = 10;\n      const LINE_HEIGHT = 40;\n      const PAGE_HEIGHT = 800;\n      let sX = 0;\n      let sY = 0; // spinX, spinY\n\n      let pX = 0;\n      let pY = 0; // pixelX, pixelY\n      // Legacy\n\n      if ('detail' in e) {\n        sY = e.detail;\n      }\n\n      if ('wheelDelta' in e) {\n        sY = -e.wheelDelta / 120;\n      }\n\n      if ('wheelDeltaY' in e) {\n        sY = -e.wheelDeltaY / 120;\n      }\n\n      if ('wheelDeltaX' in e) {\n        sX = -e.wheelDeltaX / 120;\n      } // side scrolling on FF with DOMMouseScroll\n\n\n      if ('axis' in e && e.axis === e.HORIZONTAL_AXIS) {\n        sX = sY;\n        sY = 0;\n      }\n\n      pX = sX * PIXEL_STEP;\n      pY = sY * PIXEL_STEP;\n\n      if ('deltaY' in e) {\n        pY = e.deltaY;\n      }\n\n      if ('deltaX' in e) {\n        pX = e.deltaX;\n      }\n\n      if (e.shiftKey && !pX) {\n        // if user scrolls with shift he wants horizontal scroll\n        pX = pY;\n        pY = 0;\n      }\n\n      if ((pX || pY) && e.deltaMode) {\n        if (e.deltaMode === 1) {\n          // delta in LINE units\n          pX *= LINE_HEIGHT;\n          pY *= LINE_HEIGHT;\n        } else {\n          // delta in PAGE units\n          pX *= PAGE_HEIGHT;\n          pY *= PAGE_HEIGHT;\n        }\n      } // Fall-back if spin cannot be determined\n\n\n      if (pX && !sX) {\n        sX = pX < 1 ? -1 : 1;\n      }\n\n      if (pY && !sY) {\n        sY = pY < 1 ? -1 : 1;\n      }\n\n      return {\n        spinX: sX,\n        spinY: sY,\n        pixelX: pX,\n        pixelY: pY\n      };\n    }\n\n    function handleMouseEnter() {\n      if (!swiper.enabled) return;\n      swiper.mouseEntered = true;\n    }\n\n    function handleMouseLeave() {\n      if (!swiper.enabled) return;\n      swiper.mouseEntered = false;\n    }\n\n    function animateSlider(newEvent) {\n      if (swiper.params.mousewheel.thresholdDelta && newEvent.delta < swiper.params.mousewheel.thresholdDelta) {\n        // Prevent if delta of wheel scroll delta is below configured threshold\n        return false;\n      }\n\n      if (swiper.params.mousewheel.thresholdTime && now() - lastScrollTime < swiper.params.mousewheel.thresholdTime) {\n        // Prevent if time between scrolls is below configured threshold\n        return false;\n      } // If the movement is NOT big enough and\n      // if the last time the user scrolled was too close to the current one (avoid continuously triggering the slider):\n      //   Don't go any further (avoid insignificant scroll movement).\n\n\n      if (newEvent.delta >= 6 && now() - lastScrollTime < 60) {\n        // Return false as a default\n        return true;\n      } // If user is scrolling towards the end:\n      //   If the slider hasn't hit the latest slide or\n      //   if the slider is a loop and\n      //   if the slider isn't moving right now:\n      //     Go to next slide and\n      //     emit a scroll event.\n      // Else (the user is scrolling towards the beginning) and\n      // if the slider hasn't hit the first slide or\n      // if the slider is a loop and\n      // if the slider isn't moving right now:\n      //   Go to prev slide and\n      //   emit a scroll event.\n\n\n      if (newEvent.direction < 0) {\n        if ((!swiper.isEnd || swiper.params.loop) && !swiper.animating) {\n          swiper.slideNext();\n          emit('scroll', newEvent.raw);\n        }\n      } else if ((!swiper.isBeginning || swiper.params.loop) && !swiper.animating) {\n        swiper.slidePrev();\n        emit('scroll', newEvent.raw);\n      } // If you got here is because an animation has been triggered so store the current time\n\n\n      lastScrollTime = new window.Date().getTime(); // Return false as a default\n\n      return false;\n    }\n\n    function releaseScroll(newEvent) {\n      const params = swiper.params.mousewheel;\n\n      if (newEvent.direction < 0) {\n        if (swiper.isEnd && !swiper.params.loop && params.releaseOnEdges) {\n          // Return true to animate scroll on edges\n          return true;\n        }\n      } else if (swiper.isBeginning && !swiper.params.loop && params.releaseOnEdges) {\n        // Return true to animate scroll on edges\n        return true;\n      }\n\n      return false;\n    }\n\n    function handle(event) {\n      let e = event;\n      let disableParentSwiper = true;\n      if (!swiper.enabled) return;\n      const params = swiper.params.mousewheel;\n\n      if (swiper.params.cssMode) {\n        e.preventDefault();\n      }\n\n      let target = swiper.$el;\n\n      if (swiper.params.mousewheel.eventsTarget !== 'container') {\n        target = $(swiper.params.mousewheel.eventsTarget);\n      }\n\n      if (!swiper.mouseEntered && !target[0].contains(e.target) && !params.releaseOnEdges) return true;\n      if (e.originalEvent) e = e.originalEvent; // jquery fix\n\n      let delta = 0;\n      const rtlFactor = swiper.rtlTranslate ? -1 : 1;\n      const data = normalize(e);\n\n      if (params.forceToAxis) {\n        if (swiper.isHorizontal()) {\n          if (Math.abs(data.pixelX) > Math.abs(data.pixelY)) delta = -data.pixelX * rtlFactor;else return true;\n        } else if (Math.abs(data.pixelY) > Math.abs(data.pixelX)) delta = -data.pixelY;else return true;\n      } else {\n        delta = Math.abs(data.pixelX) > Math.abs(data.pixelY) ? -data.pixelX * rtlFactor : -data.pixelY;\n      }\n\n      if (delta === 0) return true;\n      if (params.invert) delta = -delta; // Get the scroll positions\n\n      let positions = swiper.getTranslate() + delta * params.sensitivity;\n      if (positions >= swiper.minTranslate()) positions = swiper.minTranslate();\n      if (positions <= swiper.maxTranslate()) positions = swiper.maxTranslate(); // When loop is true:\n      //     the disableParentSwiper will be true.\n      // When loop is false:\n      //     if the scroll positions is not on edge,\n      //     then the disableParentSwiper will be true.\n      //     if the scroll on edge positions,\n      //     then the disableParentSwiper will be false.\n\n      disableParentSwiper = swiper.params.loop ? true : !(positions === swiper.minTranslate() || positions === swiper.maxTranslate());\n      if (disableParentSwiper && swiper.params.nested) e.stopPropagation();\n\n      if (!swiper.params.freeMode || !swiper.params.freeMode.enabled) {\n        // Register the new event in a variable which stores the relevant data\n        const newEvent = {\n          time: now(),\n          delta: Math.abs(delta),\n          direction: Math.sign(delta),\n          raw: event\n        }; // Keep the most recent events\n\n        if (recentWheelEvents.length >= 2) {\n          recentWheelEvents.shift(); // only store the last N events\n        }\n\n        const prevEvent = recentWheelEvents.length ? recentWheelEvents[recentWheelEvents.length - 1] : undefined;\n        recentWheelEvents.push(newEvent); // If there is at least one previous recorded event:\n        //   If direction has changed or\n        //   if the scroll is quicker than the previous one:\n        //     Animate the slider.\n        // Else (this is the first time the wheel is moved):\n        //     Animate the slider.\n\n        if (prevEvent) {\n          if (newEvent.direction !== prevEvent.direction || newEvent.delta > prevEvent.delta || newEvent.time > prevEvent.time + 150) {\n            animateSlider(newEvent);\n          }\n        } else {\n          animateSlider(newEvent);\n        } // If it's time to release the scroll:\n        //   Return now so you don't hit the preventDefault.\n\n\n        if (releaseScroll(newEvent)) {\n          return true;\n        }\n      } else {\n        // Freemode or scrollContainer:\n        // If we recently snapped after a momentum scroll, then ignore wheel events\n        // to give time for the deceleration to finish. Stop ignoring after 500 msecs\n        // or if it's a new scroll (larger delta or inverse sign as last event before\n        // an end-of-momentum snap).\n        const newEvent = {\n          time: now(),\n          delta: Math.abs(delta),\n          direction: Math.sign(delta)\n        };\n        const ignoreWheelEvents = lastEventBeforeSnap && newEvent.time < lastEventBeforeSnap.time + 500 && newEvent.delta <= lastEventBeforeSnap.delta && newEvent.direction === lastEventBeforeSnap.direction;\n\n        if (!ignoreWheelEvents) {\n          lastEventBeforeSnap = undefined;\n\n          if (swiper.params.loop) {\n            swiper.loopFix();\n          }\n\n          let position = swiper.getTranslate() + delta * params.sensitivity;\n          const wasBeginning = swiper.isBeginning;\n          const wasEnd = swiper.isEnd;\n          if (position >= swiper.minTranslate()) position = swiper.minTranslate();\n          if (position <= swiper.maxTranslate()) position = swiper.maxTranslate();\n          swiper.setTransition(0);\n          swiper.setTranslate(position);\n          swiper.updateProgress();\n          swiper.updateActiveIndex();\n          swiper.updateSlidesClasses();\n\n          if (!wasBeginning && swiper.isBeginning || !wasEnd && swiper.isEnd) {\n            swiper.updateSlidesClasses();\n          }\n\n          if (swiper.params.freeMode.sticky) {\n            // When wheel scrolling starts with sticky (aka snap) enabled, then detect\n            // the end of a momentum scroll by storing recent (N=15?) wheel events.\n            // 1. do all N events have decreasing or same (absolute value) delta?\n            // 2. did all N events arrive in the last M (M=500?) msecs?\n            // 3. does the earliest event have an (absolute value) delta that's\n            //    at least P (P=1?) larger than the most recent event's delta?\n            // 4. does the latest event have a delta that's smaller than Q (Q=6?) pixels?\n            // If 1-4 are \"yes\" then we're near the end of a momentum scroll deceleration.\n            // Snap immediately and ignore remaining wheel events in this scroll.\n            // See comment above for \"remaining wheel events in this scroll\" determination.\n            // If 1-4 aren't satisfied, then wait to snap until 500ms after the last event.\n            clearTimeout(timeout);\n            timeout = undefined;\n\n            if (recentWheelEvents.length >= 15) {\n              recentWheelEvents.shift(); // only store the last N events\n            }\n\n            const prevEvent = recentWheelEvents.length ? recentWheelEvents[recentWheelEvents.length - 1] : undefined;\n            const firstEvent = recentWheelEvents[0];\n            recentWheelEvents.push(newEvent);\n\n            if (prevEvent && (newEvent.delta > prevEvent.delta || newEvent.direction !== prevEvent.direction)) {\n              // Increasing or reverse-sign delta means the user started scrolling again. Clear the wheel event log.\n              recentWheelEvents.splice(0);\n            } else if (recentWheelEvents.length >= 15 && newEvent.time - firstEvent.time < 500 && firstEvent.delta - newEvent.delta >= 1 && newEvent.delta <= 6) {\n              // We're at the end of the deceleration of a momentum scroll, so there's no need\n              // to wait for more events. Snap ASAP on the next tick.\n              // Also, because there's some remaining momentum we'll bias the snap in the\n              // direction of the ongoing scroll because it's better UX for the scroll to snap\n              // in the same direction as the scroll instead of reversing to snap.  Therefore,\n              // if it's already scrolled more than 20% in the current direction, keep going.\n              const snapToThreshold = delta > 0 ? 0.8 : 0.2;\n              lastEventBeforeSnap = newEvent;\n              recentWheelEvents.splice(0);\n              timeout = nextTick(() => {\n                swiper.slideToClosest(swiper.params.speed, true, undefined, snapToThreshold);\n              }, 0); // no delay; move on next tick\n            }\n\n            if (!timeout) {\n              // if we get here, then we haven't detected the end of a momentum scroll, so\n              // we'll consider a scroll \"complete\" when there haven't been any wheel events\n              // for 500ms.\n              timeout = nextTick(() => {\n                const snapToThreshold = 0.5;\n                lastEventBeforeSnap = newEvent;\n                recentWheelEvents.splice(0);\n                swiper.slideToClosest(swiper.params.speed, true, undefined, snapToThreshold);\n              }, 500);\n            }\n          } // Emit event\n\n\n          if (!ignoreWheelEvents) emit('scroll', e); // Stop autoplay\n\n          if (swiper.params.autoplay && swiper.params.autoplayDisableOnInteraction) swiper.autoplay.stop(); // Return page scroll on edge positions\n\n          if (position === swiper.minTranslate() || position === swiper.maxTranslate()) return true;\n        }\n      }\n\n      if (e.preventDefault) e.preventDefault();else e.returnValue = false;\n      return false;\n    }\n\n    function events(method) {\n      let target = swiper.$el;\n\n      if (swiper.params.mousewheel.eventsTarget !== 'container') {\n        target = $(swiper.params.mousewheel.eventsTarget);\n      }\n\n      target[method]('mouseenter', handleMouseEnter);\n      target[method]('mouseleave', handleMouseLeave);\n      target[method]('wheel', handle);\n    }\n\n    function enable() {\n      if (swiper.params.cssMode) {\n        swiper.wrapperEl.removeEventListener('wheel', handle);\n        return true;\n      }\n\n      if (swiper.mousewheel.enabled) return false;\n      events('on');\n      swiper.mousewheel.enabled = true;\n      return true;\n    }\n\n    function disable() {\n      if (swiper.params.cssMode) {\n        swiper.wrapperEl.addEventListener(event, handle);\n        return true;\n      }\n\n      if (!swiper.mousewheel.enabled) return false;\n      events('off');\n      swiper.mousewheel.enabled = false;\n      return true;\n    }\n\n    on('init', () => {\n      if (!swiper.params.mousewheel.enabled && swiper.params.cssMode) {\n        disable();\n      }\n\n      if (swiper.params.mousewheel.enabled) enable();\n    });\n    on('destroy', () => {\n      if (swiper.params.cssMode) {\n        enable();\n      }\n\n      if (swiper.mousewheel.enabled) disable();\n    });\n    Object.assign(swiper.mousewheel, {\n      enable,\n      disable\n    });\n  }\n\n  function createElementIfNotDefined(swiper, originalParams, params, checkProps) {\n    const document = getDocument();\n\n    if (swiper.params.createElements) {\n      Object.keys(checkProps).forEach(key => {\n        if (!params[key] && params.auto === true) {\n          let element = swiper.$el.children(`.${checkProps[key]}`)[0];\n\n          if (!element) {\n            element = document.createElement('div');\n            element.className = checkProps[key];\n            swiper.$el.append(element);\n          }\n\n          params[key] = element;\n          originalParams[key] = element;\n        }\n      });\n    }\n\n    return params;\n  }\n\n  function Navigation({\n    swiper,\n    extendParams,\n    on,\n    emit\n  }) {\n    extendParams({\n      navigation: {\n        nextEl: null,\n        prevEl: null,\n        hideOnClick: false,\n        disabledClass: 'swiper-button-disabled',\n        hiddenClass: 'swiper-button-hidden',\n        lockClass: 'swiper-button-lock'\n      }\n    });\n    swiper.navigation = {\n      nextEl: null,\n      $nextEl: null,\n      prevEl: null,\n      $prevEl: null\n    };\n\n    function getEl(el) {\n      let $el;\n\n      if (el) {\n        $el = $(el);\n\n        if (swiper.params.uniqueNavElements && typeof el === 'string' && $el.length > 1 && swiper.$el.find(el).length === 1) {\n          $el = swiper.$el.find(el);\n        }\n      }\n\n      return $el;\n    }\n\n    function toggleEl($el, disabled) {\n      const params = swiper.params.navigation;\n\n      if ($el && $el.length > 0) {\n        $el[disabled ? 'addClass' : 'removeClass'](params.disabledClass);\n        if ($el[0] && $el[0].tagName === 'BUTTON') $el[0].disabled = disabled;\n\n        if (swiper.params.watchOverflow && swiper.enabled) {\n          $el[swiper.isLocked ? 'addClass' : 'removeClass'](params.lockClass);\n        }\n      }\n    }\n\n    function update() {\n      // Update Navigation Buttons\n      if (swiper.params.loop) return;\n      const {\n        $nextEl,\n        $prevEl\n      } = swiper.navigation;\n      toggleEl($prevEl, swiper.isBeginning);\n      toggleEl($nextEl, swiper.isEnd);\n    }\n\n    function onPrevClick(e) {\n      e.preventDefault();\n      if (swiper.isBeginning && !swiper.params.loop) return;\n      swiper.slidePrev();\n    }\n\n    function onNextClick(e) {\n      e.preventDefault();\n      if (swiper.isEnd && !swiper.params.loop) return;\n      swiper.slideNext();\n    }\n\n    function init() {\n      const params = swiper.params.navigation;\n      swiper.params.navigation = createElementIfNotDefined(swiper, swiper.originalParams.navigation, swiper.params.navigation, {\n        nextEl: 'swiper-button-next',\n        prevEl: 'swiper-button-prev'\n      });\n      if (!(params.nextEl || params.prevEl)) return;\n      const $nextEl = getEl(params.nextEl);\n      const $prevEl = getEl(params.prevEl);\n\n      if ($nextEl && $nextEl.length > 0) {\n        $nextEl.on('click', onNextClick);\n      }\n\n      if ($prevEl && $prevEl.length > 0) {\n        $prevEl.on('click', onPrevClick);\n      }\n\n      Object.assign(swiper.navigation, {\n        $nextEl,\n        nextEl: $nextEl && $nextEl[0],\n        $prevEl,\n        prevEl: $prevEl && $prevEl[0]\n      });\n\n      if (!swiper.enabled) {\n        if ($nextEl) $nextEl.addClass(params.lockClass);\n        if ($prevEl) $prevEl.addClass(params.lockClass);\n      }\n    }\n\n    function destroy() {\n      const {\n        $nextEl,\n        $prevEl\n      } = swiper.navigation;\n\n      if ($nextEl && $nextEl.length) {\n        $nextEl.off('click', onNextClick);\n        $nextEl.removeClass(swiper.params.navigation.disabledClass);\n      }\n\n      if ($prevEl && $prevEl.length) {\n        $prevEl.off('click', onPrevClick);\n        $prevEl.removeClass(swiper.params.navigation.disabledClass);\n      }\n    }\n\n    on('init', () => {\n      init();\n      update();\n    });\n    on('toEdge fromEdge lock unlock', () => {\n      update();\n    });\n    on('destroy', () => {\n      destroy();\n    });\n    on('enable disable', () => {\n      const {\n        $nextEl,\n        $prevEl\n      } = swiper.navigation;\n\n      if ($nextEl) {\n        $nextEl[swiper.enabled ? 'removeClass' : 'addClass'](swiper.params.navigation.lockClass);\n      }\n\n      if ($prevEl) {\n        $prevEl[swiper.enabled ? 'removeClass' : 'addClass'](swiper.params.navigation.lockClass);\n      }\n    });\n    on('click', (_s, e) => {\n      const {\n        $nextEl,\n        $prevEl\n      } = swiper.navigation;\n      const targetEl = e.target;\n\n      if (swiper.params.navigation.hideOnClick && !$(targetEl).is($prevEl) && !$(targetEl).is($nextEl)) {\n        if (swiper.pagination && swiper.params.pagination && swiper.params.pagination.clickable && (swiper.pagination.el === targetEl || swiper.pagination.el.contains(targetEl))) return;\n        let isHidden;\n\n        if ($nextEl) {\n          isHidden = $nextEl.hasClass(swiper.params.navigation.hiddenClass);\n        } else if ($prevEl) {\n          isHidden = $prevEl.hasClass(swiper.params.navigation.hiddenClass);\n        }\n\n        if (isHidden === true) {\n          emit('navigationShow');\n        } else {\n          emit('navigationHide');\n        }\n\n        if ($nextEl) {\n          $nextEl.toggleClass(swiper.params.navigation.hiddenClass);\n        }\n\n        if ($prevEl) {\n          $prevEl.toggleClass(swiper.params.navigation.hiddenClass);\n        }\n      }\n    });\n    Object.assign(swiper.navigation, {\n      update,\n      init,\n      destroy\n    });\n  }\n\n  function classesToSelector(classes = '') {\n    return `.${classes.trim().replace(/([\\.:!\\/])/g, '\\\\$1') // eslint-disable-line\n.replace(/ /g, '.')}`;\n  }\n\n  function Pagination({\n    swiper,\n    extendParams,\n    on,\n    emit\n  }) {\n    const pfx = 'swiper-pagination';\n    extendParams({\n      pagination: {\n        el: null,\n        bulletElement: 'span',\n        clickable: false,\n        hideOnClick: false,\n        renderBullet: null,\n        renderProgressbar: null,\n        renderFraction: null,\n        renderCustom: null,\n        progressbarOpposite: false,\n        type: 'bullets',\n        // 'bullets' or 'progressbar' or 'fraction' or 'custom'\n        dynamicBullets: false,\n        dynamicMainBullets: 1,\n        formatFractionCurrent: number => number,\n        formatFractionTotal: number => number,\n        bulletClass: `${pfx}-bullet`,\n        bulletActiveClass: `${pfx}-bullet-active`,\n        modifierClass: `${pfx}-`,\n        currentClass: `${pfx}-current`,\n        totalClass: `${pfx}-total`,\n        hiddenClass: `${pfx}-hidden`,\n        progressbarFillClass: `${pfx}-progressbar-fill`,\n        progressbarOppositeClass: `${pfx}-progressbar-opposite`,\n        clickableClass: `${pfx}-clickable`,\n        lockClass: `${pfx}-lock`,\n        horizontalClass: `${pfx}-horizontal`,\n        verticalClass: `${pfx}-vertical`\n      }\n    });\n    swiper.pagination = {\n      el: null,\n      $el: null,\n      bullets: []\n    };\n    let bulletSize;\n    let dynamicBulletIndex = 0;\n\n    function isPaginationDisabled() {\n      return !swiper.params.pagination.el || !swiper.pagination.el || !swiper.pagination.$el || swiper.pagination.$el.length === 0;\n    }\n\n    function setSideBullets($bulletEl, position) {\n      const {\n        bulletActiveClass\n      } = swiper.params.pagination;\n      $bulletEl[position]().addClass(`${bulletActiveClass}-${position}`)[position]().addClass(`${bulletActiveClass}-${position}-${position}`);\n    }\n\n    function update() {\n      // Render || Update Pagination bullets/items\n      const rtl = swiper.rtl;\n      const params = swiper.params.pagination;\n      if (isPaginationDisabled()) return;\n      const slidesLength = swiper.virtual && swiper.params.virtual.enabled ? swiper.virtual.slides.length : swiper.slides.length;\n      const $el = swiper.pagination.$el; // Current/Total\n\n      let current;\n      const total = swiper.params.loop ? Math.ceil((slidesLength - swiper.loopedSlides * 2) / swiper.params.slidesPerGroup) : swiper.snapGrid.length;\n\n      if (swiper.params.loop) {\n        current = Math.ceil((swiper.activeIndex - swiper.loopedSlides) / swiper.params.slidesPerGroup);\n\n        if (current > slidesLength - 1 - swiper.loopedSlides * 2) {\n          current -= slidesLength - swiper.loopedSlides * 2;\n        }\n\n        if (current > total - 1) current -= total;\n        if (current < 0 && swiper.params.paginationType !== 'bullets') current = total + current;\n      } else if (typeof swiper.snapIndex !== 'undefined') {\n        current = swiper.snapIndex;\n      } else {\n        current = swiper.activeIndex || 0;\n      } // Types\n\n\n      if (params.type === 'bullets' && swiper.pagination.bullets && swiper.pagination.bullets.length > 0) {\n        const bullets = swiper.pagination.bullets;\n        let firstIndex;\n        let lastIndex;\n        let midIndex;\n\n        if (params.dynamicBullets) {\n          bulletSize = bullets.eq(0)[swiper.isHorizontal() ? 'outerWidth' : 'outerHeight'](true);\n          $el.css(swiper.isHorizontal() ? 'width' : 'height', `${bulletSize * (params.dynamicMainBullets + 4)}px`);\n\n          if (params.dynamicMainBullets > 1 && swiper.previousIndex !== undefined) {\n            dynamicBulletIndex += current - swiper.previousIndex;\n\n            if (dynamicBulletIndex > params.dynamicMainBullets - 1) {\n              dynamicBulletIndex = params.dynamicMainBullets - 1;\n            } else if (dynamicBulletIndex < 0) {\n              dynamicBulletIndex = 0;\n            }\n          }\n\n          firstIndex = current - dynamicBulletIndex;\n          lastIndex = firstIndex + (Math.min(bullets.length, params.dynamicMainBullets) - 1);\n          midIndex = (lastIndex + firstIndex) / 2;\n        }\n\n        bullets.removeClass(['', '-next', '-next-next', '-prev', '-prev-prev', '-main'].map(suffix => `${params.bulletActiveClass}${suffix}`).join(' '));\n\n        if ($el.length > 1) {\n          bullets.each(bullet => {\n            const $bullet = $(bullet);\n            const bulletIndex = $bullet.index();\n\n            if (bulletIndex === current) {\n              $bullet.addClass(params.bulletActiveClass);\n            }\n\n            if (params.dynamicBullets) {\n              if (bulletIndex >= firstIndex && bulletIndex <= lastIndex) {\n                $bullet.addClass(`${params.bulletActiveClass}-main`);\n              }\n\n              if (bulletIndex === firstIndex) {\n                setSideBullets($bullet, 'prev');\n              }\n\n              if (bulletIndex === lastIndex) {\n                setSideBullets($bullet, 'next');\n              }\n            }\n          });\n        } else {\n          const $bullet = bullets.eq(current);\n          const bulletIndex = $bullet.index();\n          $bullet.addClass(params.bulletActiveClass);\n\n          if (params.dynamicBullets) {\n            const $firstDisplayedBullet = bullets.eq(firstIndex);\n            const $lastDisplayedBullet = bullets.eq(lastIndex);\n\n            for (let i = firstIndex; i <= lastIndex; i += 1) {\n              bullets.eq(i).addClass(`${params.bulletActiveClass}-main`);\n            }\n\n            if (swiper.params.loop) {\n              if (bulletIndex >= bullets.length - params.dynamicMainBullets) {\n                for (let i = params.dynamicMainBullets; i >= 0; i -= 1) {\n                  bullets.eq(bullets.length - i).addClass(`${params.bulletActiveClass}-main`);\n                }\n\n                bullets.eq(bullets.length - params.dynamicMainBullets - 1).addClass(`${params.bulletActiveClass}-prev`);\n              } else {\n                setSideBullets($firstDisplayedBullet, 'prev');\n                setSideBullets($lastDisplayedBullet, 'next');\n              }\n            } else {\n              setSideBullets($firstDisplayedBullet, 'prev');\n              setSideBullets($lastDisplayedBullet, 'next');\n            }\n          }\n        }\n\n        if (params.dynamicBullets) {\n          const dynamicBulletsLength = Math.min(bullets.length, params.dynamicMainBullets + 4);\n          const bulletsOffset = (bulletSize * dynamicBulletsLength - bulletSize) / 2 - midIndex * bulletSize;\n          const offsetProp = rtl ? 'right' : 'left';\n          bullets.css(swiper.isHorizontal() ? offsetProp : 'top', `${bulletsOffset}px`);\n        }\n      }\n\n      if (params.type === 'fraction') {\n        $el.find(classesToSelector(params.currentClass)).text(params.formatFractionCurrent(current + 1));\n        $el.find(classesToSelector(params.totalClass)).text(params.formatFractionTotal(total));\n      }\n\n      if (params.type === 'progressbar') {\n        let progressbarDirection;\n\n        if (params.progressbarOpposite) {\n          progressbarDirection = swiper.isHorizontal() ? 'vertical' : 'horizontal';\n        } else {\n          progressbarDirection = swiper.isHorizontal() ? 'horizontal' : 'vertical';\n        }\n\n        const scale = (current + 1) / total;\n        let scaleX = 1;\n        let scaleY = 1;\n\n        if (progressbarDirection === 'horizontal') {\n          scaleX = scale;\n        } else {\n          scaleY = scale;\n        }\n\n        $el.find(classesToSelector(params.progressbarFillClass)).transform(`translate3d(0,0,0) scaleX(${scaleX}) scaleY(${scaleY})`).transition(swiper.params.speed);\n      }\n\n      if (params.type === 'custom' && params.renderCustom) {\n        $el.html(params.renderCustom(swiper, current + 1, total));\n        emit('paginationRender', $el[0]);\n      } else {\n        emit('paginationUpdate', $el[0]);\n      }\n\n      if (swiper.params.watchOverflow && swiper.enabled) {\n        $el[swiper.isLocked ? 'addClass' : 'removeClass'](params.lockClass);\n      }\n    }\n\n    function render() {\n      // Render Container\n      const params = swiper.params.pagination;\n      if (isPaginationDisabled()) return;\n      const slidesLength = swiper.virtual && swiper.params.virtual.enabled ? swiper.virtual.slides.length : swiper.slides.length;\n      const $el = swiper.pagination.$el;\n      let paginationHTML = '';\n\n      if (params.type === 'bullets') {\n        let numberOfBullets = swiper.params.loop ? Math.ceil((slidesLength - swiper.loopedSlides * 2) / swiper.params.slidesPerGroup) : swiper.snapGrid.length;\n\n        if (swiper.params.freeMode && swiper.params.freeMode.enabled && !swiper.params.loop && numberOfBullets > slidesLength) {\n          numberOfBullets = slidesLength;\n        }\n\n        for (let i = 0; i < numberOfBullets; i += 1) {\n          if (params.renderBullet) {\n            paginationHTML += params.renderBullet.call(swiper, i, params.bulletClass);\n          } else {\n            paginationHTML += `<${params.bulletElement} class=\"${params.bulletClass}\"></${params.bulletElement}>`;\n          }\n        }\n\n        $el.html(paginationHTML);\n        swiper.pagination.bullets = $el.find(classesToSelector(params.bulletClass));\n      }\n\n      if (params.type === 'fraction') {\n        if (params.renderFraction) {\n          paginationHTML = params.renderFraction.call(swiper, params.currentClass, params.totalClass);\n        } else {\n          paginationHTML = `<span class=\"${params.currentClass}\"></span>` + ' / ' + `<span class=\"${params.totalClass}\"></span>`;\n        }\n\n        $el.html(paginationHTML);\n      }\n\n      if (params.type === 'progressbar') {\n        if (params.renderProgressbar) {\n          paginationHTML = params.renderProgressbar.call(swiper, params.progressbarFillClass);\n        } else {\n          paginationHTML = `<span class=\"${params.progressbarFillClass}\"></span>`;\n        }\n\n        $el.html(paginationHTML);\n      }\n\n      if (params.type !== 'custom') {\n        emit('paginationRender', swiper.pagination.$el[0]);\n      }\n    }\n\n    function init() {\n      swiper.params.pagination = createElementIfNotDefined(swiper, swiper.originalParams.pagination, swiper.params.pagination, {\n        el: 'swiper-pagination'\n      });\n      const params = swiper.params.pagination;\n      if (!params.el) return;\n      let $el = $(params.el);\n      if ($el.length === 0) return;\n\n      if (swiper.params.uniqueNavElements && typeof params.el === 'string' && $el.length > 1) {\n        $el = swiper.$el.find(params.el); // check if it belongs to another nested Swiper\n\n        if ($el.length > 1) {\n          $el = $el.filter(el => {\n            if ($(el).parents('.swiper')[0] !== swiper.el) return false;\n            return true;\n          });\n        }\n      }\n\n      if (params.type === 'bullets' && params.clickable) {\n        $el.addClass(params.clickableClass);\n      }\n\n      $el.addClass(params.modifierClass + params.type);\n      $el.addClass(params.modifierClass + swiper.params.direction);\n\n      if (params.type === 'bullets' && params.dynamicBullets) {\n        $el.addClass(`${params.modifierClass}${params.type}-dynamic`);\n        dynamicBulletIndex = 0;\n\n        if (params.dynamicMainBullets < 1) {\n          params.dynamicMainBullets = 1;\n        }\n      }\n\n      if (params.type === 'progressbar' && params.progressbarOpposite) {\n        $el.addClass(params.progressbarOppositeClass);\n      }\n\n      if (params.clickable) {\n        $el.on('click', classesToSelector(params.bulletClass), function onClick(e) {\n          e.preventDefault();\n          let index = $(this).index() * swiper.params.slidesPerGroup;\n          if (swiper.params.loop) index += swiper.loopedSlides;\n          swiper.slideTo(index);\n        });\n      }\n\n      Object.assign(swiper.pagination, {\n        $el,\n        el: $el[0]\n      });\n\n      if (!swiper.enabled) {\n        $el.addClass(params.lockClass);\n      }\n    }\n\n    function destroy() {\n      const params = swiper.params.pagination;\n      if (isPaginationDisabled()) return;\n      const $el = swiper.pagination.$el;\n      $el.removeClass(params.hiddenClass);\n      $el.removeClass(params.modifierClass + params.type);\n      $el.removeClass(params.modifierClass + swiper.params.direction);\n      if (swiper.pagination.bullets && swiper.pagination.bullets.removeClass) swiper.pagination.bullets.removeClass(params.bulletActiveClass);\n\n      if (params.clickable) {\n        $el.off('click', classesToSelector(params.bulletClass));\n      }\n    }\n\n    on('init', () => {\n      init();\n      render();\n      update();\n    });\n    on('activeIndexChange', () => {\n      if (swiper.params.loop) {\n        update();\n      } else if (typeof swiper.snapIndex === 'undefined') {\n        update();\n      }\n    });\n    on('snapIndexChange', () => {\n      if (!swiper.params.loop) {\n        update();\n      }\n    });\n    on('slidesLengthChange', () => {\n      if (swiper.params.loop) {\n        render();\n        update();\n      }\n    });\n    on('snapGridLengthChange', () => {\n      if (!swiper.params.loop) {\n        render();\n        update();\n      }\n    });\n    on('destroy', () => {\n      destroy();\n    });\n    on('enable disable', () => {\n      const {\n        $el\n      } = swiper.pagination;\n\n      if ($el) {\n        $el[swiper.enabled ? 'removeClass' : 'addClass'](swiper.params.pagination.lockClass);\n      }\n    });\n    on('lock unlock', () => {\n      update();\n    });\n    on('click', (_s, e) => {\n      const targetEl = e.target;\n      const {\n        $el\n      } = swiper.pagination;\n\n      if (swiper.params.pagination.el && swiper.params.pagination.hideOnClick && $el.length > 0 && !$(targetEl).hasClass(swiper.params.pagination.bulletClass)) {\n        if (swiper.navigation && (swiper.navigation.nextEl && targetEl === swiper.navigation.nextEl || swiper.navigation.prevEl && targetEl === swiper.navigation.prevEl)) return;\n        const isHidden = $el.hasClass(swiper.params.pagination.hiddenClass);\n\n        if (isHidden === true) {\n          emit('paginationShow');\n        } else {\n          emit('paginationHide');\n        }\n\n        $el.toggleClass(swiper.params.pagination.hiddenClass);\n      }\n    });\n    Object.assign(swiper.pagination, {\n      render,\n      update,\n      init,\n      destroy\n    });\n  }\n\n  function Scrollbar({\n    swiper,\n    extendParams,\n    on,\n    emit\n  }) {\n    const document = getDocument();\n    let isTouched = false;\n    let timeout = null;\n    let dragTimeout = null;\n    let dragStartPos;\n    let dragSize;\n    let trackSize;\n    let divider;\n    extendParams({\n      scrollbar: {\n        el: null,\n        dragSize: 'auto',\n        hide: false,\n        draggable: false,\n        snapOnRelease: true,\n        lockClass: 'swiper-scrollbar-lock',\n        dragClass: 'swiper-scrollbar-drag'\n      }\n    });\n    swiper.scrollbar = {\n      el: null,\n      dragEl: null,\n      $el: null,\n      $dragEl: null\n    };\n\n    function setTranslate() {\n      if (!swiper.params.scrollbar.el || !swiper.scrollbar.el) return;\n      const {\n        scrollbar,\n        rtlTranslate: rtl,\n        progress\n      } = swiper;\n      const {\n        $dragEl,\n        $el\n      } = scrollbar;\n      const params = swiper.params.scrollbar;\n      let newSize = dragSize;\n      let newPos = (trackSize - dragSize) * progress;\n\n      if (rtl) {\n        newPos = -newPos;\n\n        if (newPos > 0) {\n          newSize = dragSize - newPos;\n          newPos = 0;\n        } else if (-newPos + dragSize > trackSize) {\n          newSize = trackSize + newPos;\n        }\n      } else if (newPos < 0) {\n        newSize = dragSize + newPos;\n        newPos = 0;\n      } else if (newPos + dragSize > trackSize) {\n        newSize = trackSize - newPos;\n      }\n\n      if (swiper.isHorizontal()) {\n        $dragEl.transform(`translate3d(${newPos}px, 0, 0)`);\n        $dragEl[0].style.width = `${newSize}px`;\n      } else {\n        $dragEl.transform(`translate3d(0px, ${newPos}px, 0)`);\n        $dragEl[0].style.height = `${newSize}px`;\n      }\n\n      if (params.hide) {\n        clearTimeout(timeout);\n        $el[0].style.opacity = 1;\n        timeout = setTimeout(() => {\n          $el[0].style.opacity = 0;\n          $el.transition(400);\n        }, 1000);\n      }\n    }\n\n    function setTransition(duration) {\n      if (!swiper.params.scrollbar.el || !swiper.scrollbar.el) return;\n      swiper.scrollbar.$dragEl.transition(duration);\n    }\n\n    function updateSize() {\n      if (!swiper.params.scrollbar.el || !swiper.scrollbar.el) return;\n      const {\n        scrollbar\n      } = swiper;\n      const {\n        $dragEl,\n        $el\n      } = scrollbar;\n      $dragEl[0].style.width = '';\n      $dragEl[0].style.height = '';\n      trackSize = swiper.isHorizontal() ? $el[0].offsetWidth : $el[0].offsetHeight;\n      divider = swiper.size / (swiper.virtualSize + swiper.params.slidesOffsetBefore - (swiper.params.centeredSlides ? swiper.snapGrid[0] : 0));\n\n      if (swiper.params.scrollbar.dragSize === 'auto') {\n        dragSize = trackSize * divider;\n      } else {\n        dragSize = parseInt(swiper.params.scrollbar.dragSize, 10);\n      }\n\n      if (swiper.isHorizontal()) {\n        $dragEl[0].style.width = `${dragSize}px`;\n      } else {\n        $dragEl[0].style.height = `${dragSize}px`;\n      }\n\n      if (divider >= 1) {\n        $el[0].style.display = 'none';\n      } else {\n        $el[0].style.display = '';\n      }\n\n      if (swiper.params.scrollbar.hide) {\n        $el[0].style.opacity = 0;\n      }\n\n      if (swiper.params.watchOverflow && swiper.enabled) {\n        scrollbar.$el[swiper.isLocked ? 'addClass' : 'removeClass'](swiper.params.scrollbar.lockClass);\n      }\n    }\n\n    function getPointerPosition(e) {\n      if (swiper.isHorizontal()) {\n        return e.type === 'touchstart' || e.type === 'touchmove' ? e.targetTouches[0].clientX : e.clientX;\n      }\n\n      return e.type === 'touchstart' || e.type === 'touchmove' ? e.targetTouches[0].clientY : e.clientY;\n    }\n\n    function setDragPosition(e) {\n      const {\n        scrollbar,\n        rtlTranslate: rtl\n      } = swiper;\n      const {\n        $el\n      } = scrollbar;\n      let positionRatio;\n      positionRatio = (getPointerPosition(e) - $el.offset()[swiper.isHorizontal() ? 'left' : 'top'] - (dragStartPos !== null ? dragStartPos : dragSize / 2)) / (trackSize - dragSize);\n      positionRatio = Math.max(Math.min(positionRatio, 1), 0);\n\n      if (rtl) {\n        positionRatio = 1 - positionRatio;\n      }\n\n      const position = swiper.minTranslate() + (swiper.maxTranslate() - swiper.minTranslate()) * positionRatio;\n      swiper.updateProgress(position);\n      swiper.setTranslate(position);\n      swiper.updateActiveIndex();\n      swiper.updateSlidesClasses();\n    }\n\n    function onDragStart(e) {\n      const params = swiper.params.scrollbar;\n      const {\n        scrollbar,\n        $wrapperEl\n      } = swiper;\n      const {\n        $el,\n        $dragEl\n      } = scrollbar;\n      isTouched = true;\n      dragStartPos = e.target === $dragEl[0] || e.target === $dragEl ? getPointerPosition(e) - e.target.getBoundingClientRect()[swiper.isHorizontal() ? 'left' : 'top'] : null;\n      e.preventDefault();\n      e.stopPropagation();\n      $wrapperEl.transition(100);\n      $dragEl.transition(100);\n      setDragPosition(e);\n      clearTimeout(dragTimeout);\n      $el.transition(0);\n\n      if (params.hide) {\n        $el.css('opacity', 1);\n      }\n\n      if (swiper.params.cssMode) {\n        swiper.$wrapperEl.css('scroll-snap-type', 'none');\n      }\n\n      emit('scrollbarDragStart', e);\n    }\n\n    function onDragMove(e) {\n      const {\n        scrollbar,\n        $wrapperEl\n      } = swiper;\n      const {\n        $el,\n        $dragEl\n      } = scrollbar;\n      if (!isTouched) return;\n      if (e.preventDefault) e.preventDefault();else e.returnValue = false;\n      setDragPosition(e);\n      $wrapperEl.transition(0);\n      $el.transition(0);\n      $dragEl.transition(0);\n      emit('scrollbarDragMove', e);\n    }\n\n    function onDragEnd(e) {\n      const params = swiper.params.scrollbar;\n      const {\n        scrollbar,\n        $wrapperEl\n      } = swiper;\n      const {\n        $el\n      } = scrollbar;\n      if (!isTouched) return;\n      isTouched = false;\n\n      if (swiper.params.cssMode) {\n        swiper.$wrapperEl.css('scroll-snap-type', '');\n        $wrapperEl.transition('');\n      }\n\n      if (params.hide) {\n        clearTimeout(dragTimeout);\n        dragTimeout = nextTick(() => {\n          $el.css('opacity', 0);\n          $el.transition(400);\n        }, 1000);\n      }\n\n      emit('scrollbarDragEnd', e);\n\n      if (params.snapOnRelease) {\n        swiper.slideToClosest();\n      }\n    }\n\n    function events(method) {\n      const {\n        scrollbar,\n        touchEventsTouch,\n        touchEventsDesktop,\n        params,\n        support\n      } = swiper;\n      const $el = scrollbar.$el;\n      const target = $el[0];\n      const activeListener = support.passiveListener && params.passiveListeners ? {\n        passive: false,\n        capture: false\n      } : false;\n      const passiveListener = support.passiveListener && params.passiveListeners ? {\n        passive: true,\n        capture: false\n      } : false;\n      if (!target) return;\n      const eventMethod = method === 'on' ? 'addEventListener' : 'removeEventListener';\n\n      if (!support.touch) {\n        target[eventMethod](touchEventsDesktop.start, onDragStart, activeListener);\n        document[eventMethod](touchEventsDesktop.move, onDragMove, activeListener);\n        document[eventMethod](touchEventsDesktop.end, onDragEnd, passiveListener);\n      } else {\n        target[eventMethod](touchEventsTouch.start, onDragStart, activeListener);\n        target[eventMethod](touchEventsTouch.move, onDragMove, activeListener);\n        target[eventMethod](touchEventsTouch.end, onDragEnd, passiveListener);\n      }\n    }\n\n    function enableDraggable() {\n      if (!swiper.params.scrollbar.el) return;\n      events('on');\n    }\n\n    function disableDraggable() {\n      if (!swiper.params.scrollbar.el) return;\n      events('off');\n    }\n\n    function init() {\n      const {\n        scrollbar,\n        $el: $swiperEl\n      } = swiper;\n      swiper.params.scrollbar = createElementIfNotDefined(swiper, swiper.originalParams.scrollbar, swiper.params.scrollbar, {\n        el: 'swiper-scrollbar'\n      });\n      const params = swiper.params.scrollbar;\n      if (!params.el) return;\n      let $el = $(params.el);\n\n      if (swiper.params.uniqueNavElements && typeof params.el === 'string' && $el.length > 1 && $swiperEl.find(params.el).length === 1) {\n        $el = $swiperEl.find(params.el);\n      }\n\n      let $dragEl = $el.find(`.${swiper.params.scrollbar.dragClass}`);\n\n      if ($dragEl.length === 0) {\n        $dragEl = $(`<div class=\"${swiper.params.scrollbar.dragClass}\"></div>`);\n        $el.append($dragEl);\n      }\n\n      Object.assign(scrollbar, {\n        $el,\n        el: $el[0],\n        $dragEl,\n        dragEl: $dragEl[0]\n      });\n\n      if (params.draggable) {\n        enableDraggable();\n      }\n\n      if ($el) {\n        $el[swiper.enabled ? 'removeClass' : 'addClass'](swiper.params.scrollbar.lockClass);\n      }\n    }\n\n    function destroy() {\n      disableDraggable();\n    }\n\n    on('init', () => {\n      init();\n      updateSize();\n      setTranslate();\n    });\n    on('update resize observerUpdate lock unlock', () => {\n      updateSize();\n    });\n    on('setTranslate', () => {\n      setTranslate();\n    });\n    on('setTransition', (_s, duration) => {\n      setTransition(duration);\n    });\n    on('enable disable', () => {\n      const {\n        $el\n      } = swiper.scrollbar;\n\n      if ($el) {\n        $el[swiper.enabled ? 'removeClass' : 'addClass'](swiper.params.scrollbar.lockClass);\n      }\n    });\n    on('destroy', () => {\n      destroy();\n    });\n    Object.assign(swiper.scrollbar, {\n      updateSize,\n      setTranslate,\n      init,\n      destroy\n    });\n  }\n\n  function Parallax({\n    swiper,\n    extendParams,\n    on\n  }) {\n    extendParams({\n      parallax: {\n        enabled: false\n      }\n    });\n\n    const setTransform = (el, progress) => {\n      const {\n        rtl\n      } = swiper;\n      const $el = $(el);\n      const rtlFactor = rtl ? -1 : 1;\n      const p = $el.attr('data-swiper-parallax') || '0';\n      let x = $el.attr('data-swiper-parallax-x');\n      let y = $el.attr('data-swiper-parallax-y');\n      const scale = $el.attr('data-swiper-parallax-scale');\n      const opacity = $el.attr('data-swiper-parallax-opacity');\n\n      if (x || y) {\n        x = x || '0';\n        y = y || '0';\n      } else if (swiper.isHorizontal()) {\n        x = p;\n        y = '0';\n      } else {\n        y = p;\n        x = '0';\n      }\n\n      if (x.indexOf('%') >= 0) {\n        x = `${parseInt(x, 10) * progress * rtlFactor}%`;\n      } else {\n        x = `${x * progress * rtlFactor}px`;\n      }\n\n      if (y.indexOf('%') >= 0) {\n        y = `${parseInt(y, 10) * progress}%`;\n      } else {\n        y = `${y * progress}px`;\n      }\n\n      if (typeof opacity !== 'undefined' && opacity !== null) {\n        const currentOpacity = opacity - (opacity - 1) * (1 - Math.abs(progress));\n        $el[0].style.opacity = currentOpacity;\n      }\n\n      if (typeof scale === 'undefined' || scale === null) {\n        $el.transform(`translate3d(${x}, ${y}, 0px)`);\n      } else {\n        const currentScale = scale - (scale - 1) * (1 - Math.abs(progress));\n        $el.transform(`translate3d(${x}, ${y}, 0px) scale(${currentScale})`);\n      }\n    };\n\n    const setTranslate = () => {\n      const {\n        $el,\n        slides,\n        progress,\n        snapGrid\n      } = swiper;\n      $el.children('[data-swiper-parallax], [data-swiper-parallax-x], [data-swiper-parallax-y], [data-swiper-parallax-opacity], [data-swiper-parallax-scale]').each(el => {\n        setTransform(el, progress);\n      });\n      slides.each((slideEl, slideIndex) => {\n        let slideProgress = slideEl.progress;\n\n        if (swiper.params.slidesPerGroup > 1 && swiper.params.slidesPerView !== 'auto') {\n          slideProgress += Math.ceil(slideIndex / 2) - progress * (snapGrid.length - 1);\n        }\n\n        slideProgress = Math.min(Math.max(slideProgress, -1), 1);\n        $(slideEl).find('[data-swiper-parallax], [data-swiper-parallax-x], [data-swiper-parallax-y], [data-swiper-parallax-opacity], [data-swiper-parallax-scale]').each(el => {\n          setTransform(el, slideProgress);\n        });\n      });\n    };\n\n    const setTransition = (duration = swiper.params.speed) => {\n      const {\n        $el\n      } = swiper;\n      $el.find('[data-swiper-parallax], [data-swiper-parallax-x], [data-swiper-parallax-y], [data-swiper-parallax-opacity], [data-swiper-parallax-scale]').each(parallaxEl => {\n        const $parallaxEl = $(parallaxEl);\n        let parallaxDuration = parseInt($parallaxEl.attr('data-swiper-parallax-duration'), 10) || duration;\n        if (duration === 0) parallaxDuration = 0;\n        $parallaxEl.transition(parallaxDuration);\n      });\n    };\n\n    on('beforeInit', () => {\n      if (!swiper.params.parallax.enabled) return;\n      swiper.params.watchSlidesProgress = true;\n      swiper.originalParams.watchSlidesProgress = true;\n    });\n    on('init', () => {\n      if (!swiper.params.parallax.enabled) return;\n      setTranslate();\n    });\n    on('setTranslate', () => {\n      if (!swiper.params.parallax.enabled) return;\n      setTranslate();\n    });\n    on('setTransition', (_swiper, duration) => {\n      if (!swiper.params.parallax.enabled) return;\n      setTransition(duration);\n    });\n  }\n\n  function Zoom({\n    swiper,\n    extendParams,\n    on,\n    emit\n  }) {\n    const window = getWindow();\n    extendParams({\n      zoom: {\n        enabled: false,\n        maxRatio: 3,\n        minRatio: 1,\n        toggle: true,\n        containerClass: 'swiper-zoom-container',\n        zoomedSlideClass: 'swiper-slide-zoomed'\n      }\n    });\n    swiper.zoom = {\n      enabled: false\n    };\n    let currentScale = 1;\n    let isScaling = false;\n    let gesturesEnabled;\n    let fakeGestureTouched;\n    let fakeGestureMoved;\n    const gesture = {\n      $slideEl: undefined,\n      slideWidth: undefined,\n      slideHeight: undefined,\n      $imageEl: undefined,\n      $imageWrapEl: undefined,\n      maxRatio: 3\n    };\n    const image = {\n      isTouched: undefined,\n      isMoved: undefined,\n      currentX: undefined,\n      currentY: undefined,\n      minX: undefined,\n      minY: undefined,\n      maxX: undefined,\n      maxY: undefined,\n      width: undefined,\n      height: undefined,\n      startX: undefined,\n      startY: undefined,\n      touchesStart: {},\n      touchesCurrent: {}\n    };\n    const velocity = {\n      x: undefined,\n      y: undefined,\n      prevPositionX: undefined,\n      prevPositionY: undefined,\n      prevTime: undefined\n    };\n    let scale = 1;\n    Object.defineProperty(swiper.zoom, 'scale', {\n      get() {\n        return scale;\n      },\n\n      set(value) {\n        if (scale !== value) {\n          const imageEl = gesture.$imageEl ? gesture.$imageEl[0] : undefined;\n          const slideEl = gesture.$slideEl ? gesture.$slideEl[0] : undefined;\n          emit('zoomChange', value, imageEl, slideEl);\n        }\n\n        scale = value;\n      }\n\n    });\n\n    function getDistanceBetweenTouches(e) {\n      if (e.targetTouches.length < 2) return 1;\n      const x1 = e.targetTouches[0].pageX;\n      const y1 = e.targetTouches[0].pageY;\n      const x2 = e.targetTouches[1].pageX;\n      const y2 = e.targetTouches[1].pageY;\n      const distance = Math.sqrt((x2 - x1) ** 2 + (y2 - y1) ** 2);\n      return distance;\n    } // Events\n\n\n    function onGestureStart(e) {\n      const support = swiper.support;\n      const params = swiper.params.zoom;\n      fakeGestureTouched = false;\n      fakeGestureMoved = false;\n\n      if (!support.gestures) {\n        if (e.type !== 'touchstart' || e.type === 'touchstart' && e.targetTouches.length < 2) {\n          return;\n        }\n\n        fakeGestureTouched = true;\n        gesture.scaleStart = getDistanceBetweenTouches(e);\n      }\n\n      if (!gesture.$slideEl || !gesture.$slideEl.length) {\n        gesture.$slideEl = $(e.target).closest(`.${swiper.params.slideClass}`);\n        if (gesture.$slideEl.length === 0) gesture.$slideEl = swiper.slides.eq(swiper.activeIndex);\n        gesture.$imageEl = gesture.$slideEl.find(`.${params.containerClass}`).eq(0).find('picture, img, svg, canvas, .swiper-zoom-target').eq(0);\n        gesture.$imageWrapEl = gesture.$imageEl.parent(`.${params.containerClass}`);\n        gesture.maxRatio = gesture.$imageWrapEl.attr('data-swiper-zoom') || params.maxRatio;\n\n        if (gesture.$imageWrapEl.length === 0) {\n          gesture.$imageEl = undefined;\n          return;\n        }\n      }\n\n      if (gesture.$imageEl) {\n        gesture.$imageEl.transition(0);\n      }\n\n      isScaling = true;\n    }\n\n    function onGestureChange(e) {\n      const support = swiper.support;\n      const params = swiper.params.zoom;\n      const zoom = swiper.zoom;\n\n      if (!support.gestures) {\n        if (e.type !== 'touchmove' || e.type === 'touchmove' && e.targetTouches.length < 2) {\n          return;\n        }\n\n        fakeGestureMoved = true;\n        gesture.scaleMove = getDistanceBetweenTouches(e);\n      }\n\n      if (!gesture.$imageEl || gesture.$imageEl.length === 0) {\n        if (e.type === 'gesturechange') onGestureStart(e);\n        return;\n      }\n\n      if (support.gestures) {\n        zoom.scale = e.scale * currentScale;\n      } else {\n        zoom.scale = gesture.scaleMove / gesture.scaleStart * currentScale;\n      }\n\n      if (zoom.scale > gesture.maxRatio) {\n        zoom.scale = gesture.maxRatio - 1 + (zoom.scale - gesture.maxRatio + 1) ** 0.5;\n      }\n\n      if (zoom.scale < params.minRatio) {\n        zoom.scale = params.minRatio + 1 - (params.minRatio - zoom.scale + 1) ** 0.5;\n      }\n\n      gesture.$imageEl.transform(`translate3d(0,0,0) scale(${zoom.scale})`);\n    }\n\n    function onGestureEnd(e) {\n      const device = swiper.device;\n      const support = swiper.support;\n      const params = swiper.params.zoom;\n      const zoom = swiper.zoom;\n\n      if (!support.gestures) {\n        if (!fakeGestureTouched || !fakeGestureMoved) {\n          return;\n        }\n\n        if (e.type !== 'touchend' || e.type === 'touchend' && e.changedTouches.length < 2 && !device.android) {\n          return;\n        }\n\n        fakeGestureTouched = false;\n        fakeGestureMoved = false;\n      }\n\n      if (!gesture.$imageEl || gesture.$imageEl.length === 0) return;\n      zoom.scale = Math.max(Math.min(zoom.scale, gesture.maxRatio), params.minRatio);\n      gesture.$imageEl.transition(swiper.params.speed).transform(`translate3d(0,0,0) scale(${zoom.scale})`);\n      currentScale = zoom.scale;\n      isScaling = false;\n      if (zoom.scale === 1) gesture.$slideEl = undefined;\n    }\n\n    function onTouchStart(e) {\n      const device = swiper.device;\n      if (!gesture.$imageEl || gesture.$imageEl.length === 0) return;\n      if (image.isTouched) return;\n      if (device.android && e.cancelable) e.preventDefault();\n      image.isTouched = true;\n      image.touchesStart.x = e.type === 'touchstart' ? e.targetTouches[0].pageX : e.pageX;\n      image.touchesStart.y = e.type === 'touchstart' ? e.targetTouches[0].pageY : e.pageY;\n    }\n\n    function onTouchMove(e) {\n      const zoom = swiper.zoom;\n      if (!gesture.$imageEl || gesture.$imageEl.length === 0) return;\n      swiper.allowClick = false;\n      if (!image.isTouched || !gesture.$slideEl) return;\n\n      if (!image.isMoved) {\n        image.width = gesture.$imageEl[0].offsetWidth;\n        image.height = gesture.$imageEl[0].offsetHeight;\n        image.startX = getTranslate(gesture.$imageWrapEl[0], 'x') || 0;\n        image.startY = getTranslate(gesture.$imageWrapEl[0], 'y') || 0;\n        gesture.slideWidth = gesture.$slideEl[0].offsetWidth;\n        gesture.slideHeight = gesture.$slideEl[0].offsetHeight;\n        gesture.$imageWrapEl.transition(0);\n      } // Define if we need image drag\n\n\n      const scaledWidth = image.width * zoom.scale;\n      const scaledHeight = image.height * zoom.scale;\n      if (scaledWidth < gesture.slideWidth && scaledHeight < gesture.slideHeight) return;\n      image.minX = Math.min(gesture.slideWidth / 2 - scaledWidth / 2, 0);\n      image.maxX = -image.minX;\n      image.minY = Math.min(gesture.slideHeight / 2 - scaledHeight / 2, 0);\n      image.maxY = -image.minY;\n      image.touchesCurrent.x = e.type === 'touchmove' ? e.targetTouches[0].pageX : e.pageX;\n      image.touchesCurrent.y = e.type === 'touchmove' ? e.targetTouches[0].pageY : e.pageY;\n\n      if (!image.isMoved && !isScaling) {\n        if (swiper.isHorizontal() && (Math.floor(image.minX) === Math.floor(image.startX) && image.touchesCurrent.x < image.touchesStart.x || Math.floor(image.maxX) === Math.floor(image.startX) && image.touchesCurrent.x > image.touchesStart.x)) {\n          image.isTouched = false;\n          return;\n        }\n\n        if (!swiper.isHorizontal() && (Math.floor(image.minY) === Math.floor(image.startY) && image.touchesCurrent.y < image.touchesStart.y || Math.floor(image.maxY) === Math.floor(image.startY) && image.touchesCurrent.y > image.touchesStart.y)) {\n          image.isTouched = false;\n          return;\n        }\n      }\n\n      if (e.cancelable) {\n        e.preventDefault();\n      }\n\n      e.stopPropagation();\n      image.isMoved = true;\n      image.currentX = image.touchesCurrent.x - image.touchesStart.x + image.startX;\n      image.currentY = image.touchesCurrent.y - image.touchesStart.y + image.startY;\n\n      if (image.currentX < image.minX) {\n        image.currentX = image.minX + 1 - (image.minX - image.currentX + 1) ** 0.8;\n      }\n\n      if (image.currentX > image.maxX) {\n        image.currentX = image.maxX - 1 + (image.currentX - image.maxX + 1) ** 0.8;\n      }\n\n      if (image.currentY < image.minY) {\n        image.currentY = image.minY + 1 - (image.minY - image.currentY + 1) ** 0.8;\n      }\n\n      if (image.currentY > image.maxY) {\n        image.currentY = image.maxY - 1 + (image.currentY - image.maxY + 1) ** 0.8;\n      } // Velocity\n\n\n      if (!velocity.prevPositionX) velocity.prevPositionX = image.touchesCurrent.x;\n      if (!velocity.prevPositionY) velocity.prevPositionY = image.touchesCurrent.y;\n      if (!velocity.prevTime) velocity.prevTime = Date.now();\n      velocity.x = (image.touchesCurrent.x - velocity.prevPositionX) / (Date.now() - velocity.prevTime) / 2;\n      velocity.y = (image.touchesCurrent.y - velocity.prevPositionY) / (Date.now() - velocity.prevTime) / 2;\n      if (Math.abs(image.touchesCurrent.x - velocity.prevPositionX) < 2) velocity.x = 0;\n      if (Math.abs(image.touchesCurrent.y - velocity.prevPositionY) < 2) velocity.y = 0;\n      velocity.prevPositionX = image.touchesCurrent.x;\n      velocity.prevPositionY = image.touchesCurrent.y;\n      velocity.prevTime = Date.now();\n      gesture.$imageWrapEl.transform(`translate3d(${image.currentX}px, ${image.currentY}px,0)`);\n    }\n\n    function onTouchEnd() {\n      const zoom = swiper.zoom;\n      if (!gesture.$imageEl || gesture.$imageEl.length === 0) return;\n\n      if (!image.isTouched || !image.isMoved) {\n        image.isTouched = false;\n        image.isMoved = false;\n        return;\n      }\n\n      image.isTouched = false;\n      image.isMoved = false;\n      let momentumDurationX = 300;\n      let momentumDurationY = 300;\n      const momentumDistanceX = velocity.x * momentumDurationX;\n      const newPositionX = image.currentX + momentumDistanceX;\n      const momentumDistanceY = velocity.y * momentumDurationY;\n      const newPositionY = image.currentY + momentumDistanceY; // Fix duration\n\n      if (velocity.x !== 0) momentumDurationX = Math.abs((newPositionX - image.currentX) / velocity.x);\n      if (velocity.y !== 0) momentumDurationY = Math.abs((newPositionY - image.currentY) / velocity.y);\n      const momentumDuration = Math.max(momentumDurationX, momentumDurationY);\n      image.currentX = newPositionX;\n      image.currentY = newPositionY; // Define if we need image drag\n\n      const scaledWidth = image.width * zoom.scale;\n      const scaledHeight = image.height * zoom.scale;\n      image.minX = Math.min(gesture.slideWidth / 2 - scaledWidth / 2, 0);\n      image.maxX = -image.minX;\n      image.minY = Math.min(gesture.slideHeight / 2 - scaledHeight / 2, 0);\n      image.maxY = -image.minY;\n      image.currentX = Math.max(Math.min(image.currentX, image.maxX), image.minX);\n      image.currentY = Math.max(Math.min(image.currentY, image.maxY), image.minY);\n      gesture.$imageWrapEl.transition(momentumDuration).transform(`translate3d(${image.currentX}px, ${image.currentY}px,0)`);\n    }\n\n    function onTransitionEnd() {\n      const zoom = swiper.zoom;\n\n      if (gesture.$slideEl && swiper.previousIndex !== swiper.activeIndex) {\n        if (gesture.$imageEl) {\n          gesture.$imageEl.transform('translate3d(0,0,0) scale(1)');\n        }\n\n        if (gesture.$imageWrapEl) {\n          gesture.$imageWrapEl.transform('translate3d(0,0,0)');\n        }\n\n        zoom.scale = 1;\n        currentScale = 1;\n        gesture.$slideEl = undefined;\n        gesture.$imageEl = undefined;\n        gesture.$imageWrapEl = undefined;\n      }\n    }\n\n    function zoomIn(e) {\n      const zoom = swiper.zoom;\n      const params = swiper.params.zoom;\n\n      if (!gesture.$slideEl) {\n        if (e && e.target) {\n          gesture.$slideEl = $(e.target).closest(`.${swiper.params.slideClass}`);\n        }\n\n        if (!gesture.$slideEl) {\n          if (swiper.params.virtual && swiper.params.virtual.enabled && swiper.virtual) {\n            gesture.$slideEl = swiper.$wrapperEl.children(`.${swiper.params.slideActiveClass}`);\n          } else {\n            gesture.$slideEl = swiper.slides.eq(swiper.activeIndex);\n          }\n        }\n\n        gesture.$imageEl = gesture.$slideEl.find(`.${params.containerClass}`).eq(0).find('picture, img, svg, canvas, .swiper-zoom-target').eq(0);\n        gesture.$imageWrapEl = gesture.$imageEl.parent(`.${params.containerClass}`);\n      }\n\n      if (!gesture.$imageEl || gesture.$imageEl.length === 0 || !gesture.$imageWrapEl || gesture.$imageWrapEl.length === 0) return;\n\n      if (swiper.params.cssMode) {\n        swiper.wrapperEl.style.overflow = 'hidden';\n        swiper.wrapperEl.style.touchAction = 'none';\n      }\n\n      gesture.$slideEl.addClass(`${params.zoomedSlideClass}`);\n      let touchX;\n      let touchY;\n      let offsetX;\n      let offsetY;\n      let diffX;\n      let diffY;\n      let translateX;\n      let translateY;\n      let imageWidth;\n      let imageHeight;\n      let scaledWidth;\n      let scaledHeight;\n      let translateMinX;\n      let translateMinY;\n      let translateMaxX;\n      let translateMaxY;\n      let slideWidth;\n      let slideHeight;\n\n      if (typeof image.touchesStart.x === 'undefined' && e) {\n        touchX = e.type === 'touchend' ? e.changedTouches[0].pageX : e.pageX;\n        touchY = e.type === 'touchend' ? e.changedTouches[0].pageY : e.pageY;\n      } else {\n        touchX = image.touchesStart.x;\n        touchY = image.touchesStart.y;\n      }\n\n      zoom.scale = gesture.$imageWrapEl.attr('data-swiper-zoom') || params.maxRatio;\n      currentScale = gesture.$imageWrapEl.attr('data-swiper-zoom') || params.maxRatio;\n\n      if (e) {\n        slideWidth = gesture.$slideEl[0].offsetWidth;\n        slideHeight = gesture.$slideEl[0].offsetHeight;\n        offsetX = gesture.$slideEl.offset().left + window.scrollX;\n        offsetY = gesture.$slideEl.offset().top + window.scrollY;\n        diffX = offsetX + slideWidth / 2 - touchX;\n        diffY = offsetY + slideHeight / 2 - touchY;\n        imageWidth = gesture.$imageEl[0].offsetWidth;\n        imageHeight = gesture.$imageEl[0].offsetHeight;\n        scaledWidth = imageWidth * zoom.scale;\n        scaledHeight = imageHeight * zoom.scale;\n        translateMinX = Math.min(slideWidth / 2 - scaledWidth / 2, 0);\n        translateMinY = Math.min(slideHeight / 2 - scaledHeight / 2, 0);\n        translateMaxX = -translateMinX;\n        translateMaxY = -translateMinY;\n        translateX = diffX * zoom.scale;\n        translateY = diffY * zoom.scale;\n\n        if (translateX < translateMinX) {\n          translateX = translateMinX;\n        }\n\n        if (translateX > translateMaxX) {\n          translateX = translateMaxX;\n        }\n\n        if (translateY < translateMinY) {\n          translateY = translateMinY;\n        }\n\n        if (translateY > translateMaxY) {\n          translateY = translateMaxY;\n        }\n      } else {\n        translateX = 0;\n        translateY = 0;\n      }\n\n      gesture.$imageWrapEl.transition(300).transform(`translate3d(${translateX}px, ${translateY}px,0)`);\n      gesture.$imageEl.transition(300).transform(`translate3d(0,0,0) scale(${zoom.scale})`);\n    }\n\n    function zoomOut() {\n      const zoom = swiper.zoom;\n      const params = swiper.params.zoom;\n\n      if (!gesture.$slideEl) {\n        if (swiper.params.virtual && swiper.params.virtual.enabled && swiper.virtual) {\n          gesture.$slideEl = swiper.$wrapperEl.children(`.${swiper.params.slideActiveClass}`);\n        } else {\n          gesture.$slideEl = swiper.slides.eq(swiper.activeIndex);\n        }\n\n        gesture.$imageEl = gesture.$slideEl.find(`.${params.containerClass}`).eq(0).find('picture, img, svg, canvas, .swiper-zoom-target').eq(0);\n        gesture.$imageWrapEl = gesture.$imageEl.parent(`.${params.containerClass}`);\n      }\n\n      if (!gesture.$imageEl || gesture.$imageEl.length === 0 || !gesture.$imageWrapEl || gesture.$imageWrapEl.length === 0) return;\n\n      if (swiper.params.cssMode) {\n        swiper.wrapperEl.style.overflow = '';\n        swiper.wrapperEl.style.touchAction = '';\n      }\n\n      zoom.scale = 1;\n      currentScale = 1;\n      gesture.$imageWrapEl.transition(300).transform('translate3d(0,0,0)');\n      gesture.$imageEl.transition(300).transform('translate3d(0,0,0) scale(1)');\n      gesture.$slideEl.removeClass(`${params.zoomedSlideClass}`);\n      gesture.$slideEl = undefined;\n    } // Toggle Zoom\n\n\n    function zoomToggle(e) {\n      const zoom = swiper.zoom;\n\n      if (zoom.scale && zoom.scale !== 1) {\n        // Zoom Out\n        zoomOut();\n      } else {\n        // Zoom In\n        zoomIn(e);\n      }\n    }\n\n    function getListeners() {\n      const support = swiper.support;\n      const passiveListener = swiper.touchEvents.start === 'touchstart' && support.passiveListener && swiper.params.passiveListeners ? {\n        passive: true,\n        capture: false\n      } : false;\n      const activeListenerWithCapture = support.passiveListener ? {\n        passive: false,\n        capture: true\n      } : true;\n      return {\n        passiveListener,\n        activeListenerWithCapture\n      };\n    }\n\n    function getSlideSelector() {\n      return `.${swiper.params.slideClass}`;\n    }\n\n    function toggleGestures(method) {\n      const {\n        passiveListener\n      } = getListeners();\n      const slideSelector = getSlideSelector();\n      swiper.$wrapperEl[method]('gesturestart', slideSelector, onGestureStart, passiveListener);\n      swiper.$wrapperEl[method]('gesturechange', slideSelector, onGestureChange, passiveListener);\n      swiper.$wrapperEl[method]('gestureend', slideSelector, onGestureEnd, passiveListener);\n    }\n\n    function enableGestures() {\n      if (gesturesEnabled) return;\n      gesturesEnabled = true;\n      toggleGestures('on');\n    }\n\n    function disableGestures() {\n      if (!gesturesEnabled) return;\n      gesturesEnabled = false;\n      toggleGestures('off');\n    } // Attach/Detach Events\n\n\n    function enable() {\n      const zoom = swiper.zoom;\n      if (zoom.enabled) return;\n      zoom.enabled = true;\n      const support = swiper.support;\n      const {\n        passiveListener,\n        activeListenerWithCapture\n      } = getListeners();\n      const slideSelector = getSlideSelector(); // Scale image\n\n      if (support.gestures) {\n        swiper.$wrapperEl.on(swiper.touchEvents.start, enableGestures, passiveListener);\n        swiper.$wrapperEl.on(swiper.touchEvents.end, disableGestures, passiveListener);\n      } else if (swiper.touchEvents.start === 'touchstart') {\n        swiper.$wrapperEl.on(swiper.touchEvents.start, slideSelector, onGestureStart, passiveListener);\n        swiper.$wrapperEl.on(swiper.touchEvents.move, slideSelector, onGestureChange, activeListenerWithCapture);\n        swiper.$wrapperEl.on(swiper.touchEvents.end, slideSelector, onGestureEnd, passiveListener);\n\n        if (swiper.touchEvents.cancel) {\n          swiper.$wrapperEl.on(swiper.touchEvents.cancel, slideSelector, onGestureEnd, passiveListener);\n        }\n      } // Move image\n\n\n      swiper.$wrapperEl.on(swiper.touchEvents.move, `.${swiper.params.zoom.containerClass}`, onTouchMove, activeListenerWithCapture);\n    }\n\n    function disable() {\n      const zoom = swiper.zoom;\n      if (!zoom.enabled) return;\n      const support = swiper.support;\n      zoom.enabled = false;\n      const {\n        passiveListener,\n        activeListenerWithCapture\n      } = getListeners();\n      const slideSelector = getSlideSelector(); // Scale image\n\n      if (support.gestures) {\n        swiper.$wrapperEl.off(swiper.touchEvents.start, enableGestures, passiveListener);\n        swiper.$wrapperEl.off(swiper.touchEvents.end, disableGestures, passiveListener);\n      } else if (swiper.touchEvents.start === 'touchstart') {\n        swiper.$wrapperEl.off(swiper.touchEvents.start, slideSelector, onGestureStart, passiveListener);\n        swiper.$wrapperEl.off(swiper.touchEvents.move, slideSelector, onGestureChange, activeListenerWithCapture);\n        swiper.$wrapperEl.off(swiper.touchEvents.end, slideSelector, onGestureEnd, passiveListener);\n\n        if (swiper.touchEvents.cancel) {\n          swiper.$wrapperEl.off(swiper.touchEvents.cancel, slideSelector, onGestureEnd, passiveListener);\n        }\n      } // Move image\n\n\n      swiper.$wrapperEl.off(swiper.touchEvents.move, `.${swiper.params.zoom.containerClass}`, onTouchMove, activeListenerWithCapture);\n    }\n\n    on('init', () => {\n      if (swiper.params.zoom.enabled) {\n        enable();\n      }\n    });\n    on('destroy', () => {\n      disable();\n    });\n    on('touchStart', (_s, e) => {\n      if (!swiper.zoom.enabled) return;\n      onTouchStart(e);\n    });\n    on('touchEnd', (_s, e) => {\n      if (!swiper.zoom.enabled) return;\n      onTouchEnd();\n    });\n    on('doubleTap', (_s, e) => {\n      if (!swiper.animating && swiper.params.zoom.enabled && swiper.zoom.enabled && swiper.params.zoom.toggle) {\n        zoomToggle(e);\n      }\n    });\n    on('transitionEnd', () => {\n      if (swiper.zoom.enabled && swiper.params.zoom.enabled) {\n        onTransitionEnd();\n      }\n    });\n    on('slideChange', () => {\n      if (swiper.zoom.enabled && swiper.params.zoom.enabled && swiper.params.cssMode) {\n        onTransitionEnd();\n      }\n    });\n    Object.assign(swiper.zoom, {\n      enable,\n      disable,\n      in: zoomIn,\n      out: zoomOut,\n      toggle: zoomToggle\n    });\n  }\n\n  function Lazy({\n    swiper,\n    extendParams,\n    on,\n    emit\n  }) {\n    extendParams({\n      lazy: {\n        checkInView: false,\n        enabled: false,\n        loadPrevNext: false,\n        loadPrevNextAmount: 1,\n        loadOnTransitionStart: false,\n        scrollingElement: '',\n        elementClass: 'swiper-lazy',\n        loadingClass: 'swiper-lazy-loading',\n        loadedClass: 'swiper-lazy-loaded',\n        preloaderClass: 'swiper-lazy-preloader'\n      }\n    });\n    swiper.lazy = {};\n    let scrollHandlerAttached = false;\n    let initialImageLoaded = false;\n\n    function loadInSlide(index, loadInDuplicate = true) {\n      const params = swiper.params.lazy;\n      if (typeof index === 'undefined') return;\n      if (swiper.slides.length === 0) return;\n      const isVirtual = swiper.virtual && swiper.params.virtual.enabled;\n      const $slideEl = isVirtual ? swiper.$wrapperEl.children(`.${swiper.params.slideClass}[data-swiper-slide-index=\"${index}\"]`) : swiper.slides.eq(index);\n      const $images = $slideEl.find(`.${params.elementClass}:not(.${params.loadedClass}):not(.${params.loadingClass})`);\n\n      if ($slideEl.hasClass(params.elementClass) && !$slideEl.hasClass(params.loadedClass) && !$slideEl.hasClass(params.loadingClass)) {\n        $images.push($slideEl[0]);\n      }\n\n      if ($images.length === 0) return;\n      $images.each(imageEl => {\n        const $imageEl = $(imageEl);\n        $imageEl.addClass(params.loadingClass);\n        const background = $imageEl.attr('data-background');\n        const src = $imageEl.attr('data-src');\n        const srcset = $imageEl.attr('data-srcset');\n        const sizes = $imageEl.attr('data-sizes');\n        const $pictureEl = $imageEl.parent('picture');\n        swiper.loadImage($imageEl[0], src || background, srcset, sizes, false, () => {\n          if (typeof swiper === 'undefined' || swiper === null || !swiper || swiper && !swiper.params || swiper.destroyed) return;\n\n          if (background) {\n            $imageEl.css('background-image', `url(\"${background}\")`);\n            $imageEl.removeAttr('data-background');\n          } else {\n            if (srcset) {\n              $imageEl.attr('srcset', srcset);\n              $imageEl.removeAttr('data-srcset');\n            }\n\n            if (sizes) {\n              $imageEl.attr('sizes', sizes);\n              $imageEl.removeAttr('data-sizes');\n            }\n\n            if ($pictureEl.length) {\n              $pictureEl.children('source').each(sourceEl => {\n                const $source = $(sourceEl);\n\n                if ($source.attr('data-srcset')) {\n                  $source.attr('srcset', $source.attr('data-srcset'));\n                  $source.removeAttr('data-srcset');\n                }\n              });\n            }\n\n            if (src) {\n              $imageEl.attr('src', src);\n              $imageEl.removeAttr('data-src');\n            }\n          }\n\n          $imageEl.addClass(params.loadedClass).removeClass(params.loadingClass);\n          $slideEl.find(`.${params.preloaderClass}`).remove();\n\n          if (swiper.params.loop && loadInDuplicate) {\n            const slideOriginalIndex = $slideEl.attr('data-swiper-slide-index');\n\n            if ($slideEl.hasClass(swiper.params.slideDuplicateClass)) {\n              const originalSlide = swiper.$wrapperEl.children(`[data-swiper-slide-index=\"${slideOriginalIndex}\"]:not(.${swiper.params.slideDuplicateClass})`);\n              loadInSlide(originalSlide.index(), false);\n            } else {\n              const duplicatedSlide = swiper.$wrapperEl.children(`.${swiper.params.slideDuplicateClass}[data-swiper-slide-index=\"${slideOriginalIndex}\"]`);\n              loadInSlide(duplicatedSlide.index(), false);\n            }\n          }\n\n          emit('lazyImageReady', $slideEl[0], $imageEl[0]);\n\n          if (swiper.params.autoHeight) {\n            swiper.updateAutoHeight();\n          }\n        });\n        emit('lazyImageLoad', $slideEl[0], $imageEl[0]);\n      });\n    }\n\n    function load() {\n      const {\n        $wrapperEl,\n        params: swiperParams,\n        slides,\n        activeIndex\n      } = swiper;\n      const isVirtual = swiper.virtual && swiperParams.virtual.enabled;\n      const params = swiperParams.lazy;\n      let slidesPerView = swiperParams.slidesPerView;\n\n      if (slidesPerView === 'auto') {\n        slidesPerView = 0;\n      }\n\n      function slideExist(index) {\n        if (isVirtual) {\n          if ($wrapperEl.children(`.${swiperParams.slideClass}[data-swiper-slide-index=\"${index}\"]`).length) {\n            return true;\n          }\n        } else if (slides[index]) return true;\n\n        return false;\n      }\n\n      function slideIndex(slideEl) {\n        if (isVirtual) {\n          return $(slideEl).attr('data-swiper-slide-index');\n        }\n\n        return $(slideEl).index();\n      }\n\n      if (!initialImageLoaded) initialImageLoaded = true;\n\n      if (swiper.params.watchSlidesProgress) {\n        $wrapperEl.children(`.${swiperParams.slideVisibleClass}`).each(slideEl => {\n          const index = isVirtual ? $(slideEl).attr('data-swiper-slide-index') : $(slideEl).index();\n          loadInSlide(index);\n        });\n      } else if (slidesPerView > 1) {\n        for (let i = activeIndex; i < activeIndex + slidesPerView; i += 1) {\n          if (slideExist(i)) loadInSlide(i);\n        }\n      } else {\n        loadInSlide(activeIndex);\n      }\n\n      if (params.loadPrevNext) {\n        if (slidesPerView > 1 || params.loadPrevNextAmount && params.loadPrevNextAmount > 1) {\n          const amount = params.loadPrevNextAmount;\n          const spv = slidesPerView;\n          const maxIndex = Math.min(activeIndex + spv + Math.max(amount, spv), slides.length);\n          const minIndex = Math.max(activeIndex - Math.max(spv, amount), 0); // Next Slides\n\n          for (let i = activeIndex + slidesPerView; i < maxIndex; i += 1) {\n            if (slideExist(i)) loadInSlide(i);\n          } // Prev Slides\n\n\n          for (let i = minIndex; i < activeIndex; i += 1) {\n            if (slideExist(i)) loadInSlide(i);\n          }\n        } else {\n          const nextSlide = $wrapperEl.children(`.${swiperParams.slideNextClass}`);\n          if (nextSlide.length > 0) loadInSlide(slideIndex(nextSlide));\n          const prevSlide = $wrapperEl.children(`.${swiperParams.slidePrevClass}`);\n          if (prevSlide.length > 0) loadInSlide(slideIndex(prevSlide));\n        }\n      }\n    }\n\n    function checkInViewOnLoad() {\n      const window = getWindow();\n      if (!swiper || swiper.destroyed) return;\n      const $scrollElement = swiper.params.lazy.scrollingElement ? $(swiper.params.lazy.scrollingElement) : $(window);\n      const isWindow = $scrollElement[0] === window;\n      const scrollElementWidth = isWindow ? window.innerWidth : $scrollElement[0].offsetWidth;\n      const scrollElementHeight = isWindow ? window.innerHeight : $scrollElement[0].offsetHeight;\n      const swiperOffset = swiper.$el.offset();\n      const {\n        rtlTranslate: rtl\n      } = swiper;\n      let inView = false;\n      if (rtl) swiperOffset.left -= swiper.$el[0].scrollLeft;\n      const swiperCoord = [[swiperOffset.left, swiperOffset.top], [swiperOffset.left + swiper.width, swiperOffset.top], [swiperOffset.left, swiperOffset.top + swiper.height], [swiperOffset.left + swiper.width, swiperOffset.top + swiper.height]];\n\n      for (let i = 0; i < swiperCoord.length; i += 1) {\n        const point = swiperCoord[i];\n\n        if (point[0] >= 0 && point[0] <= scrollElementWidth && point[1] >= 0 && point[1] <= scrollElementHeight) {\n          if (point[0] === 0 && point[1] === 0) continue; // eslint-disable-line\n\n          inView = true;\n        }\n      }\n\n      const passiveListener = swiper.touchEvents.start === 'touchstart' && swiper.support.passiveListener && swiper.params.passiveListeners ? {\n        passive: true,\n        capture: false\n      } : false;\n\n      if (inView) {\n        load();\n        $scrollElement.off('scroll', checkInViewOnLoad, passiveListener);\n      } else if (!scrollHandlerAttached) {\n        scrollHandlerAttached = true;\n        $scrollElement.on('scroll', checkInViewOnLoad, passiveListener);\n      }\n    }\n\n    on('beforeInit', () => {\n      if (swiper.params.lazy.enabled && swiper.params.preloadImages) {\n        swiper.params.preloadImages = false;\n      }\n    });\n    on('init', () => {\n      if (swiper.params.lazy.enabled) {\n        if (swiper.params.lazy.checkInView) {\n          checkInViewOnLoad();\n        } else {\n          load();\n        }\n      }\n    });\n    on('scroll', () => {\n      if (swiper.params.freeMode && swiper.params.freeMode.enabled && !swiper.params.freeMode.sticky) {\n        load();\n      }\n    });\n    on('scrollbarDragMove resize _freeModeNoMomentumRelease', () => {\n      if (swiper.params.lazy.enabled) {\n        if (swiper.params.lazy.checkInView) {\n          checkInViewOnLoad();\n        } else {\n          load();\n        }\n      }\n    });\n    on('transitionStart', () => {\n      if (swiper.params.lazy.enabled) {\n        if (swiper.params.lazy.loadOnTransitionStart || !swiper.params.lazy.loadOnTransitionStart && !initialImageLoaded) {\n          if (swiper.params.lazy.checkInView) {\n            checkInViewOnLoad();\n          } else {\n            load();\n          }\n        }\n      }\n    });\n    on('transitionEnd', () => {\n      if (swiper.params.lazy.enabled && !swiper.params.lazy.loadOnTransitionStart) {\n        if (swiper.params.lazy.checkInView) {\n          checkInViewOnLoad();\n        } else {\n          load();\n        }\n      }\n    });\n    on('slideChange', () => {\n      const {\n        lazy,\n        cssMode,\n        watchSlidesProgress,\n        touchReleaseOnEdges,\n        resistanceRatio\n      } = swiper.params;\n\n      if (lazy.enabled && (cssMode || watchSlidesProgress && (touchReleaseOnEdges || resistanceRatio === 0))) {\n        load();\n      }\n    });\n    Object.assign(swiper.lazy, {\n      load,\n      loadInSlide\n    });\n  }\n\n  /* eslint no-bitwise: [\"error\", { \"allow\": [\">>\"] }] */\n  function Controller({\n    swiper,\n    extendParams,\n    on\n  }) {\n    extendParams({\n      controller: {\n        control: undefined,\n        inverse: false,\n        by: 'slide' // or 'container'\n\n      }\n    });\n    swiper.controller = {\n      control: undefined\n    };\n\n    function LinearSpline(x, y) {\n      const binarySearch = function search() {\n        let maxIndex;\n        let minIndex;\n        let guess;\n        return (array, val) => {\n          minIndex = -1;\n          maxIndex = array.length;\n\n          while (maxIndex - minIndex > 1) {\n            guess = maxIndex + minIndex >> 1;\n\n            if (array[guess] <= val) {\n              minIndex = guess;\n            } else {\n              maxIndex = guess;\n            }\n          }\n\n          return maxIndex;\n        };\n      }();\n\n      this.x = x;\n      this.y = y;\n      this.lastIndex = x.length - 1; // Given an x value (x2), return the expected y2 value:\n      // (x1,y1) is the known point before given value,\n      // (x3,y3) is the known point after given value.\n\n      let i1;\n      let i3;\n\n      this.interpolate = function interpolate(x2) {\n        if (!x2) return 0; // Get the indexes of x1 and x3 (the array indexes before and after given x2):\n\n        i3 = binarySearch(this.x, x2);\n        i1 = i3 - 1; // We have our indexes i1 & i3, so we can calculate already:\n        // y2 := ((x2−x1) × (y3−y1)) ÷ (x3−x1) + y1\n\n        return (x2 - this.x[i1]) * (this.y[i3] - this.y[i1]) / (this.x[i3] - this.x[i1]) + this.y[i1];\n      };\n\n      return this;\n    } // xxx: for now i will just save one spline function to to\n\n\n    function getInterpolateFunction(c) {\n      if (!swiper.controller.spline) {\n        swiper.controller.spline = swiper.params.loop ? new LinearSpline(swiper.slidesGrid, c.slidesGrid) : new LinearSpline(swiper.snapGrid, c.snapGrid);\n      }\n    }\n\n    function setTranslate(_t, byController) {\n      const controlled = swiper.controller.control;\n      let multiplier;\n      let controlledTranslate;\n      const Swiper = swiper.constructor;\n\n      function setControlledTranslate(c) {\n        // this will create an Interpolate function based on the snapGrids\n        // x is the Grid of the scrolled scroller and y will be the controlled scroller\n        // it makes sense to create this only once and recall it for the interpolation\n        // the function does a lot of value caching for performance\n        const translate = swiper.rtlTranslate ? -swiper.translate : swiper.translate;\n\n        if (swiper.params.controller.by === 'slide') {\n          getInterpolateFunction(c); // i am not sure why the values have to be multiplicated this way, tried to invert the snapGrid\n          // but it did not work out\n\n          controlledTranslate = -swiper.controller.spline.interpolate(-translate);\n        }\n\n        if (!controlledTranslate || swiper.params.controller.by === 'container') {\n          multiplier = (c.maxTranslate() - c.minTranslate()) / (swiper.maxTranslate() - swiper.minTranslate());\n          controlledTranslate = (translate - swiper.minTranslate()) * multiplier + c.minTranslate();\n        }\n\n        if (swiper.params.controller.inverse) {\n          controlledTranslate = c.maxTranslate() - controlledTranslate;\n        }\n\n        c.updateProgress(controlledTranslate);\n        c.setTranslate(controlledTranslate, swiper);\n        c.updateActiveIndex();\n        c.updateSlidesClasses();\n      }\n\n      if (Array.isArray(controlled)) {\n        for (let i = 0; i < controlled.length; i += 1) {\n          if (controlled[i] !== byController && controlled[i] instanceof Swiper) {\n            setControlledTranslate(controlled[i]);\n          }\n        }\n      } else if (controlled instanceof Swiper && byController !== controlled) {\n        setControlledTranslate(controlled);\n      }\n    }\n\n    function setTransition(duration, byController) {\n      const Swiper = swiper.constructor;\n      const controlled = swiper.controller.control;\n      let i;\n\n      function setControlledTransition(c) {\n        c.setTransition(duration, swiper);\n\n        if (duration !== 0) {\n          c.transitionStart();\n\n          if (c.params.autoHeight) {\n            nextTick(() => {\n              c.updateAutoHeight();\n            });\n          }\n\n          c.$wrapperEl.transitionEnd(() => {\n            if (!controlled) return;\n\n            if (c.params.loop && swiper.params.controller.by === 'slide') {\n              c.loopFix();\n            }\n\n            c.transitionEnd();\n          });\n        }\n      }\n\n      if (Array.isArray(controlled)) {\n        for (i = 0; i < controlled.length; i += 1) {\n          if (controlled[i] !== byController && controlled[i] instanceof Swiper) {\n            setControlledTransition(controlled[i]);\n          }\n        }\n      } else if (controlled instanceof Swiper && byController !== controlled) {\n        setControlledTransition(controlled);\n      }\n    }\n\n    function removeSpline() {\n      if (!swiper.controller.control) return;\n\n      if (swiper.controller.spline) {\n        swiper.controller.spline = undefined;\n        delete swiper.controller.spline;\n      }\n    }\n\n    on('beforeInit', () => {\n      swiper.controller.control = swiper.params.controller.control;\n    });\n    on('update', () => {\n      removeSpline();\n    });\n    on('resize', () => {\n      removeSpline();\n    });\n    on('observerUpdate', () => {\n      removeSpline();\n    });\n    on('setTranslate', (_s, translate, byController) => {\n      if (!swiper.controller.control) return;\n      swiper.controller.setTranslate(translate, byController);\n    });\n    on('setTransition', (_s, duration, byController) => {\n      if (!swiper.controller.control) return;\n      swiper.controller.setTransition(duration, byController);\n    });\n    Object.assign(swiper.controller, {\n      setTranslate,\n      setTransition\n    });\n  }\n\n  function A11y({\n    swiper,\n    extendParams,\n    on\n  }) {\n    extendParams({\n      a11y: {\n        enabled: true,\n        notificationClass: 'swiper-notification',\n        prevSlideMessage: 'Previous slide',\n        nextSlideMessage: 'Next slide',\n        firstSlideMessage: 'This is the first slide',\n        lastSlideMessage: 'This is the last slide',\n        paginationBulletMessage: 'Go to slide {{index}}',\n        slideLabelMessage: '{{index}} / {{slidesLength}}',\n        containerMessage: null,\n        containerRoleDescriptionMessage: null,\n        itemRoleDescriptionMessage: null,\n        slideRole: 'group'\n      }\n    });\n    let liveRegion = null;\n\n    function notify(message) {\n      const notification = liveRegion;\n      if (notification.length === 0) return;\n      notification.html('');\n      notification.html(message);\n    }\n\n    function getRandomNumber(size = 16) {\n      const randomChar = () => Math.round(16 * Math.random()).toString(16);\n\n      return 'x'.repeat(size).replace(/x/g, randomChar);\n    }\n\n    function makeElFocusable($el) {\n      $el.attr('tabIndex', '0');\n    }\n\n    function makeElNotFocusable($el) {\n      $el.attr('tabIndex', '-1');\n    }\n\n    function addElRole($el, role) {\n      $el.attr('role', role);\n    }\n\n    function addElRoleDescription($el, description) {\n      $el.attr('aria-roledescription', description);\n    }\n\n    function addElControls($el, controls) {\n      $el.attr('aria-controls', controls);\n    }\n\n    function addElLabel($el, label) {\n      $el.attr('aria-label', label);\n    }\n\n    function addElId($el, id) {\n      $el.attr('id', id);\n    }\n\n    function addElLive($el, live) {\n      $el.attr('aria-live', live);\n    }\n\n    function disableEl($el) {\n      $el.attr('aria-disabled', true);\n    }\n\n    function enableEl($el) {\n      $el.attr('aria-disabled', false);\n    }\n\n    function onEnterOrSpaceKey(e) {\n      if (e.keyCode !== 13 && e.keyCode !== 32) return;\n      const params = swiper.params.a11y;\n      const $targetEl = $(e.target);\n\n      if (swiper.navigation && swiper.navigation.$nextEl && $targetEl.is(swiper.navigation.$nextEl)) {\n        if (!(swiper.isEnd && !swiper.params.loop)) {\n          swiper.slideNext();\n        }\n\n        if (swiper.isEnd) {\n          notify(params.lastSlideMessage);\n        } else {\n          notify(params.nextSlideMessage);\n        }\n      }\n\n      if (swiper.navigation && swiper.navigation.$prevEl && $targetEl.is(swiper.navigation.$prevEl)) {\n        if (!(swiper.isBeginning && !swiper.params.loop)) {\n          swiper.slidePrev();\n        }\n\n        if (swiper.isBeginning) {\n          notify(params.firstSlideMessage);\n        } else {\n          notify(params.prevSlideMessage);\n        }\n      }\n\n      if (swiper.pagination && $targetEl.is(classesToSelector(swiper.params.pagination.bulletClass))) {\n        $targetEl[0].click();\n      }\n    }\n\n    function updateNavigation() {\n      if (swiper.params.loop || !swiper.navigation) return;\n      const {\n        $nextEl,\n        $prevEl\n      } = swiper.navigation;\n\n      if ($prevEl && $prevEl.length > 0) {\n        if (swiper.isBeginning) {\n          disableEl($prevEl);\n          makeElNotFocusable($prevEl);\n        } else {\n          enableEl($prevEl);\n          makeElFocusable($prevEl);\n        }\n      }\n\n      if ($nextEl && $nextEl.length > 0) {\n        if (swiper.isEnd) {\n          disableEl($nextEl);\n          makeElNotFocusable($nextEl);\n        } else {\n          enableEl($nextEl);\n          makeElFocusable($nextEl);\n        }\n      }\n    }\n\n    function hasPagination() {\n      return swiper.pagination && swiper.pagination.bullets && swiper.pagination.bullets.length;\n    }\n\n    function hasClickablePagination() {\n      return hasPagination() && swiper.params.pagination.clickable;\n    }\n\n    function updatePagination() {\n      const params = swiper.params.a11y;\n      if (!hasPagination()) return;\n      swiper.pagination.bullets.each(bulletEl => {\n        const $bulletEl = $(bulletEl);\n\n        if (swiper.params.pagination.clickable) {\n          makeElFocusable($bulletEl);\n\n          if (!swiper.params.pagination.renderBullet) {\n            addElRole($bulletEl, 'button');\n            addElLabel($bulletEl, params.paginationBulletMessage.replace(/\\{\\{index\\}\\}/, $bulletEl.index() + 1));\n          }\n        }\n\n        if ($bulletEl.is(`.${swiper.params.pagination.bulletActiveClass}`)) {\n          $bulletEl.attr('aria-current', 'true');\n        } else {\n          $bulletEl.removeAttr('aria-current');\n        }\n      });\n    }\n\n    const initNavEl = ($el, wrapperId, message) => {\n      makeElFocusable($el);\n\n      if ($el[0].tagName !== 'BUTTON') {\n        addElRole($el, 'button');\n        $el.on('keydown', onEnterOrSpaceKey);\n      }\n\n      addElLabel($el, message);\n      addElControls($el, wrapperId);\n    };\n\n    function init() {\n      const params = swiper.params.a11y;\n      swiper.$el.append(liveRegion); // Container\n\n      const $containerEl = swiper.$el;\n\n      if (params.containerRoleDescriptionMessage) {\n        addElRoleDescription($containerEl, params.containerRoleDescriptionMessage);\n      }\n\n      if (params.containerMessage) {\n        addElLabel($containerEl, params.containerMessage);\n      } // Wrapper\n\n\n      const $wrapperEl = swiper.$wrapperEl;\n      const wrapperId = $wrapperEl.attr('id') || `swiper-wrapper-${getRandomNumber(16)}`;\n      const live = swiper.params.autoplay && swiper.params.autoplay.enabled ? 'off' : 'polite';\n      addElId($wrapperEl, wrapperId);\n      addElLive($wrapperEl, live); // Slide\n\n      if (params.itemRoleDescriptionMessage) {\n        addElRoleDescription($(swiper.slides), params.itemRoleDescriptionMessage);\n      }\n\n      addElRole($(swiper.slides), params.slideRole);\n      const slidesLength = swiper.params.loop ? swiper.slides.filter(el => !el.classList.contains(swiper.params.slideDuplicateClass)).length : swiper.slides.length;\n      swiper.slides.each((slideEl, index) => {\n        const $slideEl = $(slideEl);\n        const slideIndex = swiper.params.loop ? parseInt($slideEl.attr('data-swiper-slide-index'), 10) : index;\n        const ariaLabelMessage = params.slideLabelMessage.replace(/\\{\\{index\\}\\}/, slideIndex + 1).replace(/\\{\\{slidesLength\\}\\}/, slidesLength);\n        addElLabel($slideEl, ariaLabelMessage);\n      }); // Navigation\n\n      let $nextEl;\n      let $prevEl;\n\n      if (swiper.navigation && swiper.navigation.$nextEl) {\n        $nextEl = swiper.navigation.$nextEl;\n      }\n\n      if (swiper.navigation && swiper.navigation.$prevEl) {\n        $prevEl = swiper.navigation.$prevEl;\n      }\n\n      if ($nextEl && $nextEl.length) {\n        initNavEl($nextEl, wrapperId, params.nextSlideMessage);\n      }\n\n      if ($prevEl && $prevEl.length) {\n        initNavEl($prevEl, wrapperId, params.prevSlideMessage);\n      } // Pagination\n\n\n      if (hasClickablePagination()) {\n        swiper.pagination.$el.on('keydown', classesToSelector(swiper.params.pagination.bulletClass), onEnterOrSpaceKey);\n      }\n    }\n\n    function destroy() {\n      if (liveRegion && liveRegion.length > 0) liveRegion.remove();\n      let $nextEl;\n      let $prevEl;\n\n      if (swiper.navigation && swiper.navigation.$nextEl) {\n        $nextEl = swiper.navigation.$nextEl;\n      }\n\n      if (swiper.navigation && swiper.navigation.$prevEl) {\n        $prevEl = swiper.navigation.$prevEl;\n      }\n\n      if ($nextEl) {\n        $nextEl.off('keydown', onEnterOrSpaceKey);\n      }\n\n      if ($prevEl) {\n        $prevEl.off('keydown', onEnterOrSpaceKey);\n      } // Pagination\n\n\n      if (hasClickablePagination()) {\n        swiper.pagination.$el.off('keydown', classesToSelector(swiper.params.pagination.bulletClass), onEnterOrSpaceKey);\n      }\n    }\n\n    on('beforeInit', () => {\n      liveRegion = $(`<span class=\"${swiper.params.a11y.notificationClass}\" aria-live=\"assertive\" aria-atomic=\"true\"></span>`);\n    });\n    on('afterInit', () => {\n      if (!swiper.params.a11y.enabled) return;\n      init();\n      updateNavigation();\n    });\n    on('toEdge', () => {\n      if (!swiper.params.a11y.enabled) return;\n      updateNavigation();\n    });\n    on('fromEdge', () => {\n      if (!swiper.params.a11y.enabled) return;\n      updateNavigation();\n    });\n    on('paginationUpdate', () => {\n      if (!swiper.params.a11y.enabled) return;\n      updatePagination();\n    });\n    on('destroy', () => {\n      if (!swiper.params.a11y.enabled) return;\n      destroy();\n    });\n  }\n\n  function History({\n    swiper,\n    extendParams,\n    on\n  }) {\n    extendParams({\n      history: {\n        enabled: false,\n        root: '',\n        replaceState: false,\n        key: 'slides'\n      }\n    });\n    let initialized = false;\n    let paths = {};\n\n    const slugify = text => {\n      return text.toString().replace(/\\s+/g, '-').replace(/[^\\w-]+/g, '').replace(/--+/g, '-').replace(/^-+/, '').replace(/-+$/, '');\n    };\n\n    const getPathValues = urlOverride => {\n      const window = getWindow();\n      let location;\n\n      if (urlOverride) {\n        location = new URL(urlOverride);\n      } else {\n        location = window.location;\n      }\n\n      const pathArray = location.pathname.slice(1).split('/').filter(part => part !== '');\n      const total = pathArray.length;\n      const key = pathArray[total - 2];\n      const value = pathArray[total - 1];\n      return {\n        key,\n        value\n      };\n    };\n\n    const setHistory = (key, index) => {\n      const window = getWindow();\n      if (!initialized || !swiper.params.history.enabled) return;\n      let location;\n\n      if (swiper.params.url) {\n        location = new URL(swiper.params.url);\n      } else {\n        location = window.location;\n      }\n\n      const slide = swiper.slides.eq(index);\n      let value = slugify(slide.attr('data-history'));\n\n      if (swiper.params.history.root.length > 0) {\n        let root = swiper.params.history.root;\n        if (root[root.length - 1] === '/') root = root.slice(0, root.length - 1);\n        value = `${root}/${key}/${value}`;\n      } else if (!location.pathname.includes(key)) {\n        value = `${key}/${value}`;\n      }\n\n      const currentState = window.history.state;\n\n      if (currentState && currentState.value === value) {\n        return;\n      }\n\n      if (swiper.params.history.replaceState) {\n        window.history.replaceState({\n          value\n        }, null, value);\n      } else {\n        window.history.pushState({\n          value\n        }, null, value);\n      }\n    };\n\n    const scrollToSlide = (speed, value, runCallbacks) => {\n      if (value) {\n        for (let i = 0, length = swiper.slides.length; i < length; i += 1) {\n          const slide = swiper.slides.eq(i);\n          const slideHistory = slugify(slide.attr('data-history'));\n\n          if (slideHistory === value && !slide.hasClass(swiper.params.slideDuplicateClass)) {\n            const index = slide.index();\n            swiper.slideTo(index, speed, runCallbacks);\n          }\n        }\n      } else {\n        swiper.slideTo(0, speed, runCallbacks);\n      }\n    };\n\n    const setHistoryPopState = () => {\n      paths = getPathValues(swiper.params.url);\n      scrollToSlide(swiper.params.speed, swiper.paths.value, false);\n    };\n\n    const init = () => {\n      const window = getWindow();\n      if (!swiper.params.history) return;\n\n      if (!window.history || !window.history.pushState) {\n        swiper.params.history.enabled = false;\n        swiper.params.hashNavigation.enabled = true;\n        return;\n      }\n\n      initialized = true;\n      paths = getPathValues(swiper.params.url);\n      if (!paths.key && !paths.value) return;\n      scrollToSlide(0, paths.value, swiper.params.runCallbacksOnInit);\n\n      if (!swiper.params.history.replaceState) {\n        window.addEventListener('popstate', setHistoryPopState);\n      }\n    };\n\n    const destroy = () => {\n      const window = getWindow();\n\n      if (!swiper.params.history.replaceState) {\n        window.removeEventListener('popstate', setHistoryPopState);\n      }\n    };\n\n    on('init', () => {\n      if (swiper.params.history.enabled) {\n        init();\n      }\n    });\n    on('destroy', () => {\n      if (swiper.params.history.enabled) {\n        destroy();\n      }\n    });\n    on('transitionEnd _freeModeNoMomentumRelease', () => {\n      if (initialized) {\n        setHistory(swiper.params.history.key, swiper.activeIndex);\n      }\n    });\n    on('slideChange', () => {\n      if (initialized && swiper.params.cssMode) {\n        setHistory(swiper.params.history.key, swiper.activeIndex);\n      }\n    });\n  }\n\n  function HashNavigation({\n    swiper,\n    extendParams,\n    emit,\n    on\n  }) {\n    let initialized = false;\n    const document = getDocument();\n    const window = getWindow();\n    extendParams({\n      hashNavigation: {\n        enabled: false,\n        replaceState: false,\n        watchState: false\n      }\n    });\n\n    const onHashChange = () => {\n      emit('hashChange');\n      const newHash = document.location.hash.replace('#', '');\n      const activeSlideHash = swiper.slides.eq(swiper.activeIndex).attr('data-hash');\n\n      if (newHash !== activeSlideHash) {\n        const newIndex = swiper.$wrapperEl.children(`.${swiper.params.slideClass}[data-hash=\"${newHash}\"]`).index();\n        if (typeof newIndex === 'undefined') return;\n        swiper.slideTo(newIndex);\n      }\n    };\n\n    const setHash = () => {\n      if (!initialized || !swiper.params.hashNavigation.enabled) return;\n\n      if (swiper.params.hashNavigation.replaceState && window.history && window.history.replaceState) {\n        window.history.replaceState(null, null, `#${swiper.slides.eq(swiper.activeIndex).attr('data-hash')}` || '');\n        emit('hashSet');\n      } else {\n        const slide = swiper.slides.eq(swiper.activeIndex);\n        const hash = slide.attr('data-hash') || slide.attr('data-history');\n        document.location.hash = hash || '';\n        emit('hashSet');\n      }\n    };\n\n    const init = () => {\n      if (!swiper.params.hashNavigation.enabled || swiper.params.history && swiper.params.history.enabled) return;\n      initialized = true;\n      const hash = document.location.hash.replace('#', '');\n\n      if (hash) {\n        const speed = 0;\n\n        for (let i = 0, length = swiper.slides.length; i < length; i += 1) {\n          const slide = swiper.slides.eq(i);\n          const slideHash = slide.attr('data-hash') || slide.attr('data-history');\n\n          if (slideHash === hash && !slide.hasClass(swiper.params.slideDuplicateClass)) {\n            const index = slide.index();\n            swiper.slideTo(index, speed, swiper.params.runCallbacksOnInit, true);\n          }\n        }\n      }\n\n      if (swiper.params.hashNavigation.watchState) {\n        $(window).on('hashchange', onHashChange);\n      }\n    };\n\n    const destroy = () => {\n      if (swiper.params.hashNavigation.watchState) {\n        $(window).off('hashchange', onHashChange);\n      }\n    };\n\n    on('init', () => {\n      if (swiper.params.hashNavigation.enabled) {\n        init();\n      }\n    });\n    on('destroy', () => {\n      if (swiper.params.hashNavigation.enabled) {\n        destroy();\n      }\n    });\n    on('transitionEnd _freeModeNoMomentumRelease', () => {\n      if (initialized) {\n        setHash();\n      }\n    });\n    on('slideChange', () => {\n      if (initialized && swiper.params.cssMode) {\n        setHash();\n      }\n    });\n  }\n\n  /* eslint no-underscore-dangle: \"off\" */\n  function Autoplay({\n    swiper,\n    extendParams,\n    on,\n    emit\n  }) {\n    let timeout;\n    swiper.autoplay = {\n      running: false,\n      paused: false\n    };\n    extendParams({\n      autoplay: {\n        enabled: false,\n        delay: 3000,\n        waitForTransition: true,\n        disableOnInteraction: true,\n        stopOnLastSlide: false,\n        reverseDirection: false,\n        pauseOnMouseEnter: false\n      }\n    });\n\n    function run() {\n      const $activeSlideEl = swiper.slides.eq(swiper.activeIndex);\n      let delay = swiper.params.autoplay.delay;\n\n      if ($activeSlideEl.attr('data-swiper-autoplay')) {\n        delay = $activeSlideEl.attr('data-swiper-autoplay') || swiper.params.autoplay.delay;\n      }\n\n      clearTimeout(timeout);\n      timeout = nextTick(() => {\n        let autoplayResult;\n\n        if (swiper.params.autoplay.reverseDirection) {\n          if (swiper.params.loop) {\n            swiper.loopFix();\n            autoplayResult = swiper.slidePrev(swiper.params.speed, true, true);\n            emit('autoplay');\n          } else if (!swiper.isBeginning) {\n            autoplayResult = swiper.slidePrev(swiper.params.speed, true, true);\n            emit('autoplay');\n          } else if (!swiper.params.autoplay.stopOnLastSlide) {\n            autoplayResult = swiper.slideTo(swiper.slides.length - 1, swiper.params.speed, true, true);\n            emit('autoplay');\n          } else {\n            stop();\n          }\n        } else if (swiper.params.loop) {\n          swiper.loopFix();\n          autoplayResult = swiper.slideNext(swiper.params.speed, true, true);\n          emit('autoplay');\n        } else if (!swiper.isEnd) {\n          autoplayResult = swiper.slideNext(swiper.params.speed, true, true);\n          emit('autoplay');\n        } else if (!swiper.params.autoplay.stopOnLastSlide) {\n          autoplayResult = swiper.slideTo(0, swiper.params.speed, true, true);\n          emit('autoplay');\n        } else {\n          stop();\n        }\n\n        if (swiper.params.cssMode && swiper.autoplay.running) run();else if (autoplayResult === false) {\n          run();\n        }\n      }, delay);\n    }\n\n    function start() {\n      if (typeof timeout !== 'undefined') return false;\n      if (swiper.autoplay.running) return false;\n      swiper.autoplay.running = true;\n      emit('autoplayStart');\n      run();\n      return true;\n    }\n\n    function stop() {\n      if (!swiper.autoplay.running) return false;\n      if (typeof timeout === 'undefined') return false;\n\n      if (timeout) {\n        clearTimeout(timeout);\n        timeout = undefined;\n      }\n\n      swiper.autoplay.running = false;\n      emit('autoplayStop');\n      return true;\n    }\n\n    function pause(speed) {\n      if (!swiper.autoplay.running) return;\n      if (swiper.autoplay.paused) return;\n      if (timeout) clearTimeout(timeout);\n      swiper.autoplay.paused = true;\n\n      if (speed === 0 || !swiper.params.autoplay.waitForTransition) {\n        swiper.autoplay.paused = false;\n        run();\n      } else {\n        ['transitionend', 'webkitTransitionEnd'].forEach(event => {\n          swiper.$wrapperEl[0].addEventListener(event, onTransitionEnd);\n        });\n      }\n    }\n\n    function onVisibilityChange() {\n      const document = getDocument();\n\n      if (document.visibilityState === 'hidden' && swiper.autoplay.running) {\n        pause();\n      }\n\n      if (document.visibilityState === 'visible' && swiper.autoplay.paused) {\n        run();\n        swiper.autoplay.paused = false;\n      }\n    }\n\n    function onTransitionEnd(e) {\n      if (!swiper || swiper.destroyed || !swiper.$wrapperEl) return;\n      if (e.target !== swiper.$wrapperEl[0]) return;\n      ['transitionend', 'webkitTransitionEnd'].forEach(event => {\n        swiper.$wrapperEl[0].removeEventListener(event, onTransitionEnd);\n      });\n      swiper.autoplay.paused = false;\n\n      if (!swiper.autoplay.running) {\n        stop();\n      } else {\n        run();\n      }\n    }\n\n    function onMouseEnter() {\n      if (swiper.params.autoplay.disableOnInteraction) {\n        stop();\n      } else {\n        pause();\n      }\n\n      ['transitionend', 'webkitTransitionEnd'].forEach(event => {\n        swiper.$wrapperEl[0].removeEventListener(event, onTransitionEnd);\n      });\n    }\n\n    function onMouseLeave() {\n      if (swiper.params.autoplay.disableOnInteraction) {\n        return;\n      }\n\n      swiper.autoplay.paused = false;\n      run();\n    }\n\n    function attachMouseEvents() {\n      if (swiper.params.autoplay.pauseOnMouseEnter) {\n        swiper.$el.on('mouseenter', onMouseEnter);\n        swiper.$el.on('mouseleave', onMouseLeave);\n      }\n    }\n\n    function detachMouseEvents() {\n      swiper.$el.off('mouseenter', onMouseEnter);\n      swiper.$el.off('mouseleave', onMouseLeave);\n    }\n\n    on('init', () => {\n      if (swiper.params.autoplay.enabled) {\n        start();\n        const document = getDocument();\n        document.addEventListener('visibilitychange', onVisibilityChange);\n        attachMouseEvents();\n      }\n    });\n    on('beforeTransitionStart', (_s, speed, internal) => {\n      if (swiper.autoplay.running) {\n        if (internal || !swiper.params.autoplay.disableOnInteraction) {\n          swiper.autoplay.pause(speed);\n        } else {\n          stop();\n        }\n      }\n    });\n    on('sliderFirstMove', () => {\n      if (swiper.autoplay.running) {\n        if (swiper.params.autoplay.disableOnInteraction) {\n          stop();\n        } else {\n          pause();\n        }\n      }\n    });\n    on('touchEnd', () => {\n      if (swiper.params.cssMode && swiper.autoplay.paused && !swiper.params.autoplay.disableOnInteraction) {\n        run();\n      }\n    });\n    on('destroy', () => {\n      detachMouseEvents();\n\n      if (swiper.autoplay.running) {\n        stop();\n      }\n\n      const document = getDocument();\n      document.removeEventListener('visibilitychange', onVisibilityChange);\n    });\n    Object.assign(swiper.autoplay, {\n      pause,\n      run,\n      start,\n      stop\n    });\n  }\n\n  function Thumb({\n    swiper,\n    extendParams,\n    on\n  }) {\n    extendParams({\n      thumbs: {\n        swiper: null,\n        multipleActiveThumbs: true,\n        autoScrollOffset: 0,\n        slideThumbActiveClass: 'swiper-slide-thumb-active',\n        thumbsContainerClass: 'swiper-thumbs'\n      }\n    });\n    let initialized = false;\n    let swiperCreated = false;\n    swiper.thumbs = {\n      swiper: null\n    };\n\n    function onThumbClick() {\n      const thumbsSwiper = swiper.thumbs.swiper;\n      if (!thumbsSwiper) return;\n      const clickedIndex = thumbsSwiper.clickedIndex;\n      const clickedSlide = thumbsSwiper.clickedSlide;\n      if (clickedSlide && $(clickedSlide).hasClass(swiper.params.thumbs.slideThumbActiveClass)) return;\n      if (typeof clickedIndex === 'undefined' || clickedIndex === null) return;\n      let slideToIndex;\n\n      if (thumbsSwiper.params.loop) {\n        slideToIndex = parseInt($(thumbsSwiper.clickedSlide).attr('data-swiper-slide-index'), 10);\n      } else {\n        slideToIndex = clickedIndex;\n      }\n\n      if (swiper.params.loop) {\n        let currentIndex = swiper.activeIndex;\n\n        if (swiper.slides.eq(currentIndex).hasClass(swiper.params.slideDuplicateClass)) {\n          swiper.loopFix(); // eslint-disable-next-line\n\n          swiper._clientLeft = swiper.$wrapperEl[0].clientLeft;\n          currentIndex = swiper.activeIndex;\n        }\n\n        const prevIndex = swiper.slides.eq(currentIndex).prevAll(`[data-swiper-slide-index=\"${slideToIndex}\"]`).eq(0).index();\n        const nextIndex = swiper.slides.eq(currentIndex).nextAll(`[data-swiper-slide-index=\"${slideToIndex}\"]`).eq(0).index();\n        if (typeof prevIndex === 'undefined') slideToIndex = nextIndex;else if (typeof nextIndex === 'undefined') slideToIndex = prevIndex;else if (nextIndex - currentIndex < currentIndex - prevIndex) slideToIndex = nextIndex;else slideToIndex = prevIndex;\n      }\n\n      swiper.slideTo(slideToIndex);\n    }\n\n    function init() {\n      const {\n        thumbs: thumbsParams\n      } = swiper.params;\n      if (initialized) return false;\n      initialized = true;\n      const SwiperClass = swiper.constructor;\n\n      if (thumbsParams.swiper instanceof SwiperClass) {\n        swiper.thumbs.swiper = thumbsParams.swiper;\n        Object.assign(swiper.thumbs.swiper.originalParams, {\n          watchSlidesProgress: true,\n          slideToClickedSlide: false\n        });\n        Object.assign(swiper.thumbs.swiper.params, {\n          watchSlidesProgress: true,\n          slideToClickedSlide: false\n        });\n      } else if (isObject(thumbsParams.swiper)) {\n        const thumbsSwiperParams = Object.assign({}, thumbsParams.swiper);\n        Object.assign(thumbsSwiperParams, {\n          watchSlidesProgress: true,\n          slideToClickedSlide: false\n        });\n        swiper.thumbs.swiper = new SwiperClass(thumbsSwiperParams);\n        swiperCreated = true;\n      }\n\n      swiper.thumbs.swiper.$el.addClass(swiper.params.thumbs.thumbsContainerClass);\n      swiper.thumbs.swiper.on('tap', onThumbClick);\n      return true;\n    }\n\n    function update(initial) {\n      const thumbsSwiper = swiper.thumbs.swiper;\n      if (!thumbsSwiper) return;\n      const slidesPerView = thumbsSwiper.params.slidesPerView === 'auto' ? thumbsSwiper.slidesPerViewDynamic() : thumbsSwiper.params.slidesPerView;\n      const autoScrollOffset = swiper.params.thumbs.autoScrollOffset;\n      const useOffset = autoScrollOffset && !thumbsSwiper.params.loop;\n\n      if (swiper.realIndex !== thumbsSwiper.realIndex || useOffset) {\n        let currentThumbsIndex = thumbsSwiper.activeIndex;\n        let newThumbsIndex;\n        let direction;\n\n        if (thumbsSwiper.params.loop) {\n          if (thumbsSwiper.slides.eq(currentThumbsIndex).hasClass(thumbsSwiper.params.slideDuplicateClass)) {\n            thumbsSwiper.loopFix(); // eslint-disable-next-line\n\n            thumbsSwiper._clientLeft = thumbsSwiper.$wrapperEl[0].clientLeft;\n            currentThumbsIndex = thumbsSwiper.activeIndex;\n          } // Find actual thumbs index to slide to\n\n\n          const prevThumbsIndex = thumbsSwiper.slides.eq(currentThumbsIndex).prevAll(`[data-swiper-slide-index=\"${swiper.realIndex}\"]`).eq(0).index();\n          const nextThumbsIndex = thumbsSwiper.slides.eq(currentThumbsIndex).nextAll(`[data-swiper-slide-index=\"${swiper.realIndex}\"]`).eq(0).index();\n\n          if (typeof prevThumbsIndex === 'undefined') {\n            newThumbsIndex = nextThumbsIndex;\n          } else if (typeof nextThumbsIndex === 'undefined') {\n            newThumbsIndex = prevThumbsIndex;\n          } else if (nextThumbsIndex - currentThumbsIndex === currentThumbsIndex - prevThumbsIndex) {\n            newThumbsIndex = thumbsSwiper.params.slidesPerGroup > 1 ? nextThumbsIndex : currentThumbsIndex;\n          } else if (nextThumbsIndex - currentThumbsIndex < currentThumbsIndex - prevThumbsIndex) {\n            newThumbsIndex = nextThumbsIndex;\n          } else {\n            newThumbsIndex = prevThumbsIndex;\n          }\n\n          direction = swiper.activeIndex > swiper.previousIndex ? 'next' : 'prev';\n        } else {\n          newThumbsIndex = swiper.realIndex;\n          direction = newThumbsIndex > swiper.previousIndex ? 'next' : 'prev';\n        }\n\n        if (useOffset) {\n          newThumbsIndex += direction === 'next' ? autoScrollOffset : -1 * autoScrollOffset;\n        }\n\n        if (thumbsSwiper.visibleSlidesIndexes && thumbsSwiper.visibleSlidesIndexes.indexOf(newThumbsIndex) < 0) {\n          if (thumbsSwiper.params.centeredSlides) {\n            if (newThumbsIndex > currentThumbsIndex) {\n              newThumbsIndex = newThumbsIndex - Math.floor(slidesPerView / 2) + 1;\n            } else {\n              newThumbsIndex = newThumbsIndex + Math.floor(slidesPerView / 2) - 1;\n            }\n          } else if (newThumbsIndex > currentThumbsIndex && thumbsSwiper.params.slidesPerGroup === 1) ;\n\n          thumbsSwiper.slideTo(newThumbsIndex, initial ? 0 : undefined);\n        }\n      } // Activate thumbs\n\n\n      let thumbsToActivate = 1;\n      const thumbActiveClass = swiper.params.thumbs.slideThumbActiveClass;\n\n      if (swiper.params.slidesPerView > 1 && !swiper.params.centeredSlides) {\n        thumbsToActivate = swiper.params.slidesPerView;\n      }\n\n      if (!swiper.params.thumbs.multipleActiveThumbs) {\n        thumbsToActivate = 1;\n      }\n\n      thumbsToActivate = Math.floor(thumbsToActivate);\n      thumbsSwiper.slides.removeClass(thumbActiveClass);\n\n      if (thumbsSwiper.params.loop || thumbsSwiper.params.virtual && thumbsSwiper.params.virtual.enabled) {\n        for (let i = 0; i < thumbsToActivate; i += 1) {\n          thumbsSwiper.$wrapperEl.children(`[data-swiper-slide-index=\"${swiper.realIndex + i}\"]`).addClass(thumbActiveClass);\n        }\n      } else {\n        for (let i = 0; i < thumbsToActivate; i += 1) {\n          thumbsSwiper.slides.eq(swiper.realIndex + i).addClass(thumbActiveClass);\n        }\n      }\n    }\n\n    on('beforeInit', () => {\n      const {\n        thumbs\n      } = swiper.params;\n      if (!thumbs || !thumbs.swiper) return;\n      init();\n      update(true);\n    });\n    on('slideChange update resize observerUpdate', () => {\n      if (!swiper.thumbs.swiper) return;\n      update();\n    });\n    on('setTransition', (_s, duration) => {\n      const thumbsSwiper = swiper.thumbs.swiper;\n      if (!thumbsSwiper) return;\n      thumbsSwiper.setTransition(duration);\n    });\n    on('beforeDestroy', () => {\n      const thumbsSwiper = swiper.thumbs.swiper;\n      if (!thumbsSwiper) return;\n\n      if (swiperCreated && thumbsSwiper) {\n        thumbsSwiper.destroy();\n      }\n    });\n    Object.assign(swiper.thumbs, {\n      init,\n      update\n    });\n  }\n\n  function freeMode({\n    swiper,\n    extendParams,\n    emit,\n    once\n  }) {\n    extendParams({\n      freeMode: {\n        enabled: false,\n        momentum: true,\n        momentumRatio: 1,\n        momentumBounce: true,\n        momentumBounceRatio: 1,\n        momentumVelocityRatio: 1,\n        sticky: false,\n        minimumVelocity: 0.02\n      }\n    });\n\n    function onTouchMove() {\n      const {\n        touchEventsData: data,\n        touches\n      } = swiper; // Velocity\n\n      if (data.velocities.length === 0) {\n        data.velocities.push({\n          position: touches[swiper.isHorizontal() ? 'startX' : 'startY'],\n          time: data.touchStartTime\n        });\n      }\n\n      data.velocities.push({\n        position: touches[swiper.isHorizontal() ? 'currentX' : 'currentY'],\n        time: now()\n      });\n    }\n\n    function onTouchEnd({\n      currentPos\n    }) {\n      const {\n        params,\n        $wrapperEl,\n        rtlTranslate: rtl,\n        snapGrid,\n        touchEventsData: data\n      } = swiper; // Time diff\n\n      const touchEndTime = now();\n      const timeDiff = touchEndTime - data.touchStartTime;\n\n      if (currentPos < -swiper.minTranslate()) {\n        swiper.slideTo(swiper.activeIndex);\n        return;\n      }\n\n      if (currentPos > -swiper.maxTranslate()) {\n        if (swiper.slides.length < snapGrid.length) {\n          swiper.slideTo(snapGrid.length - 1);\n        } else {\n          swiper.slideTo(swiper.slides.length - 1);\n        }\n\n        return;\n      }\n\n      if (params.freeMode.momentum) {\n        if (data.velocities.length > 1) {\n          const lastMoveEvent = data.velocities.pop();\n          const velocityEvent = data.velocities.pop();\n          const distance = lastMoveEvent.position - velocityEvent.position;\n          const time = lastMoveEvent.time - velocityEvent.time;\n          swiper.velocity = distance / time;\n          swiper.velocity /= 2;\n\n          if (Math.abs(swiper.velocity) < params.freeMode.minimumVelocity) {\n            swiper.velocity = 0;\n          } // this implies that the user stopped moving a finger then released.\n          // There would be no events with distance zero, so the last event is stale.\n\n\n          if (time > 150 || now() - lastMoveEvent.time > 300) {\n            swiper.velocity = 0;\n          }\n        } else {\n          swiper.velocity = 0;\n        }\n\n        swiper.velocity *= params.freeMode.momentumVelocityRatio;\n        data.velocities.length = 0;\n        let momentumDuration = 1000 * params.freeMode.momentumRatio;\n        const momentumDistance = swiper.velocity * momentumDuration;\n        let newPosition = swiper.translate + momentumDistance;\n        if (rtl) newPosition = -newPosition;\n        let doBounce = false;\n        let afterBouncePosition;\n        const bounceAmount = Math.abs(swiper.velocity) * 20 * params.freeMode.momentumBounceRatio;\n        let needsLoopFix;\n\n        if (newPosition < swiper.maxTranslate()) {\n          if (params.freeMode.momentumBounce) {\n            if (newPosition + swiper.maxTranslate() < -bounceAmount) {\n              newPosition = swiper.maxTranslate() - bounceAmount;\n            }\n\n            afterBouncePosition = swiper.maxTranslate();\n            doBounce = true;\n            data.allowMomentumBounce = true;\n          } else {\n            newPosition = swiper.maxTranslate();\n          }\n\n          if (params.loop && params.centeredSlides) needsLoopFix = true;\n        } else if (newPosition > swiper.minTranslate()) {\n          if (params.freeMode.momentumBounce) {\n            if (newPosition - swiper.minTranslate() > bounceAmount) {\n              newPosition = swiper.minTranslate() + bounceAmount;\n            }\n\n            afterBouncePosition = swiper.minTranslate();\n            doBounce = true;\n            data.allowMomentumBounce = true;\n          } else {\n            newPosition = swiper.minTranslate();\n          }\n\n          if (params.loop && params.centeredSlides) needsLoopFix = true;\n        } else if (params.freeMode.sticky) {\n          let nextSlide;\n\n          for (let j = 0; j < snapGrid.length; j += 1) {\n            if (snapGrid[j] > -newPosition) {\n              nextSlide = j;\n              break;\n            }\n          }\n\n          if (Math.abs(snapGrid[nextSlide] - newPosition) < Math.abs(snapGrid[nextSlide - 1] - newPosition) || swiper.swipeDirection === 'next') {\n            newPosition = snapGrid[nextSlide];\n          } else {\n            newPosition = snapGrid[nextSlide - 1];\n          }\n\n          newPosition = -newPosition;\n        }\n\n        if (needsLoopFix) {\n          once('transitionEnd', () => {\n            swiper.loopFix();\n          });\n        } // Fix duration\n\n\n        if (swiper.velocity !== 0) {\n          if (rtl) {\n            momentumDuration = Math.abs((-newPosition - swiper.translate) / swiper.velocity);\n          } else {\n            momentumDuration = Math.abs((newPosition - swiper.translate) / swiper.velocity);\n          }\n\n          if (params.freeMode.sticky) {\n            // If freeMode.sticky is active and the user ends a swipe with a slow-velocity\n            // event, then durations can be 20+ seconds to slide one (or zero!) slides.\n            // It's easy to see this when simulating touch with mouse events. To fix this,\n            // limit single-slide swipes to the default slide duration. This also has the\n            // nice side effect of matching slide speed if the user stopped moving before\n            // lifting finger or mouse vs. moving slowly before lifting the finger/mouse.\n            // For faster swipes, also apply limits (albeit higher ones).\n            const moveDistance = Math.abs((rtl ? -newPosition : newPosition) - swiper.translate);\n            const currentSlideSize = swiper.slidesSizesGrid[swiper.activeIndex];\n\n            if (moveDistance < currentSlideSize) {\n              momentumDuration = params.speed;\n            } else if (moveDistance < 2 * currentSlideSize) {\n              momentumDuration = params.speed * 1.5;\n            } else {\n              momentumDuration = params.speed * 2.5;\n            }\n          }\n        } else if (params.freeMode.sticky) {\n          swiper.slideToClosest();\n          return;\n        }\n\n        if (params.freeMode.momentumBounce && doBounce) {\n          swiper.updateProgress(afterBouncePosition);\n          swiper.setTransition(momentumDuration);\n          swiper.setTranslate(newPosition);\n          swiper.transitionStart(true, swiper.swipeDirection);\n          swiper.animating = true;\n          $wrapperEl.transitionEnd(() => {\n            if (!swiper || swiper.destroyed || !data.allowMomentumBounce) return;\n            emit('momentumBounce');\n            swiper.setTransition(params.speed);\n            setTimeout(() => {\n              swiper.setTranslate(afterBouncePosition);\n              $wrapperEl.transitionEnd(() => {\n                if (!swiper || swiper.destroyed) return;\n                swiper.transitionEnd();\n              });\n            }, 0);\n          });\n        } else if (swiper.velocity) {\n          emit('_freeModeNoMomentumRelease');\n          swiper.updateProgress(newPosition);\n          swiper.setTransition(momentumDuration);\n          swiper.setTranslate(newPosition);\n          swiper.transitionStart(true, swiper.swipeDirection);\n\n          if (!swiper.animating) {\n            swiper.animating = true;\n            $wrapperEl.transitionEnd(() => {\n              if (!swiper || swiper.destroyed) return;\n              swiper.transitionEnd();\n            });\n          }\n        } else {\n          swiper.updateProgress(newPosition);\n        }\n\n        swiper.updateActiveIndex();\n        swiper.updateSlidesClasses();\n      } else if (params.freeMode.sticky) {\n        swiper.slideToClosest();\n        return;\n      } else if (params.freeMode) {\n        emit('_freeModeNoMomentumRelease');\n      }\n\n      if (!params.freeMode.momentum || timeDiff >= params.longSwipesMs) {\n        swiper.updateProgress();\n        swiper.updateActiveIndex();\n        swiper.updateSlidesClasses();\n      }\n    }\n\n    Object.assign(swiper, {\n      freeMode: {\n        onTouchMove,\n        onTouchEnd\n      }\n    });\n  }\n\n  function Grid({\n    swiper,\n    extendParams\n  }) {\n    extendParams({\n      grid: {\n        rows: 1,\n        fill: 'column'\n      }\n    });\n    let slidesNumberEvenToRows;\n    let slidesPerRow;\n    let numFullColumns;\n\n    const initSlides = slidesLength => {\n      const {\n        slidesPerView\n      } = swiper.params;\n      const {\n        rows,\n        fill\n      } = swiper.params.grid;\n      slidesPerRow = slidesNumberEvenToRows / rows;\n      numFullColumns = Math.floor(slidesLength / rows);\n\n      if (Math.floor(slidesLength / rows) === slidesLength / rows) {\n        slidesNumberEvenToRows = slidesLength;\n      } else {\n        slidesNumberEvenToRows = Math.ceil(slidesLength / rows) * rows;\n      }\n\n      if (slidesPerView !== 'auto' && fill === 'row') {\n        slidesNumberEvenToRows = Math.max(slidesNumberEvenToRows, slidesPerView * rows);\n      }\n    };\n\n    const updateSlide = (i, slide, slidesLength, getDirectionLabel) => {\n      const {\n        slidesPerGroup,\n        spaceBetween\n      } = swiper.params;\n      const {\n        rows,\n        fill\n      } = swiper.params.grid; // Set slides order\n\n      let newSlideOrderIndex;\n      let column;\n      let row;\n\n      if (fill === 'row' && slidesPerGroup > 1) {\n        const groupIndex = Math.floor(i / (slidesPerGroup * rows));\n        const slideIndexInGroup = i - rows * slidesPerGroup * groupIndex;\n        const columnsInGroup = groupIndex === 0 ? slidesPerGroup : Math.min(Math.ceil((slidesLength - groupIndex * rows * slidesPerGroup) / rows), slidesPerGroup);\n        row = Math.floor(slideIndexInGroup / columnsInGroup);\n        column = slideIndexInGroup - row * columnsInGroup + groupIndex * slidesPerGroup;\n        newSlideOrderIndex = column + row * slidesNumberEvenToRows / rows;\n        slide.css({\n          '-webkit-order': newSlideOrderIndex,\n          order: newSlideOrderIndex\n        });\n      } else if (fill === 'column') {\n        column = Math.floor(i / rows);\n        row = i - column * rows;\n\n        if (column > numFullColumns || column === numFullColumns && row === rows - 1) {\n          row += 1;\n\n          if (row >= rows) {\n            row = 0;\n            column += 1;\n          }\n        }\n      } else {\n        row = Math.floor(i / slidesPerRow);\n        column = i - row * slidesPerRow;\n      }\n\n      slide.css(getDirectionLabel('margin-top'), row !== 0 ? spaceBetween && `${spaceBetween}px` : '');\n    };\n\n    const updateWrapperSize = (slideSize, snapGrid, getDirectionLabel) => {\n      const {\n        spaceBetween,\n        centeredSlides,\n        roundLengths\n      } = swiper.params;\n      const {\n        rows\n      } = swiper.params.grid;\n      swiper.virtualSize = (slideSize + spaceBetween) * slidesNumberEvenToRows;\n      swiper.virtualSize = Math.ceil(swiper.virtualSize / rows) - spaceBetween;\n      swiper.$wrapperEl.css({\n        [getDirectionLabel('width')]: `${swiper.virtualSize + spaceBetween}px`\n      });\n\n      if (centeredSlides) {\n        snapGrid.splice(0, snapGrid.length);\n        const newSlidesGrid = [];\n\n        for (let i = 0; i < snapGrid.length; i += 1) {\n          let slidesGridItem = snapGrid[i];\n          if (roundLengths) slidesGridItem = Math.floor(slidesGridItem);\n          if (snapGrid[i] < swiper.virtualSize + snapGrid[0]) newSlidesGrid.push(slidesGridItem);\n        }\n\n        snapGrid.push(...newSlidesGrid);\n      }\n    };\n\n    swiper.grid = {\n      initSlides,\n      updateSlide,\n      updateWrapperSize\n    };\n  }\n\n  function appendSlide(slides) {\n    const swiper = this;\n    const {\n      $wrapperEl,\n      params\n    } = swiper;\n\n    if (params.loop) {\n      swiper.loopDestroy();\n    }\n\n    if (typeof slides === 'object' && 'length' in slides) {\n      for (let i = 0; i < slides.length; i += 1) {\n        if (slides[i]) $wrapperEl.append(slides[i]);\n      }\n    } else {\n      $wrapperEl.append(slides);\n    }\n\n    if (params.loop) {\n      swiper.loopCreate();\n    }\n\n    if (!params.observer) {\n      swiper.update();\n    }\n  }\n\n  function prependSlide(slides) {\n    const swiper = this;\n    const {\n      params,\n      $wrapperEl,\n      activeIndex\n    } = swiper;\n\n    if (params.loop) {\n      swiper.loopDestroy();\n    }\n\n    let newActiveIndex = activeIndex + 1;\n\n    if (typeof slides === 'object' && 'length' in slides) {\n      for (let i = 0; i < slides.length; i += 1) {\n        if (slides[i]) $wrapperEl.prepend(slides[i]);\n      }\n\n      newActiveIndex = activeIndex + slides.length;\n    } else {\n      $wrapperEl.prepend(slides);\n    }\n\n    if (params.loop) {\n      swiper.loopCreate();\n    }\n\n    if (!params.observer) {\n      swiper.update();\n    }\n\n    swiper.slideTo(newActiveIndex, 0, false);\n  }\n\n  function addSlide(index, slides) {\n    const swiper = this;\n    const {\n      $wrapperEl,\n      params,\n      activeIndex\n    } = swiper;\n    let activeIndexBuffer = activeIndex;\n\n    if (params.loop) {\n      activeIndexBuffer -= swiper.loopedSlides;\n      swiper.loopDestroy();\n      swiper.slides = $wrapperEl.children(`.${params.slideClass}`);\n    }\n\n    const baseLength = swiper.slides.length;\n\n    if (index <= 0) {\n      swiper.prependSlide(slides);\n      return;\n    }\n\n    if (index >= baseLength) {\n      swiper.appendSlide(slides);\n      return;\n    }\n\n    let newActiveIndex = activeIndexBuffer > index ? activeIndexBuffer + 1 : activeIndexBuffer;\n    const slidesBuffer = [];\n\n    for (let i = baseLength - 1; i >= index; i -= 1) {\n      const currentSlide = swiper.slides.eq(i);\n      currentSlide.remove();\n      slidesBuffer.unshift(currentSlide);\n    }\n\n    if (typeof slides === 'object' && 'length' in slides) {\n      for (let i = 0; i < slides.length; i += 1) {\n        if (slides[i]) $wrapperEl.append(slides[i]);\n      }\n\n      newActiveIndex = activeIndexBuffer > index ? activeIndexBuffer + slides.length : activeIndexBuffer;\n    } else {\n      $wrapperEl.append(slides);\n    }\n\n    for (let i = 0; i < slidesBuffer.length; i += 1) {\n      $wrapperEl.append(slidesBuffer[i]);\n    }\n\n    if (params.loop) {\n      swiper.loopCreate();\n    }\n\n    if (!params.observer) {\n      swiper.update();\n    }\n\n    if (params.loop) {\n      swiper.slideTo(newActiveIndex + swiper.loopedSlides, 0, false);\n    } else {\n      swiper.slideTo(newActiveIndex, 0, false);\n    }\n  }\n\n  function removeSlide(slidesIndexes) {\n    const swiper = this;\n    const {\n      params,\n      $wrapperEl,\n      activeIndex\n    } = swiper;\n    let activeIndexBuffer = activeIndex;\n\n    if (params.loop) {\n      activeIndexBuffer -= swiper.loopedSlides;\n      swiper.loopDestroy();\n      swiper.slides = $wrapperEl.children(`.${params.slideClass}`);\n    }\n\n    let newActiveIndex = activeIndexBuffer;\n    let indexToRemove;\n\n    if (typeof slidesIndexes === 'object' && 'length' in slidesIndexes) {\n      for (let i = 0; i < slidesIndexes.length; i += 1) {\n        indexToRemove = slidesIndexes[i];\n        if (swiper.slides[indexToRemove]) swiper.slides.eq(indexToRemove).remove();\n        if (indexToRemove < newActiveIndex) newActiveIndex -= 1;\n      }\n\n      newActiveIndex = Math.max(newActiveIndex, 0);\n    } else {\n      indexToRemove = slidesIndexes;\n      if (swiper.slides[indexToRemove]) swiper.slides.eq(indexToRemove).remove();\n      if (indexToRemove < newActiveIndex) newActiveIndex -= 1;\n      newActiveIndex = Math.max(newActiveIndex, 0);\n    }\n\n    if (params.loop) {\n      swiper.loopCreate();\n    }\n\n    if (!params.observer) {\n      swiper.update();\n    }\n\n    if (params.loop) {\n      swiper.slideTo(newActiveIndex + swiper.loopedSlides, 0, false);\n    } else {\n      swiper.slideTo(newActiveIndex, 0, false);\n    }\n  }\n\n  function removeAllSlides() {\n    const swiper = this;\n    const slidesIndexes = [];\n\n    for (let i = 0; i < swiper.slides.length; i += 1) {\n      slidesIndexes.push(i);\n    }\n\n    swiper.removeSlide(slidesIndexes);\n  }\n\n  function Manipulation({\n    swiper\n  }) {\n    Object.assign(swiper, {\n      appendSlide: appendSlide.bind(swiper),\n      prependSlide: prependSlide.bind(swiper),\n      addSlide: addSlide.bind(swiper),\n      removeSlide: removeSlide.bind(swiper),\n      removeAllSlides: removeAllSlides.bind(swiper)\n    });\n  }\n\n  function effectInit(params) {\n    const {\n      effect,\n      swiper,\n      on,\n      setTranslate,\n      setTransition,\n      overwriteParams,\n      perspective\n    } = params;\n    on('beforeInit', () => {\n      if (swiper.params.effect !== effect) return;\n      swiper.classNames.push(`${swiper.params.containerModifierClass}${effect}`);\n\n      if (perspective && perspective()) {\n        swiper.classNames.push(`${swiper.params.containerModifierClass}3d`);\n      }\n\n      const overwriteParamsResult = overwriteParams ? overwriteParams() : {};\n      Object.assign(swiper.params, overwriteParamsResult);\n      Object.assign(swiper.originalParams, overwriteParamsResult);\n    });\n    on('setTranslate', () => {\n      if (swiper.params.effect !== effect) return;\n      setTranslate();\n    });\n    on('setTransition', (_s, duration) => {\n      if (swiper.params.effect !== effect) return;\n      setTransition(duration);\n    });\n  }\n\n  function effectTarget(effectParams, $slideEl) {\n    if (effectParams.transformEl) {\n      return $slideEl.find(effectParams.transformEl).css({\n        'backface-visibility': 'hidden',\n        '-webkit-backface-visibility': 'hidden'\n      });\n    }\n\n    return $slideEl;\n  }\n\n  function effectVirtualTransitionEnd({\n    swiper,\n    duration,\n    transformEl,\n    allSlides\n  }) {\n    const {\n      slides,\n      activeIndex,\n      $wrapperEl\n    } = swiper;\n\n    if (swiper.params.virtualTranslate && duration !== 0) {\n      let eventTriggered = false;\n      let $transitionEndTarget;\n\n      if (allSlides) {\n        $transitionEndTarget = transformEl ? slides.find(transformEl) : slides;\n      } else {\n        $transitionEndTarget = transformEl ? slides.eq(activeIndex).find(transformEl) : slides.eq(activeIndex);\n      }\n\n      $transitionEndTarget.transitionEnd(() => {\n        if (eventTriggered) return;\n        if (!swiper || swiper.destroyed) return;\n        eventTriggered = true;\n        swiper.animating = false;\n        const triggerEvents = ['webkitTransitionEnd', 'transitionend'];\n\n        for (let i = 0; i < triggerEvents.length; i += 1) {\n          $wrapperEl.trigger(triggerEvents[i]);\n        }\n      });\n    }\n  }\n\n  function EffectFade({\n    swiper,\n    extendParams,\n    on\n  }) {\n    extendParams({\n      fadeEffect: {\n        crossFade: false,\n        transformEl: null\n      }\n    });\n\n    const setTranslate = () => {\n      const {\n        slides\n      } = swiper;\n      const params = swiper.params.fadeEffect;\n\n      for (let i = 0; i < slides.length; i += 1) {\n        const $slideEl = swiper.slides.eq(i);\n        const offset = $slideEl[0].swiperSlideOffset;\n        let tx = -offset;\n        if (!swiper.params.virtualTranslate) tx -= swiper.translate;\n        let ty = 0;\n\n        if (!swiper.isHorizontal()) {\n          ty = tx;\n          tx = 0;\n        }\n\n        const slideOpacity = swiper.params.fadeEffect.crossFade ? Math.max(1 - Math.abs($slideEl[0].progress), 0) : 1 + Math.min(Math.max($slideEl[0].progress, -1), 0);\n        const $targetEl = effectTarget(params, $slideEl);\n        $targetEl.css({\n          opacity: slideOpacity\n        }).transform(`translate3d(${tx}px, ${ty}px, 0px)`);\n      }\n    };\n\n    const setTransition = duration => {\n      const {\n        transformEl\n      } = swiper.params.fadeEffect;\n      const $transitionElements = transformEl ? swiper.slides.find(transformEl) : swiper.slides;\n      $transitionElements.transition(duration);\n      effectVirtualTransitionEnd({\n        swiper,\n        duration,\n        transformEl,\n        allSlides: true\n      });\n    };\n\n    effectInit({\n      effect: 'fade',\n      swiper,\n      on,\n      setTranslate,\n      setTransition,\n      overwriteParams: () => ({\n        slidesPerView: 1,\n        slidesPerGroup: 1,\n        watchSlidesProgress: true,\n        spaceBetween: 0,\n        virtualTranslate: !swiper.params.cssMode\n      })\n    });\n  }\n\n  function EffectCube({\n    swiper,\n    extendParams,\n    on\n  }) {\n    extendParams({\n      cubeEffect: {\n        slideShadows: true,\n        shadow: true,\n        shadowOffset: 20,\n        shadowScale: 0.94\n      }\n    });\n\n    const setTranslate = () => {\n      const {\n        $el,\n        $wrapperEl,\n        slides,\n        width: swiperWidth,\n        height: swiperHeight,\n        rtlTranslate: rtl,\n        size: swiperSize,\n        browser\n      } = swiper;\n      const params = swiper.params.cubeEffect;\n      const isHorizontal = swiper.isHorizontal();\n      const isVirtual = swiper.virtual && swiper.params.virtual.enabled;\n      let wrapperRotate = 0;\n      let $cubeShadowEl;\n\n      if (params.shadow) {\n        if (isHorizontal) {\n          $cubeShadowEl = $wrapperEl.find('.swiper-cube-shadow');\n\n          if ($cubeShadowEl.length === 0) {\n            $cubeShadowEl = $('<div class=\"swiper-cube-shadow\"></div>');\n            $wrapperEl.append($cubeShadowEl);\n          }\n\n          $cubeShadowEl.css({\n            height: `${swiperWidth}px`\n          });\n        } else {\n          $cubeShadowEl = $el.find('.swiper-cube-shadow');\n\n          if ($cubeShadowEl.length === 0) {\n            $cubeShadowEl = $('<div class=\"swiper-cube-shadow\"></div>');\n            $el.append($cubeShadowEl);\n          }\n        }\n      }\n\n      for (let i = 0; i < slides.length; i += 1) {\n        const $slideEl = slides.eq(i);\n        let slideIndex = i;\n\n        if (isVirtual) {\n          slideIndex = parseInt($slideEl.attr('data-swiper-slide-index'), 10);\n        }\n\n        let slideAngle = slideIndex * 90;\n        let round = Math.floor(slideAngle / 360);\n\n        if (rtl) {\n          slideAngle = -slideAngle;\n          round = Math.floor(-slideAngle / 360);\n        }\n\n        const progress = Math.max(Math.min($slideEl[0].progress, 1), -1);\n        let tx = 0;\n        let ty = 0;\n        let tz = 0;\n\n        if (slideIndex % 4 === 0) {\n          tx = -round * 4 * swiperSize;\n          tz = 0;\n        } else if ((slideIndex - 1) % 4 === 0) {\n          tx = 0;\n          tz = -round * 4 * swiperSize;\n        } else if ((slideIndex - 2) % 4 === 0) {\n          tx = swiperSize + round * 4 * swiperSize;\n          tz = swiperSize;\n        } else if ((slideIndex - 3) % 4 === 0) {\n          tx = -swiperSize;\n          tz = 3 * swiperSize + swiperSize * 4 * round;\n        }\n\n        if (rtl) {\n          tx = -tx;\n        }\n\n        if (!isHorizontal) {\n          ty = tx;\n          tx = 0;\n        }\n\n        const transform = `rotateX(${isHorizontal ? 0 : -slideAngle}deg) rotateY(${isHorizontal ? slideAngle : 0}deg) translate3d(${tx}px, ${ty}px, ${tz}px)`;\n\n        if (progress <= 1 && progress > -1) {\n          wrapperRotate = slideIndex * 90 + progress * 90;\n          if (rtl) wrapperRotate = -slideIndex * 90 - progress * 90;\n        }\n\n        $slideEl.transform(transform);\n\n        if (params.slideShadows) {\n          // Set shadows\n          let shadowBefore = isHorizontal ? $slideEl.find('.swiper-slide-shadow-left') : $slideEl.find('.swiper-slide-shadow-top');\n          let shadowAfter = isHorizontal ? $slideEl.find('.swiper-slide-shadow-right') : $slideEl.find('.swiper-slide-shadow-bottom');\n\n          if (shadowBefore.length === 0) {\n            shadowBefore = $(`<div class=\"swiper-slide-shadow-${isHorizontal ? 'left' : 'top'}\"></div>`);\n            $slideEl.append(shadowBefore);\n          }\n\n          if (shadowAfter.length === 0) {\n            shadowAfter = $(`<div class=\"swiper-slide-shadow-${isHorizontal ? 'right' : 'bottom'}\"></div>`);\n            $slideEl.append(shadowAfter);\n          }\n\n          if (shadowBefore.length) shadowBefore[0].style.opacity = Math.max(-progress, 0);\n          if (shadowAfter.length) shadowAfter[0].style.opacity = Math.max(progress, 0);\n        }\n      }\n\n      $wrapperEl.css({\n        '-webkit-transform-origin': `50% 50% -${swiperSize / 2}px`,\n        'transform-origin': `50% 50% -${swiperSize / 2}px`\n      });\n\n      if (params.shadow) {\n        if (isHorizontal) {\n          $cubeShadowEl.transform(`translate3d(0px, ${swiperWidth / 2 + params.shadowOffset}px, ${-swiperWidth / 2}px) rotateX(90deg) rotateZ(0deg) scale(${params.shadowScale})`);\n        } else {\n          const shadowAngle = Math.abs(wrapperRotate) - Math.floor(Math.abs(wrapperRotate) / 90) * 90;\n          const multiplier = 1.5 - (Math.sin(shadowAngle * 2 * Math.PI / 360) / 2 + Math.cos(shadowAngle * 2 * Math.PI / 360) / 2);\n          const scale1 = params.shadowScale;\n          const scale2 = params.shadowScale / multiplier;\n          const offset = params.shadowOffset;\n          $cubeShadowEl.transform(`scale3d(${scale1}, 1, ${scale2}) translate3d(0px, ${swiperHeight / 2 + offset}px, ${-swiperHeight / 2 / scale2}px) rotateX(-90deg)`);\n        }\n      }\n\n      const zFactor = browser.isSafari || browser.isWebView ? -swiperSize / 2 : 0;\n      $wrapperEl.transform(`translate3d(0px,0,${zFactor}px) rotateX(${swiper.isHorizontal() ? 0 : wrapperRotate}deg) rotateY(${swiper.isHorizontal() ? -wrapperRotate : 0}deg)`);\n    };\n\n    const setTransition = duration => {\n      const {\n        $el,\n        slides\n      } = swiper;\n      slides.transition(duration).find('.swiper-slide-shadow-top, .swiper-slide-shadow-right, .swiper-slide-shadow-bottom, .swiper-slide-shadow-left').transition(duration);\n\n      if (swiper.params.cubeEffect.shadow && !swiper.isHorizontal()) {\n        $el.find('.swiper-cube-shadow').transition(duration);\n      }\n    };\n\n    effectInit({\n      effect: 'cube',\n      swiper,\n      on,\n      setTranslate,\n      setTransition,\n      perspective: () => true,\n      overwriteParams: () => ({\n        slidesPerView: 1,\n        slidesPerGroup: 1,\n        watchSlidesProgress: true,\n        resistanceRatio: 0,\n        spaceBetween: 0,\n        centeredSlides: false,\n        virtualTranslate: true\n      })\n    });\n  }\n\n  function createShadow(params, $slideEl, side) {\n    const shadowClass = `swiper-slide-shadow${side ? `-${side}` : ''}`;\n    const $shadowContainer = params.transformEl ? $slideEl.find(params.transformEl) : $slideEl;\n    let $shadowEl = $shadowContainer.children(`.${shadowClass}`);\n\n    if (!$shadowEl.length) {\n      $shadowEl = $(`<div class=\"swiper-slide-shadow${side ? `-${side}` : ''}\"></div>`);\n      $shadowContainer.append($shadowEl);\n    }\n\n    return $shadowEl;\n  }\n\n  function EffectFlip({\n    swiper,\n    extendParams,\n    on\n  }) {\n    extendParams({\n      flipEffect: {\n        slideShadows: true,\n        limitRotation: true,\n        transformEl: null\n      }\n    });\n\n    const setTranslate = () => {\n      const {\n        slides,\n        rtlTranslate: rtl\n      } = swiper;\n      const params = swiper.params.flipEffect;\n\n      for (let i = 0; i < slides.length; i += 1) {\n        const $slideEl = slides.eq(i);\n        let progress = $slideEl[0].progress;\n\n        if (swiper.params.flipEffect.limitRotation) {\n          progress = Math.max(Math.min($slideEl[0].progress, 1), -1);\n        }\n\n        const offset = $slideEl[0].swiperSlideOffset;\n        const rotate = -180 * progress;\n        let rotateY = rotate;\n        let rotateX = 0;\n        let tx = swiper.params.cssMode ? -offset - swiper.translate : -offset;\n        let ty = 0;\n\n        if (!swiper.isHorizontal()) {\n          ty = tx;\n          tx = 0;\n          rotateX = -rotateY;\n          rotateY = 0;\n        } else if (rtl) {\n          rotateY = -rotateY;\n        }\n\n        $slideEl[0].style.zIndex = -Math.abs(Math.round(progress)) + slides.length;\n\n        if (params.slideShadows) {\n          // Set shadows\n          let shadowBefore = swiper.isHorizontal() ? $slideEl.find('.swiper-slide-shadow-left') : $slideEl.find('.swiper-slide-shadow-top');\n          let shadowAfter = swiper.isHorizontal() ? $slideEl.find('.swiper-slide-shadow-right') : $slideEl.find('.swiper-slide-shadow-bottom');\n\n          if (shadowBefore.length === 0) {\n            shadowBefore = createShadow(params, $slideEl, swiper.isHorizontal() ? 'left' : 'top');\n          }\n\n          if (shadowAfter.length === 0) {\n            shadowAfter = createShadow(params, $slideEl, swiper.isHorizontal() ? 'right' : 'bottom');\n          }\n\n          if (shadowBefore.length) shadowBefore[0].style.opacity = Math.max(-progress, 0);\n          if (shadowAfter.length) shadowAfter[0].style.opacity = Math.max(progress, 0);\n        }\n\n        const transform = `translate3d(${tx}px, ${ty}px, 0px) rotateX(${rotateX}deg) rotateY(${rotateY}deg)`;\n        const $targetEl = effectTarget(params, $slideEl);\n        $targetEl.transform(transform);\n      }\n    };\n\n    const setTransition = duration => {\n      const {\n        transformEl\n      } = swiper.params.flipEffect;\n      const $transitionElements = transformEl ? swiper.slides.find(transformEl) : swiper.slides;\n      $transitionElements.transition(duration).find('.swiper-slide-shadow-top, .swiper-slide-shadow-right, .swiper-slide-shadow-bottom, .swiper-slide-shadow-left').transition(duration);\n      effectVirtualTransitionEnd({\n        swiper,\n        duration,\n        transformEl\n      });\n    };\n\n    effectInit({\n      effect: 'flip',\n      swiper,\n      on,\n      setTranslate,\n      setTransition,\n      perspective: () => true,\n      overwriteParams: () => ({\n        slidesPerView: 1,\n        slidesPerGroup: 1,\n        watchSlidesProgress: true,\n        spaceBetween: 0,\n        virtualTranslate: !swiper.params.cssMode\n      })\n    });\n  }\n\n  function EffectCoverflow({\n    swiper,\n    extendParams,\n    on\n  }) {\n    extendParams({\n      coverflowEffect: {\n        rotate: 50,\n        stretch: 0,\n        depth: 100,\n        scale: 1,\n        modifier: 1,\n        slideShadows: true,\n        transformEl: null\n      }\n    });\n\n    const setTranslate = () => {\n      const {\n        width: swiperWidth,\n        height: swiperHeight,\n        slides,\n        slidesSizesGrid\n      } = swiper;\n      const params = swiper.params.coverflowEffect;\n      const isHorizontal = swiper.isHorizontal();\n      const transform = swiper.translate;\n      const center = isHorizontal ? -transform + swiperWidth / 2 : -transform + swiperHeight / 2;\n      const rotate = isHorizontal ? params.rotate : -params.rotate;\n      const translate = params.depth; // Each slide offset from center\n\n      for (let i = 0, length = slides.length; i < length; i += 1) {\n        const $slideEl = slides.eq(i);\n        const slideSize = slidesSizesGrid[i];\n        const slideOffset = $slideEl[0].swiperSlideOffset;\n        const offsetMultiplier = (center - slideOffset - slideSize / 2) / slideSize * params.modifier;\n        let rotateY = isHorizontal ? rotate * offsetMultiplier : 0;\n        let rotateX = isHorizontal ? 0 : rotate * offsetMultiplier; // var rotateZ = 0\n\n        let translateZ = -translate * Math.abs(offsetMultiplier);\n        let stretch = params.stretch; // Allow percentage to make a relative stretch for responsive sliders\n\n        if (typeof stretch === 'string' && stretch.indexOf('%') !== -1) {\n          stretch = parseFloat(params.stretch) / 100 * slideSize;\n        }\n\n        let translateY = isHorizontal ? 0 : stretch * offsetMultiplier;\n        let translateX = isHorizontal ? stretch * offsetMultiplier : 0;\n        let scale = 1 - (1 - params.scale) * Math.abs(offsetMultiplier); // Fix for ultra small values\n\n        if (Math.abs(translateX) < 0.001) translateX = 0;\n        if (Math.abs(translateY) < 0.001) translateY = 0;\n        if (Math.abs(translateZ) < 0.001) translateZ = 0;\n        if (Math.abs(rotateY) < 0.001) rotateY = 0;\n        if (Math.abs(rotateX) < 0.001) rotateX = 0;\n        if (Math.abs(scale) < 0.001) scale = 0;\n        const slideTransform = `translate3d(${translateX}px,${translateY}px,${translateZ}px)  rotateX(${rotateX}deg) rotateY(${rotateY}deg) scale(${scale})`;\n        const $targetEl = effectTarget(params, $slideEl);\n        $targetEl.transform(slideTransform);\n        $slideEl[0].style.zIndex = -Math.abs(Math.round(offsetMultiplier)) + 1;\n\n        if (params.slideShadows) {\n          // Set shadows\n          let $shadowBeforeEl = isHorizontal ? $slideEl.find('.swiper-slide-shadow-left') : $slideEl.find('.swiper-slide-shadow-top');\n          let $shadowAfterEl = isHorizontal ? $slideEl.find('.swiper-slide-shadow-right') : $slideEl.find('.swiper-slide-shadow-bottom');\n\n          if ($shadowBeforeEl.length === 0) {\n            $shadowBeforeEl = createShadow(params, $slideEl, isHorizontal ? 'left' : 'top');\n          }\n\n          if ($shadowAfterEl.length === 0) {\n            $shadowAfterEl = createShadow(params, $slideEl, isHorizontal ? 'right' : 'bottom');\n          }\n\n          if ($shadowBeforeEl.length) $shadowBeforeEl[0].style.opacity = offsetMultiplier > 0 ? offsetMultiplier : 0;\n          if ($shadowAfterEl.length) $shadowAfterEl[0].style.opacity = -offsetMultiplier > 0 ? -offsetMultiplier : 0;\n        }\n      }\n    };\n\n    const setTransition = duration => {\n      const {\n        transformEl\n      } = swiper.params.coverflowEffect;\n      const $transitionElements = transformEl ? swiper.slides.find(transformEl) : swiper.slides;\n      $transitionElements.transition(duration).find('.swiper-slide-shadow-top, .swiper-slide-shadow-right, .swiper-slide-shadow-bottom, .swiper-slide-shadow-left').transition(duration);\n    };\n\n    effectInit({\n      effect: 'coverflow',\n      swiper,\n      on,\n      setTranslate,\n      setTransition,\n      perspective: () => true,\n      overwriteParams: () => ({\n        watchSlidesProgress: true\n      })\n    });\n  }\n\n  function EffectCreative({\n    swiper,\n    extendParams,\n    on\n  }) {\n    extendParams({\n      creativeEffect: {\n        transformEl: null,\n        limitProgress: 1,\n        shadowPerProgress: false,\n        progressMultiplier: 1,\n        perspective: true,\n        prev: {\n          translate: [0, 0, 0],\n          rotate: [0, 0, 0],\n          opacity: 1,\n          scale: 1\n        },\n        next: {\n          translate: [0, 0, 0],\n          rotate: [0, 0, 0],\n          opacity: 1,\n          scale: 1\n        }\n      }\n    });\n\n    const getTranslateValue = value => {\n      if (typeof value === 'string') return value;\n      return `${value}px`;\n    };\n\n    const setTranslate = () => {\n      const {\n        slides,\n        $wrapperEl,\n        slidesSizesGrid\n      } = swiper;\n      const params = swiper.params.creativeEffect;\n      const {\n        progressMultiplier: multiplier\n      } = params;\n      const isCenteredSlides = swiper.params.centeredSlides;\n\n      if (isCenteredSlides) {\n        const margin = slidesSizesGrid[0] / 2 - swiper.params.slidesOffsetBefore || 0;\n        $wrapperEl.transform(`translateX(calc(50% - ${margin}px))`);\n      }\n\n      for (let i = 0; i < slides.length; i += 1) {\n        const $slideEl = slides.eq(i);\n        const slideProgress = $slideEl[0].progress;\n        const progress = Math.min(Math.max($slideEl[0].progress, -params.limitProgress), params.limitProgress);\n        let originalProgress = progress;\n\n        if (!isCenteredSlides) {\n          originalProgress = Math.min(Math.max($slideEl[0].originalProgress, -params.limitProgress), params.limitProgress);\n        }\n\n        const offset = $slideEl[0].swiperSlideOffset;\n        const t = [swiper.params.cssMode ? -offset - swiper.translate : -offset, 0, 0];\n        const r = [0, 0, 0];\n        let custom = false;\n\n        if (!swiper.isHorizontal()) {\n          t[1] = t[0];\n          t[0] = 0;\n        }\n\n        let data = {\n          translate: [0, 0, 0],\n          rotate: [0, 0, 0],\n          scale: 1,\n          opacity: 1\n        };\n\n        if (progress < 0) {\n          data = params.next;\n          custom = true;\n        } else if (progress > 0) {\n          data = params.prev;\n          custom = true;\n        } // set translate\n\n\n        t.forEach((value, index) => {\n          t[index] = `calc(${value}px + (${getTranslateValue(data.translate[index])} * ${Math.abs(progress * multiplier)}))`;\n        }); // set rotates\n\n        r.forEach((value, index) => {\n          r[index] = data.rotate[index] * Math.abs(progress * multiplier);\n        });\n        $slideEl[0].style.zIndex = -Math.abs(Math.round(slideProgress)) + slides.length;\n        const translateString = t.join(', ');\n        const rotateString = `rotateX(${r[0]}deg) rotateY(${r[1]}deg) rotateZ(${r[2]}deg)`;\n        const scaleString = originalProgress < 0 ? `scale(${1 + (1 - data.scale) * originalProgress * multiplier})` : `scale(${1 - (1 - data.scale) * originalProgress * multiplier})`;\n        const opacityString = originalProgress < 0 ? 1 + (1 - data.opacity) * originalProgress * multiplier : 1 - (1 - data.opacity) * originalProgress * multiplier;\n        const transform = `translate3d(${translateString}) ${rotateString} ${scaleString}`; // Set shadows\n\n        if (custom && data.shadow || !custom) {\n          let $shadowEl = $slideEl.children('.swiper-slide-shadow');\n\n          if ($shadowEl.length === 0 && data.shadow) {\n            $shadowEl = createShadow(params, $slideEl);\n          }\n\n          if ($shadowEl.length) {\n            const shadowOpacity = params.shadowPerProgress ? progress * (1 / params.limitProgress) : progress;\n            $shadowEl[0].style.opacity = Math.min(Math.max(Math.abs(shadowOpacity), 0), 1);\n          }\n        }\n\n        const $targetEl = effectTarget(params, $slideEl);\n        $targetEl.transform(transform).css({\n          opacity: opacityString\n        });\n\n        if (data.origin) {\n          $targetEl.css('transform-origin', data.origin);\n        }\n      }\n    };\n\n    const setTransition = duration => {\n      const {\n        transformEl\n      } = swiper.params.creativeEffect;\n      const $transitionElements = transformEl ? swiper.slides.find(transformEl) : swiper.slides;\n      $transitionElements.transition(duration).find('.swiper-slide-shadow').transition(duration);\n      effectVirtualTransitionEnd({\n        swiper,\n        duration,\n        transformEl,\n        allSlides: true\n      });\n    };\n\n    effectInit({\n      effect: 'creative',\n      swiper,\n      on,\n      setTranslate,\n      setTransition,\n      perspective: () => swiper.params.creativeEffect.perspective,\n      overwriteParams: () => ({\n        watchSlidesProgress: true,\n        virtualTranslate: !swiper.params.cssMode\n      })\n    });\n  }\n\n  function EffectCards({\n    swiper,\n    extendParams,\n    on\n  }) {\n    extendParams({\n      cardsEffect: {\n        slideShadows: true,\n        transformEl: null\n      }\n    });\n\n    const setTranslate = () => {\n      const {\n        slides,\n        activeIndex\n      } = swiper;\n      const params = swiper.params.cardsEffect;\n      const {\n        startTranslate,\n        isTouched\n      } = swiper.touchEventsData;\n      const currentTranslate = swiper.translate;\n\n      for (let i = 0; i < slides.length; i += 1) {\n        const $slideEl = slides.eq(i);\n        const slideProgress = $slideEl[0].progress;\n        const progress = Math.min(Math.max(slideProgress, -4), 4);\n        let offset = $slideEl[0].swiperSlideOffset;\n\n        if (swiper.params.centeredSlides && !swiper.params.cssMode) {\n          swiper.$wrapperEl.transform(`translateX(${swiper.minTranslate()}px)`);\n        }\n\n        if (swiper.params.centeredSlides && swiper.params.cssMode) {\n          offset -= slides[0].swiperSlideOffset;\n        }\n\n        let tX = swiper.params.cssMode ? -offset - swiper.translate : -offset;\n        let tY = 0;\n        const tZ = -100 * Math.abs(progress);\n        let scale = 1;\n        let rotate = -2 * progress;\n        let tXAdd = 8 - Math.abs(progress) * 0.75;\n        const isSwipeToNext = (i === activeIndex || i === activeIndex - 1) && progress > 0 && progress < 1 && (isTouched || swiper.params.cssMode) && currentTranslate < startTranslate;\n        const isSwipeToPrev = (i === activeIndex || i === activeIndex + 1) && progress < 0 && progress > -1 && (isTouched || swiper.params.cssMode) && currentTranslate > startTranslate;\n\n        if (isSwipeToNext || isSwipeToPrev) {\n          const subProgress = (1 - Math.abs((Math.abs(progress) - 0.5) / 0.5)) ** 0.5;\n          rotate += -28 * progress * subProgress;\n          scale += -0.5 * subProgress;\n          tXAdd += 96 * subProgress;\n          tY = `${-25 * subProgress * Math.abs(progress)}%`;\n        }\n\n        if (progress < 0) {\n          // next\n          tX = `calc(${tX}px + (${tXAdd * Math.abs(progress)}%))`;\n        } else if (progress > 0) {\n          // prev\n          tX = `calc(${tX}px + (-${tXAdd * Math.abs(progress)}%))`;\n        } else {\n          tX = `${tX}px`;\n        }\n\n        if (!swiper.isHorizontal()) {\n          const prevY = tY;\n          tY = tX;\n          tX = prevY;\n        }\n\n        const scaleString = progress < 0 ? `${1 + (1 - scale) * progress}` : `${1 - (1 - scale) * progress}`;\n        const transform = `\n      translate3d(${tX}, ${tY}, ${tZ}px)\n      rotateZ(${rotate}deg)\n      scale(${scaleString})\n    `;\n\n        if (params.slideShadows) {\n          // Set shadows\n          let $shadowEl = $slideEl.find('.swiper-slide-shadow');\n\n          if ($shadowEl.length === 0) {\n            $shadowEl = createShadow(params, $slideEl);\n          }\n\n          if ($shadowEl.length) $shadowEl[0].style.opacity = Math.min(Math.max((Math.abs(progress) - 0.5) / 0.5, 0), 1);\n        }\n\n        $slideEl[0].style.zIndex = -Math.abs(Math.round(slideProgress)) + slides.length;\n        const $targetEl = effectTarget(params, $slideEl);\n        $targetEl.transform(transform);\n      }\n    };\n\n    const setTransition = duration => {\n      const {\n        transformEl\n      } = swiper.params.cardsEffect;\n      const $transitionElements = transformEl ? swiper.slides.find(transformEl) : swiper.slides;\n      $transitionElements.transition(duration).find('.swiper-slide-shadow').transition(duration);\n      effectVirtualTransitionEnd({\n        swiper,\n        duration,\n        transformEl\n      });\n    };\n\n    effectInit({\n      effect: 'cards',\n      swiper,\n      on,\n      setTranslate,\n      setTransition,\n      perspective: () => true,\n      overwriteParams: () => ({\n        watchSlidesProgress: true,\n        virtualTranslate: !swiper.params.cssMode\n      })\n    });\n  }\n\n  // Swiper Class\n  const modules = [Virtual, Keyboard, Mousewheel, Navigation, Pagination, Scrollbar, Parallax, Zoom, Lazy, Controller, A11y, History, HashNavigation, Autoplay, Thumb, freeMode, Grid, Manipulation, EffectFade, EffectCube, EffectFlip, EffectCoverflow, EffectCreative, EffectCards];\n  Swiper.use(modules);\n\n  return Swiper;\n\n})));\n//# sourceMappingURL=swiper-bundle.js.map","export default (typeof global !== \"undefined\" ? global :\n            typeof self !== \"undefined\" ? self :\n            typeof window !== \"undefined\" ? window : {});\n","// shim for using process in browser\n// based off https://github.com/defunctzombie/node-process/blob/master/browser.js\n\nfunction defaultSetTimout() {\n    throw new Error('setTimeout has not been defined');\n}\nfunction defaultClearTimeout () {\n    throw new Error('clearTimeout has not been defined');\n}\nvar cachedSetTimeout = defaultSetTimout;\nvar cachedClearTimeout = defaultClearTimeout;\nif (typeof global.setTimeout === 'function') {\n    cachedSetTimeout = setTimeout;\n}\nif (typeof global.clearTimeout === 'function') {\n    cachedClearTimeout = clearTimeout;\n}\n\nfunction runTimeout(fun) {\n    if (cachedSetTimeout === setTimeout) {\n        //normal enviroments in sane situations\n        return setTimeout(fun, 0);\n    }\n    // if setTimeout wasn't available but was latter defined\n    if ((cachedSetTimeout === defaultSetTimout || !cachedSetTimeout) && setTimeout) {\n        cachedSetTimeout = setTimeout;\n        return setTimeout(fun, 0);\n    }\n    try {\n        // when when somebody has screwed with setTimeout but no I.E. maddness\n        return cachedSetTimeout(fun, 0);\n    } catch(e){\n        try {\n            // When we are in I.E. but the script has been evaled so I.E. doesn't trust the global object when called normally\n            return cachedSetTimeout.call(null, fun, 0);\n        } catch(e){\n            // same as above but when it's a version of I.E. that must have the global object for 'this', hopfully our context correct otherwise it will throw a global error\n            return cachedSetTimeout.call(this, fun, 0);\n        }\n    }\n\n\n}\nfunction runClearTimeout(marker) {\n    if (cachedClearTimeout === clearTimeout) {\n        //normal enviroments in sane situations\n        return clearTimeout(marker);\n    }\n    // if clearTimeout wasn't available but was latter defined\n    if ((cachedClearTimeout === defaultClearTimeout || !cachedClearTimeout) && clearTimeout) {\n        cachedClearTimeout = clearTimeout;\n        return clearTimeout(marker);\n    }\n    try {\n        // when when somebody has screwed with setTimeout but no I.E. maddness\n        return cachedClearTimeout(marker);\n    } catch (e){\n        try {\n            // When we are in I.E. but the script has been evaled so I.E. doesn't  trust the global object when called normally\n            return cachedClearTimeout.call(null, marker);\n        } catch (e){\n            // same as above but when it's a version of I.E. that must have the global object for 'this', hopfully our context correct otherwise it will throw a global error.\n            // Some versions of I.E. have different rules for clearTimeout vs setTimeout\n            return cachedClearTimeout.call(this, marker);\n        }\n    }\n\n\n\n}\nvar queue = [];\nvar draining = false;\nvar currentQueue;\nvar queueIndex = -1;\n\nfunction cleanUpNextTick() {\n    if (!draining || !currentQueue) {\n        return;\n    }\n    draining = false;\n    if (currentQueue.length) {\n        queue = currentQueue.concat(queue);\n    } else {\n        queueIndex = -1;\n    }\n    if (queue.length) {\n        drainQueue();\n    }\n}\n\nfunction drainQueue() {\n    if (draining) {\n        return;\n    }\n    var timeout = runTimeout(cleanUpNextTick);\n    draining = true;\n\n    var len = queue.length;\n    while(len) {\n        currentQueue = queue;\n        queue = [];\n        while (++queueIndex < len) {\n            if (currentQueue) {\n                currentQueue[queueIndex].run();\n            }\n        }\n        queueIndex = -1;\n        len = queue.length;\n    }\n    currentQueue = null;\n    draining = false;\n    runClearTimeout(timeout);\n}\nexport function nextTick(fun) {\n    var args = new Array(arguments.length - 1);\n    if (arguments.length > 1) {\n        for (var i = 1; i < arguments.length; i++) {\n            args[i - 1] = arguments[i];\n        }\n    }\n    queue.push(new Item(fun, args));\n    if (queue.length === 1 && !draining) {\n        runTimeout(drainQueue);\n    }\n}\n// v8 likes predictible objects\nfunction Item(fun, array) {\n    this.fun = fun;\n    this.array = array;\n}\nItem.prototype.run = function () {\n    this.fun.apply(null, this.array);\n};\nexport var title = 'browser';\nexport var platform = 'browser';\nexport var browser = true;\nexport var env = {};\nexport var argv = [];\nexport var version = ''; // empty string to avoid regexp issues\nexport var versions = {};\nexport var release = {};\nexport var config = {};\n\nfunction noop() {}\n\nexport var on = noop;\nexport var addListener = noop;\nexport var once = noop;\nexport var off = noop;\nexport var removeListener = noop;\nexport var removeAllListeners = noop;\nexport var emit = noop;\n\nexport function binding(name) {\n    throw new Error('process.binding is not supported');\n}\n\nexport function cwd () { return '/' }\nexport function chdir (dir) {\n    throw new Error('process.chdir is not supported');\n};\nexport function umask() { return 0; }\n\n// from https://github.com/kumavis/browser-process-hrtime/blob/master/index.js\nvar performance = global.performance || {}\nvar performanceNow =\n  performance.now        ||\n  performance.mozNow     ||\n  performance.msNow      ||\n  performance.oNow       ||\n  performance.webkitNow  ||\n  function(){ return (new Date()).getTime() }\n\n// generate timestamp or delta\n// see http://nodejs.org/api/process.html#process_process_hrtime\nexport function hrtime(previousTimestamp){\n  var clocktime = performanceNow.call(performance)*1e-3\n  var seconds = Math.floor(clocktime)\n  var nanoseconds = Math.floor((clocktime%1)*1e9)\n  if (previousTimestamp) {\n    seconds = seconds - previousTimestamp[0]\n    nanoseconds = nanoseconds - previousTimestamp[1]\n    if (nanoseconds<0) {\n      seconds--\n      nanoseconds += 1e9\n    }\n  }\n  return [seconds,nanoseconds]\n}\n\nvar startTime = new Date();\nexport function uptime() {\n  var currentTime = new Date();\n  var dif = currentTime - startTime;\n  return dif / 1000;\n}\n\nexport default {\n  nextTick: nextTick,\n  title: title,\n  browser: browser,\n  env: env,\n  argv: argv,\n  version: version,\n  versions: versions,\n  on: on,\n  addListener: addListener,\n  once: once,\n  off: off,\n  removeListener: removeListener,\n  removeAllListeners: removeAllListeners,\n  emit: emit,\n  binding: binding,\n  cwd: cwd,\n  chdir: chdir,\n  umask: umask,\n  hrtime: hrtime,\n  platform: platform,\n  release: release,\n  config: config,\n  uptime: uptime\n};\n","/**\n * Tween.js - Licensed under the MIT license\n * https://github.com/tweenjs/tween.js\n * ----------------------------------------------\n *\n * See https://github.com/tweenjs/tween.js/graphs/contributors for the full list of contributors.\n * Thank you all, you're awesome!\n */\n\n\nvar _Group = function () {\n\tthis._tweens = {};\n\tthis._tweensAddedDuringUpdate = {};\n};\n\n_Group.prototype = {\n\tgetAll: function () {\n\n\t\treturn Object.keys(this._tweens).map(function (tweenId) {\n\t\t\treturn this._tweens[tweenId];\n\t\t}.bind(this));\n\n\t},\n\n\tremoveAll: function () {\n\n\t\tthis._tweens = {};\n\n\t},\n\n\tadd: function (tween) {\n\n\t\tthis._tweens[tween.getId()] = tween;\n\t\tthis._tweensAddedDuringUpdate[tween.getId()] = tween;\n\n\t},\n\n\tremove: function (tween) {\n\n\t\tdelete this._tweens[tween.getId()];\n\t\tdelete this._tweensAddedDuringUpdate[tween.getId()];\n\n\t},\n\n\tupdate: function (time, preserve) {\n\n\t\tvar tweenIds = Object.keys(this._tweens);\n\n\t\tif (tweenIds.length === 0) {\n\t\t\treturn false;\n\t\t}\n\n\t\ttime = time !== undefined ? time : TWEEN.now();\n\n\t\t// Tweens are updated in \"batches\". If you add a new tween during an update, then the\n\t\t// new tween will be updated in the next batch.\n\t\t// If you remove a tween during an update, it may or may not be updated. However,\n\t\t// if the removed tween was added during the current batch, then it will not be updated.\n\t\twhile (tweenIds.length > 0) {\n\t\t\tthis._tweensAddedDuringUpdate = {};\n\n\t\t\tfor (var i = 0; i < tweenIds.length; i++) {\n\n\t\t\t\tvar tween = this._tweens[tweenIds[i]];\n\n\t\t\t\tif (tween && tween.update(time) === false) {\n\t\t\t\t\ttween._isPlaying = false;\n\n\t\t\t\t\tif (!preserve) {\n\t\t\t\t\t\tdelete this._tweens[tweenIds[i]];\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\n\t\t\ttweenIds = Object.keys(this._tweensAddedDuringUpdate);\n\t\t}\n\n\t\treturn true;\n\n\t}\n};\n\nvar TWEEN = new _Group();\n\nTWEEN.Group = _Group;\nTWEEN._nextId = 0;\nTWEEN.nextId = function () {\n\treturn TWEEN._nextId++;\n};\n\n\n// Include a performance.now polyfill.\n// In node.js, use process.hrtime.\nif (typeof (self) === 'undefined' && typeof (process) !== 'undefined' && process.hrtime) {\n\tTWEEN.now = function () {\n\t\tvar time = process.hrtime();\n\n\t\t// Convert [seconds, nanoseconds] to milliseconds.\n\t\treturn time[0] * 1000 + time[1] / 1000000;\n\t};\n}\n// In a browser, use self.performance.now if it is available.\nelse if (typeof (self) !== 'undefined' &&\n         self.performance !== undefined &&\n\t\t self.performance.now !== undefined) {\n\t// This must be bound, because directly assigning this function\n\t// leads to an invocation exception in Chrome.\n\tTWEEN.now = self.performance.now.bind(self.performance);\n}\n// Use Date.now if it is available.\nelse if (Date.now !== undefined) {\n\tTWEEN.now = Date.now;\n}\n// Otherwise, use 'new Date().getTime()'.\nelse {\n\tTWEEN.now = function () {\n\t\treturn new Date().getTime();\n\t};\n}\n\n\nTWEEN.Tween = function (object, group) {\n\tthis._object = object;\n\tthis._valuesStart = {};\n\tthis._valuesEnd = {};\n\tthis._valuesStartRepeat = {};\n\tthis._duration = 1000;\n\tthis._repeat = 0;\n\tthis._repeatDelayTime = undefined;\n\tthis._yoyo = false;\n\tthis._isPlaying = false;\n\tthis._reversed = false;\n\tthis._delayTime = 0;\n\tthis._startTime = null;\n\tthis._easingFunction = TWEEN.Easing.Linear.None;\n\tthis._interpolationFunction = TWEEN.Interpolation.Linear;\n\tthis._chainedTweens = [];\n\tthis._onStartCallback = null;\n\tthis._onStartCallbackFired = false;\n\tthis._onUpdateCallback = null;\n\tthis._onRepeatCallback = null;\n\tthis._onCompleteCallback = null;\n\tthis._onStopCallback = null;\n\tthis._group = group || TWEEN;\n\tthis._id = TWEEN.nextId();\n\n};\n\nTWEEN.Tween.prototype = {\n\tgetId: function () {\n\t\treturn this._id;\n\t},\n\n\tisPlaying: function () {\n\t\treturn this._isPlaying;\n\t},\n\n\tto: function (properties, duration) {\n\n\t\tthis._valuesEnd = properties;\n\n\t\tif (duration !== undefined) {\n\t\t\tthis._duration = duration;\n\t\t}\n\n\t\treturn this;\n\n\t},\n\n\tduration: function duration(d) {\n\t\tthis._duration = d;\n\t\treturn this;\n\t},\n\n\tstart: function (time) {\n\n\t\tthis._group.add(this);\n\n\t\tthis._isPlaying = true;\n\n\t\tthis._onStartCallbackFired = false;\n\n\t\tthis._startTime = time !== undefined ? typeof time === 'string' ? TWEEN.now() + parseFloat(time) : time : TWEEN.now();\n\t\tthis._startTime += this._delayTime;\n\n\t\tfor (var property in this._valuesEnd) {\n\n\t\t\t// Check if an Array was provided as property value\n\t\t\tif (this._valuesEnd[property] instanceof Array) {\n\n\t\t\t\tif (this._valuesEnd[property].length === 0) {\n\t\t\t\t\tcontinue;\n\t\t\t\t}\n\n\t\t\t\t// Create a local copy of the Array with the start value at the front\n\t\t\t\tthis._valuesEnd[property] = [this._object[property]].concat(this._valuesEnd[property]);\n\n\t\t\t}\n\n\t\t\t// If `to()` specifies a property that doesn't exist in the source object,\n\t\t\t// we should not set that property in the object\n\t\t\tif (this._object[property] === undefined) {\n\t\t\t\tcontinue;\n\t\t\t}\n\n\t\t\t// Save the starting value.\n\t\t\tthis._valuesStart[property] = this._object[property];\n\n\t\t\tif ((this._valuesStart[property] instanceof Array) === false) {\n\t\t\t\tthis._valuesStart[property] *= 1.0; // Ensures we're using numbers, not strings\n\t\t\t}\n\n\t\t\tthis._valuesStartRepeat[property] = this._valuesStart[property] || 0;\n\n\t\t}\n\n\t\treturn this;\n\n\t},\n\n\tstop: function () {\n\n\t\tif (!this._isPlaying) {\n\t\t\treturn this;\n\t\t}\n\n\t\tthis._group.remove(this);\n\t\tthis._isPlaying = false;\n\n\t\tif (this._onStopCallback !== null) {\n\t\t\tthis._onStopCallback(this._object);\n\t\t}\n\n\t\tthis.stopChainedTweens();\n\t\treturn this;\n\n\t},\n\n\tend: function () {\n\n\t\tthis.update(Infinity);\n\t\treturn this;\n\n\t},\n\n\tstopChainedTweens: function () {\n\n\t\tfor (var i = 0, numChainedTweens = this._chainedTweens.length; i < numChainedTweens; i++) {\n\t\t\tthis._chainedTweens[i].stop();\n\t\t}\n\n\t},\n\n\tgroup: function (group) {\n\t\tthis._group = group;\n\t\treturn this;\n\t},\n\n\tdelay: function (amount) {\n\n\t\tthis._delayTime = amount;\n\t\treturn this;\n\n\t},\n\n\trepeat: function (times) {\n\n\t\tthis._repeat = times;\n\t\treturn this;\n\n\t},\n\n\trepeatDelay: function (amount) {\n\n\t\tthis._repeatDelayTime = amount;\n\t\treturn this;\n\n\t},\n\n\tyoyo: function (yoyo) {\n\n\t\tthis._yoyo = yoyo;\n\t\treturn this;\n\n\t},\n\n\teasing: function (easingFunction) {\n\n\t\tthis._easingFunction = easingFunction;\n\t\treturn this;\n\n\t},\n\n\tinterpolation: function (interpolationFunction) {\n\n\t\tthis._interpolationFunction = interpolationFunction;\n\t\treturn this;\n\n\t},\n\n\tchain: function () {\n\n\t\tthis._chainedTweens = arguments;\n\t\treturn this;\n\n\t},\n\n\tonStart: function (callback) {\n\n\t\tthis._onStartCallback = callback;\n\t\treturn this;\n\n\t},\n\n\tonUpdate: function (callback) {\n\n\t\tthis._onUpdateCallback = callback;\n\t\treturn this;\n\n\t},\n\n\tonRepeat: function onRepeat(callback) {\n\n\t\tthis._onRepeatCallback = callback;\n\t\treturn this;\n\n\t},\n\n\tonComplete: function (callback) {\n\n\t\tthis._onCompleteCallback = callback;\n\t\treturn this;\n\n\t},\n\n\tonStop: function (callback) {\n\n\t\tthis._onStopCallback = callback;\n\t\treturn this;\n\n\t},\n\n\tupdate: function (time) {\n\n\t\tvar property;\n\t\tvar elapsed;\n\t\tvar value;\n\n\t\tif (time < this._startTime) {\n\t\t\treturn true;\n\t\t}\n\n\t\tif (this._onStartCallbackFired === false) {\n\n\t\t\tif (this._onStartCallback !== null) {\n\t\t\t\tthis._onStartCallback(this._object);\n\t\t\t}\n\n\t\t\tthis._onStartCallbackFired = true;\n\t\t}\n\n\t\telapsed = (time - this._startTime) / this._duration;\n\t\telapsed = (this._duration === 0 || elapsed > 1) ? 1 : elapsed;\n\n\t\tvalue = this._easingFunction(elapsed);\n\n\t\tfor (property in this._valuesEnd) {\n\n\t\t\t// Don't update properties that do not exist in the source object\n\t\t\tif (this._valuesStart[property] === undefined) {\n\t\t\t\tcontinue;\n\t\t\t}\n\n\t\t\tvar start = this._valuesStart[property] || 0;\n\t\t\tvar end = this._valuesEnd[property];\n\n\t\t\tif (end instanceof Array) {\n\n\t\t\t\tthis._object[property] = this._interpolationFunction(end, value);\n\n\t\t\t} else {\n\n\t\t\t\t// Parses relative end values with start as base (e.g.: +10, -3)\n\t\t\t\tif (typeof (end) === 'string') {\n\n\t\t\t\t\tif (end.charAt(0) === '+' || end.charAt(0) === '-') {\n\t\t\t\t\t\tend = start + parseFloat(end);\n\t\t\t\t\t} else {\n\t\t\t\t\t\tend = parseFloat(end);\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\t// Protect against non numeric properties.\n\t\t\t\tif (typeof (end) === 'number') {\n\t\t\t\t\tthis._object[property] = start + (end - start) * value;\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t}\n\n\t\tif (this._onUpdateCallback !== null) {\n\t\t\tthis._onUpdateCallback(this._object, elapsed);\n\t\t}\n\n\t\tif (elapsed === 1) {\n\n\t\t\tif (this._repeat > 0) {\n\n\t\t\t\tif (isFinite(this._repeat)) {\n\t\t\t\t\tthis._repeat--;\n\t\t\t\t}\n\n\t\t\t\t// Reassign starting values, restart by making startTime = now\n\t\t\t\tfor (property in this._valuesStartRepeat) {\n\n\t\t\t\t\tif (typeof (this._valuesEnd[property]) === 'string') {\n\t\t\t\t\t\tthis._valuesStartRepeat[property] = this._valuesStartRepeat[property] + parseFloat(this._valuesEnd[property]);\n\t\t\t\t\t}\n\n\t\t\t\t\tif (this._yoyo) {\n\t\t\t\t\t\tvar tmp = this._valuesStartRepeat[property];\n\n\t\t\t\t\t\tthis._valuesStartRepeat[property] = this._valuesEnd[property];\n\t\t\t\t\t\tthis._valuesEnd[property] = tmp;\n\t\t\t\t\t}\n\n\t\t\t\t\tthis._valuesStart[property] = this._valuesStartRepeat[property];\n\n\t\t\t\t}\n\n\t\t\t\tif (this._yoyo) {\n\t\t\t\t\tthis._reversed = !this._reversed;\n\t\t\t\t}\n\n\t\t\t\tif (this._repeatDelayTime !== undefined) {\n\t\t\t\t\tthis._startTime = time + this._repeatDelayTime;\n\t\t\t\t} else {\n\t\t\t\t\tthis._startTime = time + this._delayTime;\n\t\t\t\t}\n\n\t\t\t\tif (this._onRepeatCallback !== null) {\n\t\t\t\t\tthis._onRepeatCallback(this._object);\n\t\t\t\t}\n\n\t\t\t\treturn true;\n\n\t\t\t} else {\n\n\t\t\t\tif (this._onCompleteCallback !== null) {\n\n\t\t\t\t\tthis._onCompleteCallback(this._object);\n\t\t\t\t}\n\n\t\t\t\tfor (var i = 0, numChainedTweens = this._chainedTweens.length; i < numChainedTweens; i++) {\n\t\t\t\t\t// Make the chained tweens start exactly at the time they should,\n\t\t\t\t\t// even if the `update()` method was called way past the duration of the tween\n\t\t\t\t\tthis._chainedTweens[i].start(this._startTime + this._duration);\n\t\t\t\t}\n\n\t\t\t\treturn false;\n\n\t\t\t}\n\n\t\t}\n\n\t\treturn true;\n\n\t}\n};\n\n\nTWEEN.Easing = {\n\n\tLinear: {\n\n\t\tNone: function (k) {\n\n\t\t\treturn k;\n\n\t\t}\n\n\t},\n\n\tQuadratic: {\n\n\t\tIn: function (k) {\n\n\t\t\treturn k * k;\n\n\t\t},\n\n\t\tOut: function (k) {\n\n\t\t\treturn k * (2 - k);\n\n\t\t},\n\n\t\tInOut: function (k) {\n\n\t\t\tif ((k *= 2) < 1) {\n\t\t\t\treturn 0.5 * k * k;\n\t\t\t}\n\n\t\t\treturn - 0.5 * (--k * (k - 2) - 1);\n\n\t\t}\n\n\t},\n\n\tCubic: {\n\n\t\tIn: function (k) {\n\n\t\t\treturn k * k * k;\n\n\t\t},\n\n\t\tOut: function (k) {\n\n\t\t\treturn --k * k * k + 1;\n\n\t\t},\n\n\t\tInOut: function (k) {\n\n\t\t\tif ((k *= 2) < 1) {\n\t\t\t\treturn 0.5 * k * k * k;\n\t\t\t}\n\n\t\t\treturn 0.5 * ((k -= 2) * k * k + 2);\n\n\t\t}\n\n\t},\n\n\tQuartic: {\n\n\t\tIn: function (k) {\n\n\t\t\treturn k * k * k * k;\n\n\t\t},\n\n\t\tOut: function (k) {\n\n\t\t\treturn 1 - (--k * k * k * k);\n\n\t\t},\n\n\t\tInOut: function (k) {\n\n\t\t\tif ((k *= 2) < 1) {\n\t\t\t\treturn 0.5 * k * k * k * k;\n\t\t\t}\n\n\t\t\treturn - 0.5 * ((k -= 2) * k * k * k - 2);\n\n\t\t}\n\n\t},\n\n\tQuintic: {\n\n\t\tIn: function (k) {\n\n\t\t\treturn k * k * k * k * k;\n\n\t\t},\n\n\t\tOut: function (k) {\n\n\t\t\treturn --k * k * k * k * k + 1;\n\n\t\t},\n\n\t\tInOut: function (k) {\n\n\t\t\tif ((k *= 2) < 1) {\n\t\t\t\treturn 0.5 * k * k * k * k * k;\n\t\t\t}\n\n\t\t\treturn 0.5 * ((k -= 2) * k * k * k * k + 2);\n\n\t\t}\n\n\t},\n\n\tSinusoidal: {\n\n\t\tIn: function (k) {\n\n\t\t\treturn 1 - Math.cos(k * Math.PI / 2);\n\n\t\t},\n\n\t\tOut: function (k) {\n\n\t\t\treturn Math.sin(k * Math.PI / 2);\n\n\t\t},\n\n\t\tInOut: function (k) {\n\n\t\t\treturn 0.5 * (1 - Math.cos(Math.PI * k));\n\n\t\t}\n\n\t},\n\n\tExponential: {\n\n\t\tIn: function (k) {\n\n\t\t\treturn k === 0 ? 0 : Math.pow(1024, k - 1);\n\n\t\t},\n\n\t\tOut: function (k) {\n\n\t\t\treturn k === 1 ? 1 : 1 - Math.pow(2, - 10 * k);\n\n\t\t},\n\n\t\tInOut: function (k) {\n\n\t\t\tif (k === 0) {\n\t\t\t\treturn 0;\n\t\t\t}\n\n\t\t\tif (k === 1) {\n\t\t\t\treturn 1;\n\t\t\t}\n\n\t\t\tif ((k *= 2) < 1) {\n\t\t\t\treturn 0.5 * Math.pow(1024, k - 1);\n\t\t\t}\n\n\t\t\treturn 0.5 * (- Math.pow(2, - 10 * (k - 1)) + 2);\n\n\t\t}\n\n\t},\n\n\tCircular: {\n\n\t\tIn: function (k) {\n\n\t\t\treturn 1 - Math.sqrt(1 - k * k);\n\n\t\t},\n\n\t\tOut: function (k) {\n\n\t\t\treturn Math.sqrt(1 - (--k * k));\n\n\t\t},\n\n\t\tInOut: function (k) {\n\n\t\t\tif ((k *= 2) < 1) {\n\t\t\t\treturn - 0.5 * (Math.sqrt(1 - k * k) - 1);\n\t\t\t}\n\n\t\t\treturn 0.5 * (Math.sqrt(1 - (k -= 2) * k) + 1);\n\n\t\t}\n\n\t},\n\n\tElastic: {\n\n\t\tIn: function (k) {\n\n\t\t\tif (k === 0) {\n\t\t\t\treturn 0;\n\t\t\t}\n\n\t\t\tif (k === 1) {\n\t\t\t\treturn 1;\n\t\t\t}\n\n\t\t\treturn -Math.pow(2, 10 * (k - 1)) * Math.sin((k - 1.1) * 5 * Math.PI);\n\n\t\t},\n\n\t\tOut: function (k) {\n\n\t\t\tif (k === 0) {\n\t\t\t\treturn 0;\n\t\t\t}\n\n\t\t\tif (k === 1) {\n\t\t\t\treturn 1;\n\t\t\t}\n\n\t\t\treturn Math.pow(2, -10 * k) * Math.sin((k - 0.1) * 5 * Math.PI) + 1;\n\n\t\t},\n\n\t\tInOut: function (k) {\n\n\t\t\tif (k === 0) {\n\t\t\t\treturn 0;\n\t\t\t}\n\n\t\t\tif (k === 1) {\n\t\t\t\treturn 1;\n\t\t\t}\n\n\t\t\tk *= 2;\n\n\t\t\tif (k < 1) {\n\t\t\t\treturn -0.5 * Math.pow(2, 10 * (k - 1)) * Math.sin((k - 1.1) * 5 * Math.PI);\n\t\t\t}\n\n\t\t\treturn 0.5 * Math.pow(2, -10 * (k - 1)) * Math.sin((k - 1.1) * 5 * Math.PI) + 1;\n\n\t\t}\n\n\t},\n\n\tBack: {\n\n\t\tIn: function (k) {\n\n\t\t\tvar s = 1.70158;\n\n\t\t\treturn k * k * ((s + 1) * k - s);\n\n\t\t},\n\n\t\tOut: function (k) {\n\n\t\t\tvar s = 1.70158;\n\n\t\t\treturn --k * k * ((s + 1) * k + s) + 1;\n\n\t\t},\n\n\t\tInOut: function (k) {\n\n\t\t\tvar s = 1.70158 * 1.525;\n\n\t\t\tif ((k *= 2) < 1) {\n\t\t\t\treturn 0.5 * (k * k * ((s + 1) * k - s));\n\t\t\t}\n\n\t\t\treturn 0.5 * ((k -= 2) * k * ((s + 1) * k + s) + 2);\n\n\t\t}\n\n\t},\n\n\tBounce: {\n\n\t\tIn: function (k) {\n\n\t\t\treturn 1 - TWEEN.Easing.Bounce.Out(1 - k);\n\n\t\t},\n\n\t\tOut: function (k) {\n\n\t\t\tif (k < (1 / 2.75)) {\n\t\t\t\treturn 7.5625 * k * k;\n\t\t\t} else if (k < (2 / 2.75)) {\n\t\t\t\treturn 7.5625 * (k -= (1.5 / 2.75)) * k + 0.75;\n\t\t\t} else if (k < (2.5 / 2.75)) {\n\t\t\t\treturn 7.5625 * (k -= (2.25 / 2.75)) * k + 0.9375;\n\t\t\t} else {\n\t\t\t\treturn 7.5625 * (k -= (2.625 / 2.75)) * k + 0.984375;\n\t\t\t}\n\n\t\t},\n\n\t\tInOut: function (k) {\n\n\t\t\tif (k < 0.5) {\n\t\t\t\treturn TWEEN.Easing.Bounce.In(k * 2) * 0.5;\n\t\t\t}\n\n\t\t\treturn TWEEN.Easing.Bounce.Out(k * 2 - 1) * 0.5 + 0.5;\n\n\t\t}\n\n\t}\n\n};\n\nTWEEN.Interpolation = {\n\n\tLinear: function (v, k) {\n\n\t\tvar m = v.length - 1;\n\t\tvar f = m * k;\n\t\tvar i = Math.floor(f);\n\t\tvar fn = TWEEN.Interpolation.Utils.Linear;\n\n\t\tif (k < 0) {\n\t\t\treturn fn(v[0], v[1], f);\n\t\t}\n\n\t\tif (k > 1) {\n\t\t\treturn fn(v[m], v[m - 1], m - f);\n\t\t}\n\n\t\treturn fn(v[i], v[i + 1 > m ? m : i + 1], f - i);\n\n\t},\n\n\tBezier: function (v, k) {\n\n\t\tvar b = 0;\n\t\tvar n = v.length - 1;\n\t\tvar pw = Math.pow;\n\t\tvar bn = TWEEN.Interpolation.Utils.Bernstein;\n\n\t\tfor (var i = 0; i <= n; i++) {\n\t\t\tb += pw(1 - k, n - i) * pw(k, i) * v[i] * bn(n, i);\n\t\t}\n\n\t\treturn b;\n\n\t},\n\n\tCatmullRom: function (v, k) {\n\n\t\tvar m = v.length - 1;\n\t\tvar f = m * k;\n\t\tvar i = Math.floor(f);\n\t\tvar fn = TWEEN.Interpolation.Utils.CatmullRom;\n\n\t\tif (v[0] === v[m]) {\n\n\t\t\tif (k < 0) {\n\t\t\t\ti = Math.floor(f = m * (1 + k));\n\t\t\t}\n\n\t\t\treturn fn(v[(i - 1 + m) % m], v[i], v[(i + 1) % m], v[(i + 2) % m], f - i);\n\n\t\t} else {\n\n\t\t\tif (k < 0) {\n\t\t\t\treturn v[0] - (fn(v[0], v[0], v[1], v[1], -f) - v[0]);\n\t\t\t}\n\n\t\t\tif (k > 1) {\n\t\t\t\treturn v[m] - (fn(v[m], v[m], v[m - 1], v[m - 1], f - m) - v[m]);\n\t\t\t}\n\n\t\t\treturn fn(v[i ? i - 1 : 0], v[i], v[m < i + 1 ? m : i + 1], v[m < i + 2 ? m : i + 2], f - i);\n\n\t\t}\n\n\t},\n\n\tUtils: {\n\n\t\tLinear: function (p0, p1, t) {\n\n\t\t\treturn (p1 - p0) * t + p0;\n\n\t\t},\n\n\t\tBernstein: function (n, i) {\n\n\t\t\tvar fc = TWEEN.Interpolation.Utils.Factorial;\n\n\t\t\treturn fc(n) / fc(i) / fc(n - i);\n\n\t\t},\n\n\t\tFactorial: (function () {\n\n\t\t\tvar a = [1];\n\n\t\t\treturn function (n) {\n\n\t\t\t\tvar s = 1;\n\n\t\t\t\tif (a[n]) {\n\t\t\t\t\treturn a[n];\n\t\t\t\t}\n\n\t\t\t\tfor (var i = n; i > 1; i--) {\n\t\t\t\t\ts *= i;\n\t\t\t\t}\n\n\t\t\t\ta[n] = s;\n\t\t\t\treturn s;\n\n\t\t\t};\n\n\t\t})(),\n\n\t\tCatmullRom: function (p0, p1, p2, p3, t) {\n\n\t\t\tvar v0 = (p2 - p0) * 0.5;\n\t\t\tvar v1 = (p3 - p1) * 0.5;\n\t\t\tvar t2 = t * t;\n\t\t\tvar t3 = t * t2;\n\n\t\t\treturn (2 * p1 - 2 * p2 + v0 + v1) * t3 + (- 3 * p1 + 3 * p2 - 2 * v0 - v1) * t2 + v0 * t + p1;\n\n\t\t}\n\n\t}\n\n};\n\n// UMD (Universal Module Definition)\n(function (root) {\n\n\tif (typeof define === 'function' && define.amd) {\n\n\t\t// AMD\n\t\tdefine([], function () {\n\t\t\treturn TWEEN;\n\t\t});\n\n\t} else if (typeof module !== 'undefined' && typeof exports === 'object') {\n\n\t\t// Node.js\n\t\tmodule.exports = TWEEN;\n\n\t} else if (root !== undefined) {\n\n\t\t// Global variable\n\t\troot.TWEEN = TWEEN;\n\n\t}\n\n})(this);\n","import { View, ViewStyle } from './View'\nimport Swiper from '../../common/swiper'\nimport { nodeObserver } from '../../common/utils'\nimport { styleTransformer } from '../../common/style'\nimport Tween from \"@tweenjs/tween.js\"\nexport interface ViewPagerStyle extends ViewStyle {\n  width?: string | number\n  height?: string | number\n  itemSpacing?: number\n  edgeSpacing?: number\n  canLoop?: boolean\n  autoPlay?: boolean\n  loopInterval?: number,\n  borderRadius?: string | number,\n  scaleFactor?: number,\n  alphaFactor?: number\n}\n\nexport class ViewPager extends View {\n  protected _style: ViewPagerStyle\n  _data: Array<any> = []\n  itemViews!: Array<View>\n  itemViewsArray!: Array<any>\n  listeners: { [key: string]: Array<any> }\n  private swiper: any\n  private observe: any\n  private wrapper: Element\n  private activeProgress: number\n  private endProgress: number\n  private tween: any\n  private swipeDirection: any\n  // swiperFrame\n  constructor() {\n    super()\n    this.wrapper = document.createElement('div');\n    this.wrapper.classList.add('swiper-wrapper')\n    this.node.appendChild(this.wrapper)\n    // @ts-ignore\n    this._style = this._style = new Proxy(this._style, {\n      get: (target, key) => {\n        switch (key) {\n          case 'edgeSpacing':\n          case 'borderRadius':\n          case 'itemSpacing':\n          case 'loopInterval':\n            return target[key] || this.node.style[key] || 0\n          case 'scaleFactor':\n            return target[key] || this.node.style[key] || (this.style.edgeSpacing > 0 ? 0.85 : 1)\n          case 'alphaFactor':\n            return target[key] || this.node.style[key] || (this.style.edgeSpacing > 0 ? 0.5 : 1)\n          case 'canLoop':\n          case 'autoPlay':\n            return target[key] || this.node.style[key] || false\n          default:\n            return target[key] || this.node.style[key]\n        }\n      },\n      set: (target, key, value) => {\n        // 设置style\n        // @ts-ignore\n        target[key] = value\n        switch (key) {\n          case 'canLoop':\n            this.swiper && (this.swiper.params.loop = value, this.swiper.update());\n            break\n          case 'autoPlay':\n            this.swiper && (value ? (this.swiper.params.autoplay = {\n              delay: this.style.loopInterval,\n              stopOnLastSlide: false,\n              disableOnInteraction: false,\n            }, this.swiper.update(), this.swiper.autoplay.start()) : this.swiper.autoplay.running && this.swiper.autoplay.stop());\n            break\n          case 'loopInterval':\n            this.swiper && this.style.autoPlay && (this.swiper.params.autoplay = {\n              delay: value,\n              stopOnLastSlide: false,\n              disableOnInteraction: false,\n            }, this.swiper.update())\n            break\n        }\n        return true\n      }\n    })\n    this._data = new Proxy(this._data, {\n      get: (target, key) => {\n        return Reflect.get(target, key);\n      },\n      set: (target, key, value) => {\n        Reflect.set(target, key, value);\n        if (this.listeners['onItemView'] && this.listeners['onItemView'].length > 0) {\n          this.listeners['onItemView'].forEach(listener => {\n            this.wrapper.innerHTML = ''\n            for (let index = 0; index < this._data.length; index++) {\n              // @ts-ignore\n              let element: View = listener(index, this._data[index]) || false\n              this._data[index] && (this._data[index] = element)\n              if (element) {\n                element.node.classList.add('swiper-slide')\n                element.node.style.width = `calc(100% - ${this.style.edgeSpacing * 2}px)`\n                this.wrapper.appendChild(element.node)\n              }\n            }\n          })\n          if (this.node.offsetWidth) {\n            this.init();\n          }\n        }\n        return true;\n      }\n    })\n    this.observe = nodeObserver(this.node, () => {\n      if (this.node.offsetWidth) {\n        this.init();\n        this.observe.unobserve(this.node);\n      }\n    })\n  }\n\n  init() {\n    let initSuccess = false\n    let that = this;\n    let translateX = (this.node.offsetWidth - this.style.edgeSpacing * 2) * (this.style.scaleFactor) + (this.node.offsetWidth - this.style.edgeSpacing * 2) * ((1 - (this.style.scaleFactor)) / 2) + this.style.itemSpacing;\n    let transitionFlag = false;\n    this.swiper = new Swiper(this.node, {\n      loop: this.style.canLoop, // 是否可以无限循环\n      autoplay: this.style.autoPlay ? {\n        delay: this.style.loopInterval,\n        stopOnLastSlide: false,\n        disableOnInteraction: false,\n      } : false,\n      observer: true,\n      observeParents: true,\n      watchSlidesProgress: true,\n      spaceBetween: this.style.itemSpacing as number,\n      centeredSlides: true,\n      mousewheel: true,\n      loopedSlides: 2,\n      slidesPerView: \"auto\",\n      effect: \"creative\",\n      creativeEffect: {\n        limitProgress: 2,\n        prev: {\n          translate: [-translateX, 0, 0],\n          scale: this.style.scaleFactor,\n          opacity: this.style.alphaFactor\n        },\n        next: {\n          translate: [translateX, 0, 0],\n          scale: this.style.scaleFactor,\n          opacity: this.style.alphaFactor\n        }\n      },\n      on: {\n        slideChange: function (swiper) {\n          if (initSuccess) {\n            if (that.listeners['onPageChange'] && that.listeners['onPageChange'].length > 0) {\n              that.listeners['onPageChange'].forEach(listener => listener(this.realIndex, that.data.length))\n            }\n          }\n        },\n        tap: function (swiper, event) {\n          if (that.listeners['onItemClick'] && that.listeners['onItemClick'].length > 0) {\n            that.listeners['onItemClick'].forEach(listener => listener(this.realIndex))\n          }\n        },\n        slidePrevTransitionStart: function (swiper) {\n          that.swipeDirection = 'prev'\n        },\n        slideNextTransitionStart: function (swiper) {\n          that.swipeDirection = 'next'\n        },\n        transitionStart: function (swiper) {\n          if (initSuccess) {\n            if (that.listeners['onPageScrollStateChange'] && that.listeners['onPageScrollStateChange'].length > 0) {\n              that.listeners['onPageScrollStateChange'].forEach(listener => listener(2))\n            }\n            let previousIndex = parseInt(swiper?.slides[swiper.previousIndex]?.dataset?.swiperSlideIndex)\n            swiper.realIndex === previousIndex && (that.swipeDirection = 'invariant')\n            that.tween = new Tween.Tween({\n              number: transitionFlag ? that.activeProgress : previousIndex\n            }).to({\n              number: that.endProgress >= 1 ? that.endProgress : (that.swipeDirection === 'next' ? Math.ceil(that.activeProgress) : Math.floor(that.activeProgress))\n            }, 300).onUpdate(tween => {\n              let progress\n              if (tween.number >= 1) {\n                progress = tween.number - Math.floor(tween.number)\n              } else {\n                progress = tween.number\n              }\n              if (that.listeners['onPageScroll'] && that.listeners['onPageScroll'].length > 0) {\n                that.listeners['onPageScroll'].forEach(listener => listener(swiper.realIndex, progress))\n              }\n            }).start();\n            function animate() {\n              if (Tween.update()) {\n                requestAnimationFrame(animate);\n              }\n            }\n            animate()\n          }\n        },\n        transitionEnd: function (swiper) {\n          if (initSuccess) {\n            if (that.listeners['onPageScrollStateChange'] && that.listeners['onPageScrollStateChange'].length > 0) {\n              that.listeners['onPageScrollStateChange'].forEach(listener => listener(0))\n            }\n            transitionFlag = false;\n          }\n        },\n        sliderMove: function (swiper, event) {\n          if (initSuccess) {\n            that.tween && Tween.remove(that.tween);\n            if (!transitionFlag) {\n              transitionFlag = true;\n              if (that.listeners['onPageScrollStateChange'] && that.listeners['onPageScrollStateChange'].length > 0) {\n                that.listeners['onPageScrollStateChange'].forEach(listener => listener(1))\n              }\n            }\n          }\n        },\n        touchEnd: function (swiper, event) {\n          if (initSuccess) {\n            let activeProgress\n            if (swiper.slides[swiper.activeIndex].progress >= 0) {\n              activeProgress = swiper.slides[swiper.activeIndex].progress\n            } else {\n              activeProgress = 1 + swiper.slides[swiper.activeIndex].progress\n            }\n            activeProgress !== 0 && (that.activeProgress = activeProgress)\n          }\n        },\n        progress: function (swiper, progress) {\n          if (initSuccess) {\n            let activeProgress\n            if (swiper.slides.length <= 0) {\n              return;\n            }\n            if (swiper.slides[swiper.activeIndex].progress >= 0) {\n              activeProgress = swiper.slides[swiper.activeIndex].progress\n            } else {\n              activeProgress = 1 + swiper.slides[swiper.activeIndex].progress\n            }\n            if (!/^-?\\d+$/.test(activeProgress)) {\n              if (that.listeners['onPageScroll'] && that.listeners['onPageScroll'].length > 0) {\n                that.listeners['onPageScroll'].forEach(listener => listener(swiper.realIndex, activeProgress))\n              }\n            }\n            that.endProgress = activeProgress\n          }\n        },\n      },\n    })\n    initSuccess = true\n  }\n\n  protected defaultStyle() {\n    this.node.classList.add('hm-view-pager')\n  }\n\n  protected createNode() {\n    this.node = document.createElement('div')\n  }\n\n  get style() {\n    return this._style\n  }\n\n  set style(_style: ViewPagerStyle) {\n    let deepStyle = JSON.parse(JSON.stringify(_style))\n    let standardStyle = styleTransformer.transformStyle(deepStyle);\n    this._style = Object.assign(this._style, standardStyle)\n  }\n  get data() {\n    return this._data\n  }\n  set data(_data: Array<any>) {\n    this._data.length = _data.length\n  }\n\n  onItemView(callback) {\n    if (!this.listeners['onItemView']) {\n      this.listeners['onItemView'] = []\n    }\n    this.listeners['onItemView'].push(callback)\n  }\n  onPageScroll(callback: any) {\n    if (!this.listeners['onPageScroll']) {\n      this.listeners['onPageScroll'] = []\n    }\n    this.listeners['onPageScroll'].push(callback)\n  }\n  onPageScrollStateChange(callback: any) {\n    if (!this.listeners['onPageScrollStateChange']) {\n      this.listeners['onPageScrollStateChange'] = []\n    }\n    this.listeners['onPageScrollStateChange'].push(callback)\n  }\n  onPageChange(callback: any) {\n    if (!this.listeners['onPageChange']) {\n      this.listeners['onPageChange'] = []\n    }\n    this.listeners['onPageChange'].push(callback)\n  }\n\n  onItemClick(callback: any) {\n    if (!this.listeners['onItemClick']) {\n      this.listeners['onItemClick'] = []\n    }\n    this.listeners['onItemClick'].push(callback)\n  }\n\n  setCurrentItem(position: number) {\n    this.style.canLoop ? this.swiper.slideToLoop(position) : this.swiper.slideTo(position)\n  }\n}\n","import { View, ViewStyle } from './View'\nimport { formatWebPureNumberPxUnit, formatPureNumberPxUnit } from '../../common/utils'\nexport interface CanvasStyle extends ViewStyle { }\n\nexport class CanvasView extends View {\n    protected _style: CanvasStyle\n    private ctx: any\n    private textFillStyle: string = '#000000'\n    private fillStyle: string = '#000000'\n    private resolution!: number\n    constructor() {\n        super()\n        this._style = new Proxy(this._style, {\n            get: (target, key) => {\n                // 获取style\n                return target[key] || this.node.style[key]\n            },\n            set: (target, key, value) => {\n                // 设置style\n                // @ts-ignore\n                target[key] = value\n                switch (key) {\n                    case 'width':\n                        this.node.style[key] = value\n                        if (value.indexOf('%') !== -1) {\n                            console.error('canvas宽高不支持设置百分比')\n                        }\n                        this.node.width = formatWebPureNumberPxUnit(value) * this.resolution\n                        break\n                    case 'height':\n                        this.node.style[key] = value\n                        if (value.indexOf('%') !== -1) {\n                            console.error('canvas宽高不支持设置百分比')\n                        }\n                        this.node.height = formatWebPureNumberPxUnit(value) * this.resolution\n                        break\n                }\n                return true\n            }\n        })\n    }\n    protected createNode() {\n        this.node = document.createElement('canvas')\n        this.resolution = window.devicePixelRatio\n        this.ctx = this.node.getContext('2d');\n    }\n    /**\n    * 设置stroke的线粗细\n    * @param widthValue 粗细值，支持px，hm 单位， 如果不写单位就是dp\n    */\n    lineWidth(widthValue) {\n        this.ctx.lineWidth = formatPureNumberPxUnit(widthValue)\n    }\n    /**\n     * 设置线头样式\n     * @param value 0 : LineCapButt, ， 1:LineCapRound   2:LineCapSquare\n     */\n    lineCap(value) {\n        switch (value) {\n            case 0:\n                this.ctx.lineCap = 'butt'\n                break;\n            case 1:\n                this.ctx.lineCap = 'round'\n                break;\n            case 2:\n                this.ctx.lineCap = 'square'\n                break;\n            default:\n                this.ctx.lineCap = 'butt'\n                break;\n        }\n    }\n    /**\n     * 设置折线折点样式\n     * @param value 0 : LineJoinMiter, ， 1: LineJoinRound  2:LineJoinBevel\n     */\n    lineJoin(value) {\n        switch (value) {\n            case 0:\n                this.ctx.lineCap = 'miter'\n                break;\n            case 1:\n                this.ctx.lineCap = 'round'\n                break;\n            case 2:\n                this.ctx.lineCap = 'bevel'\n                break;\n            default:\n                this.ctx.lineCap = 'miter'\n                break;\n        }\n    }\n    /**\n     * 设置stroke的线颜色\n     * @param colorHex 色值\n     */\n    lineColor(colorHex) {\n        this.ctx.strokeStyle = colorHex\n    }\n    /**\n     * 根据入参，在起始点与终点之间画一条线段\n     * @param fromX 起点的x值，支持px，hm 单位， 如果不写单位就是dp\n     * @param fromY 起点的y值，支持px，hm 单位， 如果不写单位就是dp\n     * @param toX 终点的x值，支持px，hm 单位， 如果不写单位就是dp\n     * @param toY 终点的y值，支持px，hm 单位， 如果不写单位就是dp\n     */\n    drawLine(fromX, fromY, toX, toY) {\n        this.ctx.beginPath()\n        this.ctx.moveTo(formatPureNumberPxUnit(fromX) * this.resolution, formatPureNumberPxUnit(fromY) * this.resolution)\n        this.ctx.lineTo(formatPureNumberPxUnit(toX) * this.resolution, formatPureNumberPxUnit(toY) * this.resolution)\n        this.ctx.stroke()\n    }\n    /**\n     * 画矩形\n     * @param x 矩形左上角坐标点的x值，支持px，hm 单位， 如果不写单位就是dp\n     * @param y 矩形左上角坐标点的y值，支持px，hm 单位， 如果不写单位就是dp\n     * @param w 矩形宽，支持px，hm 单位， 如果不写单位就是dp\n     * @param h 矩形高，支持px，hm 单位， 如果不写单位就是dp\n     */\n    strokeRect(x, y, w, h) {\n        this.ctx.beginPath()\n        this.ctx.strokeRect(formatPureNumberPxUnit(x) * this.resolution, formatPureNumberPxUnit(y) * this.resolution, formatPureNumberPxUnit(w) * this.resolution, formatPureNumberPxUnit(h) * this.resolution)\n    }\n    /**\n     * 画椭圆\n     * @param x 椭圆所在矩形左上角坐标点的x值，支持px，hm 单位， 如果不写单位就是dp\n     * @param y 椭圆所在矩形左上角坐标点的y值，支持px，hm 单位， 如果不写单位就是dp\n     * @param trailX 椭圆所在矩形右下角坐标点的x值，支持px，hm 单位， 如果不写单位就是dp\n     * @param trailY 椭圆所在矩形右下角坐标点的y值，支持px，hm 单位， 如果不写单位就是dp\n     */\n    strokeEllipse(x, y, trailX, trailY) {\n        x = formatPureNumberPxUnit(x)\n        y = formatPureNumberPxUnit(y)\n        trailX = formatPureNumberPxUnit(trailX)\n        trailY = formatPureNumberPxUnit(trailY)\n        let centerX = x + (trailX - x) / 2\n        let centerY = y + (trailY - y) / 2\n        let radiusX = (trailX - x) / 2\n        let radiusY = (trailY - y) / 2\n        this.ctx.beginPath()\n        this.ctx.ellipse(centerX * this.resolution, centerY * this.resolution, radiusX * this.resolution, radiusY * this.resolution, 0, 0, 2 * Math.PI)\n        this.ctx.stroke()\n    }\n    /**\n     * 画圆形\n     * @param x 圆心坐标点的x值，支持px，hm 单位， 如果不写单位就是dp\n     * @param y 圆心坐标点的y值，支持px，hm 单位， 如果不写单位就是dp\n     * @param radius 半径 ， 支持px，hm 单位， 如果不写单位就是dp\n     */\n    strokeCircle(x, y, radius) {\n        this.ctx.beginPath()\n        this.ctx.arc(formatPureNumberPxUnit(x) * this.resolution, formatPureNumberPxUnit(y) * this.resolution, formatPureNumberPxUnit(radius) * this.resolution, 0, 2 * Math.PI);\n        this.ctx.stroke();\n        this.ctx.closePath();\n    }\n    /**\n     * 画弧形\n     * @param x 圆心坐标点的x值，支持px，hm 单位， 如果不写单位就是dp\n     * @param y 圆心坐标点的y值，支持px，hm 单位， 如果不写单位就是dp\n     * @param raduis 半径 ， 支持px，hm 单位， 如果不写单位就是dp\n     * @param startAngle 起始弧度 ， \n     * @param endAngle 结束弧度 ，\n     * @param clockwise ture 顺时针 ， false 逆时针\n     */\n    arc(x, y, radius, startAngle, endAngle, clockwise) {\n        this.ctx.beginPath()\n        this.ctx.arc(formatPureNumberPxUnit(x) * this.resolution, formatPureNumberPxUnit(y) * this.resolution, formatPureNumberPxUnit(radius) * this.resolution, startAngle, endAngle, clockwise);\n        this.ctx.stroke();\n    }\n    /**\n     * 设置填充颜色\n     * @param colorHex 颜色16进制\n     */\n    fillColor(colorHex) {\n        this.fillStyle = colorHex\n        this.ctx.fillStyle = this.fillStyle\n        // this.ctx.fill();\n    }\n    /**\n     * 填充矩形\n     * @param x 矩形左上角坐标点的x值，支持px，hm 单位， 如果不写单位就是dp\n     * @param y 矩形左上角坐标点的y值，支持px，hm 单位， 如果不写单位就是dp\n     * @param w 矩形宽，支持px，hm 单位， 如果不写单位就是dp\n     * @param h 矩形高，支持px，hm 单位， 如果不写单位就是dp\n     */\n    fillRect(x, y, w, h) {\n        this.ctx.beginPath()\n        this.fillColor(this.fillStyle || '#000000')\n        this.ctx.fillRect(formatPureNumberPxUnit(x) * this.resolution, formatPureNumberPxUnit(y) * this.resolution, formatPureNumberPxUnit(w) * this.resolution, formatPureNumberPxUnit(h) * this.resolution)\n    }\n    /**\n     * 填充椭圆\n     * @param x 椭圆所在矩形左上角坐标点的x值，支持px，hm 单位， 如果不写单位就是dp\n     * @param y 椭圆所在矩形左上角坐标点的y值，支持px，hm 单位， 如果不写单位就是dp\n     * @param trailX 椭圆所在矩形右下角坐标点的x值，支持px，hm 单位， 如果不写单位就是dp\n     * @param trailY 椭圆所在矩形右下角坐标点的y值，支持px，hm 单位， 如果不写单位就是dp\n     */\n    fillEllipse(x, y, trailX, trailY) {\n        x = formatPureNumberPxUnit(x)\n        y = formatPureNumberPxUnit(y)\n        trailX = formatPureNumberPxUnit(trailX)\n        trailY = formatPureNumberPxUnit(trailY)\n        let centerX = x + (trailX - x) / 2\n        let centerY = y + (trailY - y) / 2\n        let radiusX = (trailX - x) / 2\n        let radiusY = (trailY - y) / 2\n        let lineColor = this.ctx.strokeStyle\n        this.ctx.beginPath()\n        this.lineColor('rgba(0,0,0,0)')\n        this.ctx.ellipse(centerX * this.resolution, centerY * this.resolution, radiusX * this.resolution, radiusY * this.resolution, 0, 0, 2 * Math.PI)\n        this.fillColor(this.fillStyle || '#000000')\n        this.ctx.fill();\n        this.ctx.stroke()\n        this.lineColor(lineColor)\n    }\n    /**\n     * 填充圆形\n     * @param x 圆心坐标点的x值，支持px，hm 单位， 如果不写单位就是dp\n     * @param y 圆心坐标点的y值，支持px，hm 单位， 如果不写单位就是dp\n     * @param raduis 半径 ， 支持px，hm 单位， 如果不写单位就是dp\n     */\n    fillCircle(x, y, radius) {\n        x = formatPureNumberPxUnit(x)\n        y = formatPureNumberPxUnit(y)\n        radius = formatPureNumberPxUnit(radius)\n        let lineColor = this.ctx.strokeStyle\n        this.ctx.beginPath()\n        this.lineColor('rgba(0,0,0,0)')\n        this.ctx.arc(x * this.resolution, y * this.resolution, radius * this.resolution, 0, 2 * Math.PI);\n        this.fillColor(this.fillStyle || '#000000')\n        this.ctx.fill();\n        this.ctx.stroke();\n        this.ctx.closePath();\n        this.lineColor(lineColor)\n    }\n    /**\n     * 设置绘制文本字号\n     * @param size 字号大小\n     */\n    fontSize(size) {\n        this.ctx.font = `${size * this.resolution}px sans-serif`\n    }\n    /**\n     * 设置绘制文本颜色\n     * @param colorHex 字号色值\n     */\n    textColor(colorHex) {\n        this.textFillStyle = colorHex\n    }\n    /**\n     * 绘制文字\n     * @param text 文案\n     * @param x 文本左上角坐标x值 , 支持px，hm 单位， 如果不写单位就是dp\n     * @param y 文本左上角坐标点的y值，支持px，hm 单位， 如果不写单位就是dp\n     * @param maxWidth 文本换行的最大宽度, 0 代表不换行,支持px，hm 单位， 如果不写单位就是dp\n     */\n    fillText(text, x, y, maxWidth) {\n        x = formatPureNumberPxUnit(x)\n        y = formatPureNumberPxUnit(y)\n        maxWidth = formatPureNumberPxUnit(maxWidth)\n        this.ctx.beginPath()\n        this.ctx.textBaseline = \"top\"\n        this.ctx.fillStyle = this.textFillStyle\n        this.ctx.fillText(text, x * this.resolution, y * this.resolution, maxWidth * this.resolution)\n    }\n    /**\n     * 绘制图片\n     * @param src 图片资源链接,远程url或本地图片名\n     * @param x 图片左上角坐标x值 , 支持px，hm 单位， 如果不写单位就是dp\n     * @param y 图片左上角坐标点的y值，支持px，hm 单位， 如果不写单位就是dp\n     * @param width 图片宽 ,支持px，hm 单位， 如果不写单位就是dp\n     * @param height 图片高 ,支持px，hm 单位， 如果不写单位就是dp\n     */\n    drawImage(src, x, y, width, height) {\n        x = formatPureNumberPxUnit(x)\n        y = formatPureNumberPxUnit(y)\n        width = formatPureNumberPxUnit(width)\n        height = formatPureNumberPxUnit(height)\n        var img = new Image();\n        img.src = src;\n        img.onload = () => {\n            this.ctx.beginPath()\n            this.ctx.drawImage(img, x * this.resolution, y * this.resolution, width * this.resolution, height * this.resolution)\n        }\n    }\n}\n"],"names":["Environment","constructor","this","appName","safeAreaBottom","appVersion","deviceHeight","self","top","document","body","offsetHeight","window","screen","height","deviceWidth","offsetWidth","width","availableHeight","availHeight","availableWidth","availWidth","statusBarHeight","osVersion","platform","scale","devicePixelRatio","remUEWidthInPixel","remUEWidthInPixelRatio","model","extraParams","system","brand","NotifyCenter","addEventListener","key","listener","listeners","push","removeEventListener","filter","_listener","triggerEvent","args","forEach","target","formatUnit","size","test","indexOf","parseFloat","replace","Hummer","env","match","word","split","formatPureNumberPxUnit","formatUnitResult","inIframe","formatWebPureNumberPxUnit","nodeObserver","node","callback","ResizeObserver","mutations","observe","getQueryVariable","url","vars","location","search","substring","i","length","pair","debounce","func","wait","flag","timer","that","arguments","callnow","apply","clearTimeout","setTimeout","getStyle","elem","attr","attrStyle","currentStyle","defaultView","getComputedStyle","exec","HummerGlobal","notifyCenter","pageInfo","JSON","parse","decodeURIComponent","setTitle","setNavigationBarMode","mode","setNavigationBarColor","color","setScrollTracker","view","options","arWidgetDisplay","isDisplay","setBasicWidth","render","page","getElementsByTagName","appendChild","event","CustomEvent","dispatchEvent","isWebSimulator","onScroll","elementhighlight","ObserverFunc","MutationObserver","WebkitMutationObserver","observer","mutationsList","onmessage","e","openElementMap","data","style","cursor","elementClick","bind","disconnect","targetNode","config","attributes","childList","subtree","preventDefault","stopImmediatePropagation","__view_id","scroller","getScroller","nodeInfo","display","position","right","bottom","left","marginTop","marginRight","marginBottom","marginLeft","borderTopWidth","borderRightWidth","borderBottomWidth","borderLeftWidth","paddingTop","paddingRight","paddingBottom","paddingLeft","contentWidth","parseInt","contentHeight","windowTop","getBoundingClientRect","windowLeft","nodeName","toLowerCase","id","className","nodeType","tagName","parent","postMessage","parentNode","globalThis","BasicAnimation","path","on","type","onstart","onend","ImagePicker","takePhoto","filePath","pickImage","module","hammerModule","exportName","undefined","assign","VENDOR_PREFIXES","TEST_ELEMENT","createElement","round","Math","abs","now","Date","setTimeoutContext","fn","timeout","context","bindFn","invokeArrayArg","arg","Array","isArray","each","obj","iterator","call","hasOwnProperty","deprecate","method","name","message","deprecationMessage","Error","stack","log","console","warn","Object","TypeError","output","index","source","nextKey","extend","dest","src","merge","keys","inherit","child","base","properties","childP","baseP","prototype","create","_super","boolOrFn","val","ifUndefined","val1","val2","addEventListeners","types","handler","splitStr","removeEventListeners","hasParent","inStr","str","find","trim","inArray","findByKey","toArray","slice","uniqueArray","sort","results","values","a","b","prefixed","property","prefix","prop","camelProp","toUpperCase","_uniqueId","getWindowForElement","element","doc","ownerDocument","parentWindow","SUPPORT_TOUCH","SUPPORT_POINTER_EVENTS","SUPPORT_ONLY_TOUCH","navigator","userAgent","INPUT_TYPE_TOUCH","INPUT_TYPE_MOUSE","DIRECTION_VERTICAL","DIRECTION_UP","PROPS_XY","PROPS_CLIENT_XY","Input","manager","inputTarget","domHandler","ev","enable","init","inputHandler","eventType","input","pointersLen","pointers","changedPointersLen","changedPointers","isFirst","isFinal","session","pointersLength","firstInput","simpleCloneInputData","firstMultiple","offsetCenter","center","getCenter","timeStamp","deltaTime","angle","getAngle","distance","getDistance","offset","offsetDelta","prevDelta","prevInput","x","deltaX","y","deltaY","computeDeltaXY","offsetDirection","getDirection","start","end","overallVelocity","getVelocity","overallVelocityX","overallVelocityY","rotation","getRotation","maxPointers","velocity","velocityX","velocityY","direction","last","lastInterval","v","computeIntervalInputData","srcEvent","computeInputData","emit","recognize","clientX","clientY","p1","p2","props","sqrt","atan2","PI","evEl","evTarget","evWin","destroy","MOUSE_INPUT_MAP","mousedown","mousemove","mouseup","MOUSE_ELEMENT_EVENTS","MOUSE_WINDOW_EVENTS","MouseInput","pressed","button","which","pointerType","POINTER_INPUT_MAP","pointerdown","pointermove","pointerup","pointercancel","pointerout","IE10_POINTER_TYPE_ENUM","POINTER_ELEMENT_EVENTS","POINTER_WINDOW_EVENTS","PointerEventInput","store","pointerEvents","MSPointerEvent","PointerEvent","removePointer","eventTypeNormalized","isTouch","storeIndex","pointerId","splice","SINGLE_TOUCH_INPUT_MAP","touchstart","touchmove","touchend","touchcancel","SINGLE_TOUCH_TARGET_EVENTS","SINGLE_TOUCH_WINDOW_EVENTS","SingleTouchInput","started","normalizeSingleTouches","all","touches","changed","changedTouches","concat","TOUCH_INPUT_MAP","TOUCH_TARGET_EVENTS","TouchInput","targetIds","getTouches","allTouches","identifier","targetTouches","changedTargetTouches","touch","TouchMouseInput","mouse","primaryTouch","lastTouches","recordTouches","eventData","setLastTouch","lastTouch","lts","isSyntheticEvent","t","dx","dy","inputEvent","inputData","isMouse","sourceCapabilities","firesTouchEvents","PREFIXED_TOUCH_ACTION","NATIVE_TOUCH_ACTION","TOUCH_ACTION_COMPUTE","TOUCH_ACTION_AUTO","TOUCH_ACTION_MANIPULATION","TOUCH_ACTION_NONE","TOUCH_ACTION_PAN_X","TOUCH_ACTION_PAN_Y","TOUCH_ACTION_MAP","touchMap","cssSupports","CSS","supports","getTouchActionProps","TouchAction","value","set","compute","actions","update","touchAction","recognizers","recognizer","getTouchAction","hasPanX","hasPanY","cleanTouchActions","join","preventDefaults","prevented","hasNone","isTapPointer","isTapMovement","isTapTouchTime","DIRECTION_LEFT","preventSrc","STATE_FAILED","Recognizer","defaults","state","simultaneous","requireFail","stateStr","directionStr","getRecognizerByNameIfManager","otherRecognizer","get","AttrRecognizer","PanRecognizer","pX","pY","PinchRecognizer","PressRecognizer","_timer","_input","RotateRecognizer","SwipeRecognizer","TapRecognizer","pTime","pCenter","count","Hammer","preset","Manager","handlers","oldCssProps","inputClass","toggleCssProps","item","add","recognizeWith","requireFailure","cssProps","dropRecognizeWith","dropRequireFailure","hasRequireFailures","canRecognizeWith","additionalEvent","tryEmit","canEmit","inputDataClone","reset","process","attrTest","optionPointers","isRecognized","isValid","threshold","DIRECTION_HORIZONTAL","directionTest","hasMoved","inOut","time","validPointers","validMovement","validTime","taps","interval","posThreshold","validTouchTime","failTimeout","validInterval","validMultiTap","tapCount","VERSION","domEvents","userSelect","touchSelect","touchCallout","contentZooming","userDrag","tapHighlightColor","stop","force","stopped","curRecognizer","existing","remove","events","off","gestureEvent","createEvent","initEvent","gesture","triggerDomEvent","INPUT_START","INPUT_MOVE","INPUT_END","INPUT_CANCEL","STATE_POSSIBLE","STATE_BEGAN","STATE_CHANGED","STATE_ENDED","STATE_RECOGNIZED","STATE_CANCELLED","DIRECTION_NONE","DIRECTION_RIGHT","DIRECTION_DOWN","DIRECTION_ALL","Tap","Pan","Swipe","Pinch","Rotate","Press","exports","InputState","PanState","PinchState","SwipeState","TapState","TouchState","LongPressState","ScrollState","hammer","Event","InputEvent","PanEvent","PinchEvent","SwipeEvent","TapEvent","TouchEvent","LongPressEvent","ScrollEvent","KeyframeAnimation","isNeedUnitTrasform","list","map","$0","makeMapByArrOfKebab","transformUnit","replaceAll","transformUnitValue","styleTransformer","registerMiddleware","use","middleware","middlewares","transformStyle","tempStyle","result","SIZE_STYLE","View","viewID","backgroundUrl","urlReg","ColorReg","createNode","_enabled","subViews","Set","eventListeners","animations","_style","Proxy","newBackgroundUrl","newBackgroundColor","backgroundColor","defaultStyle","initialize","onCreate","onAppear","onDisappear","visibilityChange","onBack","history","pushState","URL","interceptBack","navBar","navBarTitle","navBarBack","onclick","go","innerHTML","pathname","referrer","childNodes","flex","insertBefore","visibilityState","_onDestoryed","playBasicAnimation","animation","keyframes","getBasicAnimationKeyFrameAnimationOptions","animate","onfinish","basicAnimationArray","shift","play","formatBasicAnimation","oldKeyNum","newBasicAnimationArray","numSize","keyNum","classList","enabled","disabled","deepStyle","stringify","standardStyle","finalize","_onMounted","onMounted","onDestoryed","onDestroy","subview","removeChild","removeAll","existingView","replaceChild","newSubview","oldSubview","getElementById","press","timestamp","BEGAN","pressup","ENDED","oldDeltaX","oldDeltaY","panstart","translation","panmove","CHANGED","panend","pancancel","CANCELLED","pinchstart","pinchmove","pinchend","pinchcancel","swipeleft","swiperight","swipeup","swipedown","tap","text","focus","blur","scroll","stopPropagation","addAnimation","getKeyframeAnimationOptions","getRect","offsetLeft","offsetTop","windowRight","windowBottom","dbg_highlight","isHighlight","resetStyle","requestViewWidth","requestViewHeight","getBasicAnimationDefaultKeyframeAnimationOptions","ani","playKeyframes","endKeyframes","convertPath","convertPathValue","easing","fill","delay","duration","iterations","repeatCount","percent","Image","super","backgroundSize","setImageResizeMode","backgroundRepeat","backgroundPosition","_src","backgroundImage","gifSrc","_gifSrc","gifRepeatCount","onload","ToastThis","customView","show","msg","toastTimer","opacity","hide","custom","Dialog","alertView","alertViewMsg","alertViewBtn","loadingView","loadingViewIcon","loadingViewText","confirmView","confirmViewText","confirmViewOkBtn","confirmViewCancelBtn","resize","ontouchend","cancelable","dismiss","alert","btnText","children","confirm","title","okBtnText","cancelBtnText","okCallback","cancelCallback","loading","Toast","Location","getLastLocation","startLocation","intervalTime","intervalDistance","stopLocation","onError","Memory","sessionStorage","setItem","getItem","getAll","sessionKeys","sessionAll","removeItem","clear","exist","Navigator","openPage","cloneOptions","navbar","host","encodeURIComponent","re","RegExp","separator","updateQueryStringParameter","closeSelf","popPage","popToPage","popToRootPage","historyLen","popBack","Phone","phoneNum","Response","Request","send","xhr","XMLHttpRequest","getData","param","open","setRequestHeader","withCredentials","header","ontimeout","response","status","request","onerror","responseType","responseXML","responseText","statusText","error","code","arr","getAllResponseHeaders","headerMap","line","parts","WebSocket","Storage","localStorage","storageKeys","storageAll","Timer","setInterval","intervalTimer","clearInterval","timeoutTimer","SwitchEvent","Button","justifyContent","pressEvent","_beforePressedStyle","reduce","pre","curr","pressUpEvent","innerText","_beforeDisabledStyle","_disabled","_pressedStyle","Carousel","onPageChange","onItemClick","onItemView","extendStatics","d","setPrototypeOf","__proto__","p","__extends","__","__assign","s","n","__awaiter","thisArg","_arguments","P","generator","Promise","resolve","reject","fulfilled","step","next","rejected","done","then","__generator","f","g","_","label","sent","trys","ops","verb","throw","return","Symbol","op","pop","__spreadArrays","il","r","k","j","jl","propertiesConfig$7","sourceKey","assert","condition","inBrowser","ua","isWeChatDevTools","isAndroid","isIOSBadVersion","matches","supportsPassive","opts","defineProperty","getNow","performance","timing","navigationStart","isUndef","between","min","max","findIndex","ary","some","ret","elementStyle","vendor","_i","transformNames_1","prefixStyle","charAt","substr","getElement","el","querySelector","addEvent","capture","useCapture","passive","removeEvent","offsetParent","cssVendor","transform","transition","hasPerspective","hasTouch","hasTransition","transitionTimingFunction","transitionDuration","transitionDelay","transformOrigin","transitionEnd","transitionProperty","eventTypeMap","SVGElement","rect","preventDefaultExceptionFn","exceptions","tagExceptionFn","click","eventSource","posSrc","screenX","screenY","pressedKeysMap","ctrlKey","shiftKey","altKey","metaKey","MouseEvent","bubbles","forwardedTouchEvent","_constructed","hasClass","ease","swipe","swipeBounce","bounce","windowCompat","noop$1","requestAnimationFrame","webkitRequestAnimationFrame","mozRequestAnimationFrame","oRequestAnimationFrame","cancelAnimationFrame","webkitCancelAnimationFrame","mozCancelAnimationFrame","oCancelAnimationFrame","noop","sharedPropertyDefinition","enumerable","configurable","EventEmitter","names","eventTypes","registerType","hasType","once","_this","magic","trigger","len","eventsCopy","event_1","EventRegister","wrapper","addDOMEvents","removeDOMEvents","handleDOMEvents","eventOperation","handleEvent","OptionsConstructor","startX","startY","scrollX","scrollY","freeScroll","directionLockThreshold","eventPassthrough","dblclick","bounceTime","momentum","momentumLimitTime","momentumLimitDistance","swipeTime","swipeBounceTime","deceleration","flickLimitTime","flickLimitDistance","resizePolling","probeType","preventDefaultException","tagException","HWCompositing","useTransition","bindToWrapper","bindToTarget","disableMouse","disableTouch","autoBlur","autoEndDistance","outOfBoundaryDampingFactor","specifiedIndexAsContent","quadrant","resolveBounce","translateZ","bounceOptions","DEFAULT_BOUNCE","ActionsHandler","hooks","_a","wrapperEvents","targetEvents","shouldRegisterTouch","shouldRegisterMouse","move","wrapperEventRegister","targetEventRegister","beforeHandler","setInitiated","initiated","_eventType","beforeStart","point","pointX","pageX","pointY","pageY","scrollLeft","documentElement","pageXOffset","scrollTop","pageYOffset","clientWidth","clientHeight","setContent","content","rebindDOMEvents","translaterMetaData","Translater","getComputedPosition","matrix","translate","transformFnName","transformFnArgUnit","transformFnArg","beforeTranslate","Base","translater","endPoint","setPending","pending","setForceStopped","forceStopped","setCallStop","called","callStopWhenPending","clearTimer","Transition","startProbe","startPoint","prePos","probe","pos","currentPos","computeDirection","endValue","startValue","delta","directionX","directionY","isValidPostion","transitionTime","timeFunction","easingFn","isRealtimeProbeType","_reflow","doStop","forceStop","callStop","Animation","startTime","destTime","newPoint","_b","_c","_d","Behavior","refresh","dist","setMovingDirection","setDirection","hasScroll","performDampingAlgorithm","movingDirection","dampingFactor","newPos","minScrollPos","maxScrollPos","bounces","momentumInfo","absDist","startPos","wrapperSize","destination","current","lowerMargin","upperMargin","speed","momentumData","rate","updateDirection","absStartPos","isWrapperStatic","wrapperRect","contentRect","contentSize","relativeOffset","computeBoundary","resetState","resetStartPos","beforeComputeBoundary","boundary","scrollable","updatePosition","getCurrentPos","checkInBoundary","adjustPosition","inBoundary","ignoreHasScroll","updateStartPos","updateAbsStartPos","getAbsDist","PassthroughHandlers","DirectionMap","DirectionLockAction","directionLocked","checkMovingDirection","absDistX","absDistY","computeDirectionLock","handleEventPassthrough","adjustDelta","handleMap","ScrollerActions","scrollBehaviorX","scrollBehaviorY","actionsHandler","animater","directionLockAction","bindActionsHandler","handleStart","applyQuadrantTransformation","transformateDeltaData","coordinateTransformation","handleMove","handleEnd","handleClick","fingerMoved","contentMoved","beforeMove","checkMomentum","prevX","newX","prevY","newY","detectMovingDirection","positionChanged","contentNotMoved","scrollStart","dispatchScroll","endTime","beforeEnd","ensureIntegerPos","scrollEnd","ensuringInteger","minScrollPosX","maxScrollPosX","minScrollPosY","maxScrollPosY","ceil","floor","createBehaviorOptions","bsOptions","extraProp","prev","cur","bubbling","sourceEvent","targetEvent","Scroller","resizeTimeout","animaterOptions","createAnimater","resizeHandler","resizeRegister","registerTransitionEnd","bindTranslater","bindAnimater","bindActions","togglePointerEvents","transitionEndRegister","prevPos","updatePositions","resetPosition","beforeScrollStart","touchEnd","scrollCancel","checkClick","checkFlick","flick","meta","swiper","momentumX","momentumY","scrollTo","_dblclick","dblclickTrigged","lastClickTime","eventName","isBScrollContainer","contentChanged","beforeRefresh","wrapperOffset","scrollBy","extraTransform","keys_1","isSamePoint","minDistanceScroll","scrollToElement","offsetX","offsetY","targetEle","getOffset","getPos","wrapperPos","scrollBehavior","xInBoundary","yInBoundary","reflow","disable","BScrollConstructor","plugins","valid","ctor","pluginName","plugin","pluginsMap","applyOrder","eventBubbling","handleAutoBlur","proxy","applyPlugins","refreshWithoutReset","beforeInitialScrollTo","applyOrderMap","activeElement","propertiesConfig","lastKey","getProperty","temp","setProperty","propertiesProxy","eventRegister","createBScroll","BScroll","MouseWheel","wheelEndTimer","wheelMoveTimer","wheelStart","handleBScroll","handleOptions","handleHooks","registerEvent","userOptions","mouseWheel","mouseWheelOpt","invert","easeTime","discreteTime","throttleTime","hooksFn","registerHooks","wheelHandler","wheelStartHandler","getWheelDelta","wheelMoveHandler","wheelEndDetector","cleanCache","alterOptions","mousewheelStart","deltaCache","cachedDelta","mousewheelMove","getEaseTime","mousewheelEnd","wheelDeltaX","wheelDeltaY","deltaMode","wheelDelta","detail","hasVerticalScroll","hasHorizontalScroll","hooksName","handlerFn","ObserveDOM","stopObserver","handleMutationObserver","mutationObserverHandler","startObserve","checkDOMUpdate","stopObserve","shouldNotRefresh","immediateRefresh","deferredRefresh","mutation","outsideBoundaries","oldWidth","oldHeight","newWidth","newHeight","check","propertiesConfig$6","sourcePrefix$6","PullDown","pulling","thresholdBoundary","setPulling","setThresholdBoundary","pullDownRefresh","watch","currentMinScrollY","cachedOriginanMinScrollY","finishPullDown","hasMouseWheelPlugin","mouseWheelOptions","watching","checkPullDown","resetStateBeforeScrollStart","checkLocationOfThresholdBoundary","isFetchingStatus","scroll_1","enteredThresholdBoundary","locateInsideThresholdBoundary","leftThresholdBoundary","unwatch","modifyBehaviorYBoundary","stopDistance","openPullDown","closePullDown","autoPullDownRefresh","propertiesConfig$5","sourcePrefix$5","PullUp","pullUpLoad","finishPullUp","checkPullUp","movingDirectionY","maxScrollY","openPullUp","closePullUp","autoPullUpLoad","outOfBoundaryPos","EventHandler","indicator","registerEvents","startEvents","moveEvents","endEvents","startEventRegister","indicatorEl","moveEventRegister","endEventRegister","BScrollIsDisabled","lastPoint","keysMap","touchStart","pointPos","touchMove","Indicator$1","Indicator","getKeysMap","handleFade","fade","interactive","scrollbarTrackClickable","scrollHooks","translaterHooks","animaterHooks","hasScrollKey","eventHandler","eventHandlerHooks","startHandler","moveHandler","endHandler","bindClick","clickEventRegister","calculateclickOffsetPos","scrollbarTrackOffsetTime","poinKey","domRectKey","domRect","scrollbarTrackOffsetType","clickPointOffset","scrollToWhere","scrollInfo","baseSize","scrollerSize","translateProperty","visible","fadeInTime","fadeOutTime","canScroll","wrapperSizeKey","scrollerSizeKey","maxScrollPosKey","refreshScrollInfo","indicatorElSize","minSize","isCustom","maxIndicatorScrollPos","sizeRatio","caculatePosAndSize","refreshStyle","posKey","translatePropertyKey","sizeKey","moved","indicatorNotMoved","syncBScroll","minScrollY","maxScrollX","minScrollX","ScrollBar","createIndicators","indicators","scrollbar","customElements","indicatorOptions","scrollDirectionConfigKeys","indicatorDirections","customScrollbarEls","customElement","scrollbarWrapper","createScrollbarElement","scrollbarWrapperEl","scrollbarIndicatorEl","cssText","PagesMatrix","wrapperWidth","wrapperHeight","scrollerHeight","scrollerWidth","pages","buildPagesMatrix","pageLengthOfX","pageLengthOfY","getPageStats","getNearestPageIndex","l","cx","cy","stepX","stepY","BASE_PAGE","SlidePages","slideOptions","slideX","slideY","currentPage","pagesMatrix","checkSlideLoop","getAdjustedCurrentPage","loopX","loopY","setCurrentPage","newPage","getInternalPage","getInitialPage","showFirstPage","firstInitialised","startPageXIndex","startPageYIndex","firstPageX","firstPageY","getExposedPage","exposedPage","fixedPage","getExposedPageByPageIndex","pageIndexX","pageIndexY","getWillChangedPage","realPageLen","pageIndex","unshift","getValidPageIndex","lastX","lastY","firstX","firstY","nextPageIndex","getPageIndexByDirection","prevPageIndex","getNearestPage","getPageByDirection","resetLoopPage","wannaLoop","loop","propertiesConfig$4","sourcePrefix$4","Slide","cachedClonedPageDOM","resetLooping","autoplayTimer","satisfyInitialization","willChangeToPage","createPages","slide","defaultOptions","listenFlick","autoplay","handleLoop","prevSlideContent","slideContent","currentSlidePagesLength","resetLoopChangedStatus","removeClonedSlidePage","cloneFirstAndLastSlidePage","initialised","moreToOnePageInLoop","oneToMorePagesInLoop","scrollerHooks","prevContent","pausePlay","modifyCurrentPage","startPlay","refreshHandler","setSlideInlineStyle","modifyScrollMetaHandler","scrollHandler","flickHandler","slideWrapper","scrollOptions","sizeType","styleType","length_1","goTo","goToPage","getCurrentPage","nearestPage","satisfyThreshold","satisfied","thresholdX","thresholdY","computeThreshold","initPage","firstChild","preprendDOM","cloneNode","appendDOM","before","prevExposedPageX","prevExposedPageY","currentExposedPageX","currentExposedPageY","pageWillChangeTo","slidePageChanged","changePage","scrollEasing","currentPosX","startPosX","currentPosY","startPosY","scrollMeta","changeToPage","slideWillChange","propertiesConfig$3","sourcePrefix$3","CONSTANTS","Wheel","refreshBoundary","setSelectedIndex","selectedIndex","wheel","wheelWrapperClass","wheelItemClass","rotate","adjustTime","wheelDisabledItemClass","findNearestValidWheel","isAdjustingPosition","items","rotateX","wheelTo","itemHeight","checkWheelAllDisabled","validWheel","prevSelectedIndex","getSelectedIndex","restorePosition","SafeDeg","toFixed","currentIndex","cacheIndex","wheelDisabledItemClassName","wheelItemsAllDisabled","propertiesConfig$2","sourcePrefix$2","Zoom","prevScale","tryInitialZoomTo","zoomOpt","zoomTo","resolveOrigin","origin","originX","originY","baseScale","_doZoomTo","zoom","initialOrigin","minimalZoomDistance","setTransformOrigin","numberOfFingers","fingersOperation","zoomStart","zoomEnd","resetBoundaries","amounts","useCurrentPos","fromScale","toScale","timer_1","startTime_1","endTime_1","scheduler_1","zooming","currentScale","_zoomTo","ratio","setScale","getNewPos","resolveFormula","firstFinger","secondFinger","startDistance","getFingerDistance","startScale","beforeZoomStart","currentDistance","zoomed","endScale","dampingScale","shouldRebound","pow","scrollBehaviorPairs","behavior","lastScale","shouldInBoundary","BScrollFamily","ancestors","descendants","hooksManager","analyzed","selfScroll","hasAncestors","bscrollFamily","hasDescendants","addAncestor","addDescendant","removeAncestor","removeDescendant","hook","setAnalyzed","purge","propertiesConfig$1","sourcePrefix$1","enableScrollHander","scrolls","disableScrollHander","currentScroll","calculateDistance","childNode","NestedScroll","groupId","instance","instancesMap","getAllNestedScrolls","purgeAllNestedScrolls","ns","purgeNestedScroll","nestedScroll","groupIdType","addBScroll","buildBScrollGraph","analyzeBScrollGraph","ensureEventInvokeSequence","deleteScroll","bf1","bf2","wrapper1","wrapper2","contains","ancestorScrolls","descendantScrolls","resetPositionHandler","syncTouchstartData","selfActionsHooks","movingDirectionX","parentScroll","otherAncestorScrolls","isTopScroll","IndexCalculator","tombstoneHeight","lastDirection","lastPos","calculate","calculateIndex","tombstone","ListItem","dom","DataManager","fetchFn","onFetchFinish","loadedNum","fetching","hasMore","addEmptyData","checkToFetch","fetch","newData","currentEnd","getList","Tombstone","cached","initialed","getSize","isTombstone","getOne","tombstoneStyle","recycle","tombstones","tombstones_1","recycleOne","DomManager","renderFn","unusedDom","timers","collectUnusedDom","createDom","cacheHeight","positionDom","startDelta","endPos","tombstoneEles","getStartPos","timerId","i_1","originPos","removeTombstone","querySelectorAll","InfinityScroll","createTombstoneFn","createTombstone","indexCalculator","domManager","dataManager","modifyBoundary","infinityOptions","infinity","updateDom","sourcePrefix","Movable","putAt","resolvePostion","ObserveImage","refreshTimer","observeImage","bindEventsToWrapper","debounceTime","imageLoadEventRegister","load","imageErrorEventRegister","handleBubbleAndCancelable","handleDOM","handleInteractive","relationElement","relationElementHandleElementIndex","ratioConfig","maxBScrollX","maxBScrollY","ratioX","ratioY","indicatorWidth","indicatorHeight","translateXSign","translateYSign","lastPointX","lastPointY","getBScrollPosByRatio","currentX","currentY","BScrollMinScrollX","BScrollMaxScrollX","BScrollMinScrollY","BScrollMaxScrollY","newPosX","newPosY","xNotMoved","yNotMoved","BScrollPos","newIndicatorPos","getIndicatorPosByRatio","applyTransformProperty","transformProperties","roundX","roundY","Indicators","UserIndicatorsOptions","UserIndicatorsOptions_1","HorizontalScroller","bscroll","showScrollBar","_showScrollBar","_bounces","refreshListView","observeDOM","registerBsScrollEvent","oldOffsetY","oldOffsetX","SCROLL","SCROLL_UP","scrollToTop","scrollToBottom","setOnScrollToTopListener","setOnScrollToBottomListener","updateContentSize","INPUT_SIZE_STYLE","maxLength","changePlaceholder","fontSize","placeholderColor","caretColor","_randomPlaceholderClass","_placeholderCssIndex","styleSheets","insertRule","cssRules","focused","placeholder","List","recyclerView","rowCount","scrollDirection","refreshView","computeElement","refreshGridView","refreshWaterfallView","scrollToPosition","_listRows","row","column","_gridRows","_waterfalls","stopPullRefresh","isMoreData","onRefresh","stopLoadMore","onLoadMore","from","onRegister","loadMoreView","cell","onUpdate","lineSpacing","flexDirection","bscrollInit","col","itemSpacing","cols","getElementsByClassName","parentOffsetTop","parentElement","parentOffsetLeft","colsArr","posArr","minIndex","pullflag","characterData","Switch","checked","switchBtn","borderColor","circle","bindEvents","addChangeEvent","changeCbk","onColor","circleWidth","offColor","Text","verticalAlign","lineHeight","overflow","richText","parseRichText","formattedText","image","alt","alignSelf","imageAlign","imageWidth","imageHeight","hrefColor","fontFamily","fontWeight","textDecoration","href","TextArea","rows","autoTextarea","removeAutoTextarea","changeHandler","change","isFirefox","getBoxObjectFor","isOpera","opera","toString","minHeight","padding","_length","scrollHeight","overflowY","currHeight","swiperModule","isObject$1","extend$1","ssrDocument","setAttribute","createElementNS","importNode","hash","hostname","protocol","getDocument","ssrWindow","replaceState","back","getPropertyValue","matchMedia","getWindow","win","makeReactive","proto","Dom7","arrayFlat","res","arrayFilter","arrayUnique","qsa","selector","$","html","toCreate","tempParent","addClass","classes","classNames","c","removeClass","toggleClass","toggle","attrs","getAttribute","attrName","removeAttr","removeAttribute","transition$1","targetSelector","handleLiveEvent","dom7EventData","is","parents","dom7LiveListeners","proxyListener","dom7Listeners","dom7proxy","evt","dataIndex","transitionEnd$1","fireCallBack","outerWidth","includeMargins","styles","outerHeight","box","clientTop","clientLeft","css","textContent","compareWith","webkitMatchesSelector","msMatchesSelector","previousSibling","eq","returnIndex","append","els","newChild","tempDiv","prepend","nextElementSibling","nextAll","nextEls","previousElementSibling","prevAll","prevEls","closest","foundElements","found","Methods","deleteProps","object","nextTick","getComputedStyle$1","getTranslate","axis","curTransform","transformMatrix","curStyle","WebKitCSSMatrix","webkitTransform","MozTransform","OTransform","MsTransform","msTransform","m41","m42","isObject","o","isNode","HTMLElement","to","noExtend","nextSource","keysArray","nextIndex","desc","getOwnPropertyDescriptor","__swiper__","setCSSProperty","varName","varValue","animateCSSModeScroll","targetPosition","side","startPosition","params","wrapperEl","scrollSnapType","cssModeFrameID","dir","isOutOfBound","getTime","progress","easeProgress","cos","currentPosition","support","deviceCached","browser","calcSupport","smoothScroll","DocumentTouch","passiveListener","gestures","getSupport","calcDevice","device","ios","android","screenWidth","screenHeight","ipad","ipod","iphone","windows","macos","iPadScreens","os","getDevice","overrides","calcBrowser","isSafari","isWebView","getBrowser","Resize","destroyed","initialized","createObserver","entries","contentBoxSize","inlineSize","blockSize","removeObserver","unobserve","orientationChangeHandler","resizeObserver","Observer","extendParams","observers","attach","observerUpdate","observeParents","containerParents","$el","observeSlideChildren","$wrapperEl","methodName","writable","eventsEmitter","priority","eventsListeners","onceHandler","__emitterProxy","onAny","eventsAnyListeners","offAny","updateSize","isHorizontal","isVertical","Number","isNaN","updateSlides","getDirectionLabel","getDirectionPropertyValue","swiperSize","rtlTranslate","rtl","wrongRTL","isVirtual","virtual","previousSlidesLength","slides","slideClass","slidesLength","snapGrid","slidesGrid","slidesSizesGrid","offsetBefore","slidesOffsetBefore","offsetAfter","slidesOffsetAfter","previousSnapGridLength","previousSlidesGridLength","spaceBetween","slidePosition","prevSlideSize","virtualSize","centeredSlides","cssMode","gridEnabled","grid","slideSize","initSlides","shouldResetSlideSize","slidesPerView","breakpoints","updateSlide","slideStyles","currentTransform","currentWebKitTransform","roundLengths","boxSizing","swiperSlideSize","slidesPerGroup","slidesPerGroupSkip","effect","setWrapperSize","updateWrapperSize","newSlidesGrid","slidesGridItem","slideIndex","centeredSlidesBounds","allSlidesSize","slideSizeValue","maxSnap","snap","centerInsufficientSlides","allSlidesOffset","snapIndex","addToSnapGrid","addToSlidesGrid","watchOverflow","checkOverflow","watchSlidesProgress","updateSlidesOffset","updateAutoHeight","activeSlides","setTransition","getSlideByIndex","visibleSlides","activeIndex","swiperSlideOffset","updateSlidesProgress","slideVisibleClass","visibleSlidesIndexes","slideOffset","slideProgress","minTranslate","originalSlideProgress","slideBefore","slideAfter","originalProgress","updateProgress","multiplier","translatesDiff","maxTranslate","isBeginning","isEnd","wasBeginning","wasEnd","autoHeight","updateSlidesClasses","realIndex","activeSlide","slideActiveClass","slideNextClass","slidePrevClass","slideDuplicateActiveClass","slideDuplicateNextClass","slideDuplicatePrevClass","slideDuplicateClass","nextSlide","prevSlide","emitSlidesClasses","updateActiveIndex","newActiveIndex","previousIndex","previousRealIndex","previousSnapIndex","normalizeSlideIndex","skip","runCallbacksOnInit","updateClickedSlide","slideFound","clickedSlide","clickedIndex","slideToClickedSlide","getSwiperTranslate","virtualTranslate","currentTranslate","setTranslate","byController","z","newProgress","previousTranslate","translateTo","runCallbacks","translateBounds","internal","animating","preventInteractionOnTransition","newTranslate","isH","onTranslateToWrapperTransitionEnd","transitionEmit","transitionStart","slideTo","initial","indexAsNumber","isFinite","initialSlide","normalizedTranslate","normalizedGrid","normalizedGridNext","allowSlideNext","allowSlidePrev","_immediateVirtual","_swiperImmediateVirtual","onSlideToWrapperTransitionEnd","slideToLoop","newIndex","loopedSlides","slideNext","perGroup","slidesPerGroupAuto","slidesPerViewDynamic","increment","loopPreventsSlide","loopFix","_clientLeft","slidePrev","normalize","normalizedSnapGrid","prevSnap","prevSnapIndex","prevIndex","slideReset","slideToClosest","currentSnap","slideToIndex","loopCreate","$selector","loopFillGroupWithBlank","blankSlidesNum","blankNode","slideBlankClass","loopAdditionalSlides","prependSlides","appendSlides","diff","loopDestroy","setGrabCursor","moving","simulateTouch","isLocked","touchEventsTarget","unsetGrabCursor","closestElement","__closestFrom","assignedSlot","getRootNode","onTouchStart","touchEventsData","originalEvent","$targetEl","isTouchEvent","isTouched","isMoved","noSwipingClass","shadowRoot","noSwipingSelector","isTargetShadow","noSwiping","allowClick","swipeHandler","edgeSwipeDetection","iOSEdgeSwipeDetection","edgeSwipeThreshold","iOSEdgeSwipeThreshold","innerWidth","allowTouchCallbacks","isScrolling","startMoving","touchStartTime","swipeDirection","allowThresholdMove","focusableElements","shouldPreventDefault","allowTouchMove","touchStartPreventDefault","touchStartForcePreventDefault","isContentEditable","onTouchMove","targetTouch","preventedByNestedSwiper","touchReleaseOnEdges","diffX","diffY","touchAngle","touchMoveStopPropagation","nested","startTranslate","allowMomentumBounce","grabCursor","touchRatio","disableParentSwiper","resistanceRatio","resistance","followFinger","freeMode","onTouchEnd","touchEndTime","timeDiff","pathTree","composedPath","stopIndex","groupSize","longSwipesMs","longSwipes","longSwipesRatio","shortSwipes","navigation","nextEl","prevEl","onResize","setBreakpoint","running","paused","run","onClick","preventClicks","preventClicksPropagation","dummyEventAttached","dummyEventListener","touchEvents","domMethod","swiperMethod","passiveListeners","cancel","updateOnWindowResize","attachEvents","detachEvents","isGridEnabled","breakpoint","getBreakpoint","breakpointsBase","currentBreakpoint","breakpointParams","originalParams","wasMultiRow","isMultiRow","wasEnabled","containerModifierClass","emitContainerClasses","directionChanged","needsReLoop","changeDirection","isEnabled","containerEl","currentHeight","innerHeight","points","minRatio","prepareClasses","resultClasses","addClasses","suffixes","autoheight","centered","removeClasses","loadImage","imageEl","srcset","sizes","checkForComplete","onReady","complete","preloadImages","imagesLoaded","imagesToLoad","updateOnImagesReady","currentSrc","wasLocked","lastSlideIndex","lastSlideRightEdge","createElements","uniqueNavElements","wrapperClass","_emitClasses","moduleExtendParams","allModulesParams","moduleParamName","moduleParams","auto","prototypes","images","extendedDefaults","Swiper","swipers","newParams","modules","__modules__","mod","swiperParams","passedParams","desktop","touchEventsTouch","touchEventsDesktop","clickTimeout","velocities","setProgress","cls","getSlideClasses","slideEl","updates","exact","spv","breakLoop","translateValue","translated","newDirection","needUpdate","currentDirection","mount","mounted","getWrapperSelector","getWrapper","deleteInstance","cleanStyles","static","newDefaults","m","installModule","Virtual","cssModeTimeout","renderSlide","cache","$slideEl","addSlidesBefore","addSlidesAfter","previousFrom","previousTo","previousSlidesGrid","previousOffset","offsetProp","slidesAfter","slidesBefore","onRendered","lazy","renderExternal","slidesToRender","renderExternalUpdate","prependIndexes","appendIndexes","appendSlide","prependSlide","numberOfNewSlides","newCache","cachedIndex","$cachedEl","cachedElIndex","removeSlide","slidesIndexes","removeAllSlides","Keyboard","handle","kc","keyCode","charCode","pageUpDown","keyboard","isPageUp","isPageDown","isArrowLeft","isArrowRight","isArrowUp","isArrowDown","onlyInViewport","inView","swiperWidth","swiperHeight","windowWidth","windowHeight","swiperOffset","swiperCoord","returnValue","Mousewheel","mousewheel","releaseOnEdges","forceToAxis","sensitivity","eventsTarget","thresholdDelta","thresholdTime","lastEventBeforeSnap","lastScrollTime","recentWheelEvents","PIXEL_STEP","LINE_HEIGHT","PAGE_HEIGHT","sX","sY","HORIZONTAL_AXIS","spinX","spinY","pixelX","pixelY","handleMouseEnter","mouseEntered","handleMouseLeave","animateSlider","newEvent","raw","releaseScroll","rtlFactor","positions","sign","ignoreWheelEvents","sticky","prevEvent","firstEvent","snapToThreshold","autoplayDisableOnInteraction","createElementIfNotDefined","checkProps","Navigation","getEl","toggleEl","disabledClass","lockClass","$nextEl","$prevEl","onPrevClick","onNextClick","hideOnClick","hiddenClass","_s","targetEl","pagination","clickable","isHidden","classesToSelector","Pagination","pfx","bulletSize","bulletElement","renderBullet","renderProgressbar","renderFraction","renderCustom","progressbarOpposite","dynamicBullets","dynamicMainBullets","formatFractionCurrent","number","formatFractionTotal","bulletClass","bulletActiveClass","modifierClass","currentClass","totalClass","progressbarFillClass","progressbarOppositeClass","clickableClass","horizontalClass","verticalClass","bullets","dynamicBulletIndex","isPaginationDisabled","setSideBullets","$bulletEl","total","paginationType","firstIndex","lastIndex","midIndex","suffix","bullet","$bullet","bulletIndex","$firstDisplayedBullet","$lastDisplayedBullet","dynamicBulletsLength","bulletsOffset","progressbarDirection","scaleX","scaleY","paginationHTML","numberOfBullets","Scrollbar","dragStartPos","dragSize","trackSize","divider","dragTimeout","$dragEl","newSize","getPointerPosition","setDragPosition","positionRatio","onDragStart","onDragMove","onDragEnd","snapOnRelease","activeListener","eventMethod","enableDraggable","disableDraggable","$swiperEl","dragClass","dragEl","draggable","Parallax","parallax","setTransform","currentOpacity","parallaxEl","$parallaxEl","parallaxDuration","_swiper","maxRatio","containerClass","zoomedSlideClass","gesturesEnabled","fakeGestureTouched","fakeGestureMoved","isScaling","slideWidth","slideHeight","$imageEl","$imageWrapEl","minX","minY","maxX","maxY","touchesStart","touchesCurrent","prevPositionX","prevPositionY","prevTime","getDistanceBetweenTouches","x1","y1","x2","y2","onGestureStart","scaleStart","onGestureChange","scaleMove","onGestureEnd","scaledWidth","scaledHeight","momentumDurationX","momentumDurationY","momentumDistanceX","newPositionX","momentumDistanceY","newPositionY","momentumDuration","onTransitionEnd","zoomIn","touchX","touchY","translateX","translateY","translateMinX","translateMinY","translateMaxX","translateMaxY","zoomOut","zoomToggle","getListeners","activeListenerWithCapture","getSlideSelector","toggleGestures","slideSelector","enableGestures","disableGestures","in","out","Lazy","checkInView","loadPrevNext","loadPrevNextAmount","loadOnTransitionStart","scrollingElement","elementClass","loadingClass","loadedClass","preloaderClass","scrollHandlerAttached","initialImageLoaded","loadInSlide","loadInDuplicate","$images","background","$pictureEl","sourceEl","$source","slideOriginalIndex","slideExist","amount","maxIndex","checkInViewOnLoad","$scrollElement","isWindow","scrollElementWidth","scrollElementHeight","Controller","LinearSpline","binarySearch","guess","array","i1","i3","interpolate","getInterpolateFunction","controller","spline","_t","controlled","control","controlledTranslate","setControlledTranslate","by","inverse","setControlledTransition","removeSpline","A11y","a11y","notificationClass","prevSlideMessage","nextSlideMessage","firstSlideMessage","lastSlideMessage","paginationBulletMessage","slideLabelMessage","containerMessage","containerRoleDescriptionMessage","itemRoleDescriptionMessage","slideRole","liveRegion","notify","notification","getRandomNumber","randomChar","random","repeat","makeElFocusable","makeElNotFocusable","addElRole","role","addElRoleDescription","description","addElControls","controls","addElLabel","addElId","addElLive","live","disableEl","enableEl","onEnterOrSpaceKey","updateNavigation","hasPagination","hasClickablePagination","updatePagination","bulletEl","initNavEl","wrapperId","$containerEl","History","root","paths","slugify","getPathValues","urlOverride","pathArray","part","setHistory","includes","currentState","scrollToSlide","setHistoryPopState","hashNavigation","HashNavigation","watchState","onHashChange","newHash","setHash","Autoplay","$activeSlideEl","autoplayResult","reverseDirection","stopOnLastSlide","pause","waitForTransition","onVisibilityChange","onMouseEnter","disableOnInteraction","onMouseLeave","attachMouseEvents","pauseOnMouseEnter","detachMouseEvents","Thumb","thumbs","multipleActiveThumbs","autoScrollOffset","slideThumbActiveClass","thumbsContainerClass","swiperCreated","onThumbClick","thumbsSwiper","thumbsParams","SwiperClass","thumbsSwiperParams","useOffset","newThumbsIndex","currentThumbsIndex","prevThumbsIndex","nextThumbsIndex","thumbsToActivate","thumbActiveClass","lastMoveEvent","velocityEvent","minimumVelocity","momentumVelocityRatio","momentumRatio","momentumDistance","newPosition","afterBouncePosition","doBounce","bounceAmount","momentumBounceRatio","needsLoopFix","momentumBounce","moveDistance","currentSlideSize","Grid","slidesNumberEvenToRows","slidesPerRow","numFullColumns","newSlideOrderIndex","groupIndex","slideIndexInGroup","columnsInGroup","order","addSlide","activeIndexBuffer","baseLength","slidesBuffer","currentSlide","indexToRemove","Manipulation","effectInit","overwriteParams","perspective","overwriteParamsResult","effectTarget","effectParams","transformEl","effectVirtualTransitionEnd","allSlides","$transitionEndTarget","eventTriggered","triggerEvents","EffectFade","fadeEffect","crossFade","tx","ty","slideOpacity","EffectCube","cubeEffect","slideShadows","shadow","shadowOffset","shadowScale","$cubeShadowEl","wrapperRotate","slideAngle","tz","shadowBefore","shadowAfter","shadowAngle","sin","scale1","scale2","zFactor","createShadow","shadowClass","$shadowContainer","$shadowEl","EffectFlip","flipEffect","limitRotation","rotateY","zIndex","EffectCoverflow","coverflowEffect","stretch","depth","modifier","offsetMultiplier","slideTransform","$shadowBeforeEl","$shadowAfterEl","EffectCreative","creativeEffect","limitProgress","shadowPerProgress","progressMultiplier","getTranslateValue","isCenteredSlides","margin","translateString","rotateString","scaleString","opacityString","shadowOpacity","EffectCards","cardsEffect","tX","tY","tZ","tXAdd","isSwipeToNext","isSwipeToPrev","subProgress","prototypeGroup","protoMethod","factory","global","defaultSetTimout","defaultClearTimeout","cachedSetTimeout","cachedClearTimeout","runTimeout","fun","currentQueue","queue","draining","queueIndex","cleanUpNextTick","drainQueue","marker","runClearTimeout","Item","addListener","removeListener","removeAllListeners","performanceNow","mozNow","msNow","oNow","webkitNow","argv","version","versions","binding","cwd","chdir","umask","hrtime","previousTimestamp","clocktime","seconds","nanoseconds","release","uptime","_Group","_tweens","_tweensAddedDuringUpdate","tweenId","tween","getId","preserve","tweenIds","TWEEN","_isPlaying","Group","_nextId","nextId","Tween","group","_object","_valuesStart","_valuesEnd","_valuesStartRepeat","_duration","_repeat","_repeatDelayTime","_yoyo","_reversed","_delayTime","_startTime","_easingFunction","Easing","Linear","None","_interpolationFunction","Interpolation","_chainedTweens","_onStartCallback","_onStartCallbackFired","_onUpdateCallback","_onRepeatCallback","_onCompleteCallback","_onStopCallback","_group","_id","isPlaying","stopChainedTweens","Infinity","numChainedTweens","times","repeatDelay","yoyo","easingFunction","interpolation","interpolationFunction","chain","onStart","onRepeat","onComplete","onStop","elapsed","tmp","Quadratic","In","Out","InOut","Cubic","Quartic","Quintic","Sinusoidal","Exponential","Circular","Elastic","Back","Bounce","Utils","Bezier","pw","bn","Bernstein","CatmullRom","p0","fc","Factorial","p3","v0","v1","t2","TweenModule","ViewPager","edgeSpacing","loopInterval","autoPlay","_data","Reflect","initSuccess","transitionFlag","canLoop","scaleFactor","alphaFactor","slideChange","slidePrevTransitionStart","slideNextTransitionStart","dataset","swiperSlideIndex","activeProgress","endProgress","sliderMove","onPageScroll","onPageScrollStateChange","setCurrentItem","CanvasView","resolution","ctx","getContext","lineWidth","widthValue","lineCap","lineJoin","lineColor","colorHex","strokeStyle","drawLine","fromX","fromY","toX","toY","beginPath","moveTo","lineTo","stroke","strokeRect","w","h","strokeEllipse","trailX","trailY","centerX","centerY","radiusX","radiusY","ellipse","strokeCircle","radius","arc","closePath","startAngle","endAngle","clockwise","fillColor","fillStyle","fillRect","fillEllipse","fillCircle","font","textColor","textFillStyle","fillText","maxWidth","textBaseline","drawImage","img"],"mappings":"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"}